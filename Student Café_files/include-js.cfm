/*

 handlebars v4.1.2

Copyright (C) 2011-2017 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

 RequireJS 2.3.5 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery v3.4.1 | (c) JS Foundation and other contributors | jquery.org/license  jQuery UI :data 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Disable Selection 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Scroll Parent 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Widget 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Mouse 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery hashchange event - v1.3 - 7/21/2010
 http://benalman.com/projects/jquery-hashchange-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
 inputmask.extensions.js
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2015 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 3.2.3-24
*/
!function(f,d){"object"==typeof module&&"object"==typeof module.exports?module.exports=f.document?d(f,!0):function(f){if(!f.document)throw Error("jQuery requires a window with a document");return d(f)}:d(f)}("undefined"!=typeof window?window:this,function(f,d){function h(a,b,c){var e,g,v=(c=c||P).createElement("script");if(v.text=a,b)for(e in oa)(g=b[e]||b.getAttribute&&b.getAttribute(e))&&v.setAttribute(e,g);c.head.appendChild(v).parentNode.removeChild(v)}function l(a){return null==a?a+"":"object"==
typeof a||"function"==typeof a?Ia[Ta.call(a)]||"object":typeof a}function r(a){var b=!!a&&"length"in a&&a.length,c=l(a);return!F(a)&&!R(a)&&("array"===c||0===b||"number"==typeof b&&0<b&&b-1 in a)}function t(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function k(a,b,c){return F(b)?n.grep(a,function(a,e){return!!b.call(a,e,a)!==c}):b.nodeType?n.grep(a,function(a){return a===b!==c}):"string"!=typeof b?n.grep(a,function(a){return-1<Ua.call(b,a)!==c}):n.filter(b,a,c)}function A(a,
b){for(;(a=a[b])&&1!==a.nodeType;);return a}function y(a){return a}function G(a){throw a;}function D(a,b,c,e){var g;try{a&&F(g=a.promise)?g.call(a).done(b).fail(c):a&&F(g=a.then)?g.call(a,b,c):b.apply(void 0,[a].slice(e))}catch(Ub){c.apply(void 0,[Ub])}}function p(){P.removeEventListener("DOMContentLoaded",p);f.removeEventListener("load",p);n.ready()}function w(a,b){return b.toUpperCase()}function O(a){return a.replace(Db,"ms-").replace(wb,w)}function U(){this.expando=n.expando+U.uid++}function L(a,
b,c){var e,g;if(void 0===c&&1===a.nodeType)if(e="data-"+b.replace(la,"-$&").toLowerCase(),"string"==typeof(c=a.getAttribute(e))){try{c="true"===(g=c)||"false"!==g&&("null"===g?null:g===+g+""?+g:Lb.test(g)?JSON.parse(g):g)}catch(Ub){}Da.set(a,b,c)}else c=void 0;return c}function E(a,b,c,e){var g,v,d=20,m=e?function(){return e.cur()}:function(){return n.css(a,b,"")},q=m(),B=c&&c[3]||(n.cssNumber[b]?"":"px"),J=a.nodeType&&(n.cssNumber[b]||"px"!==B&&+q)&&sb.exec(n.css(a,b));if(J&&J[3]!==B){q/=2;B=B||
J[3];for(J=+q||1;d--;)n.style(a,b,J+B),0>=(1-v)*(1-(v=m()/q||.5))&&(d=0),J/=v;J*=2;n.style(a,b,J+B);c=c||[]}return c&&(J=+J||+q||0,g=c[1]?J+(c[1]+1)*c[2]:+c[2],e&&(e.unit=B,e.start=J,e.end=g)),g}function H(b,c){for(var e,g,v,d,m,q,B,z=[],f=0,I=b.length;f<I;f++)(g=b[f]).style&&(e=g.style.display,c?("none"===e&&(z[f]=S.get(g,"display")||null,z[f]||(g.style.display="")),""===g.style.display&&xb(g)&&(z[f]=(B=m=d=void 0,m=(v=g).ownerDocument,q=v.nodeName,(B=a[q])||(d=m.body.appendChild(m.createElement(q)),
B=n.css(d,"display"),d.parentNode.removeChild(d),"none"===B&&(B="block"),a[q]=B)))):"none"!==e&&(z[f]="none",S.set(g,"display",e)));for(f=0;f<I;f++)null!=z[f]&&(b[f].style.display=z[f]);return b}function N(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&t(a,b)?n.merge([a],c):c}function V(a,b){for(var c=0,e=a.length;c<e;c++)S.set(a[c],"globalEval",!b||S.get(b[c],"globalEval"))}
function W(a,b,d,m,q){for(var v,B,J,f,I=b.createDocumentFragment(),ga=[],ma=0,k=a.length;ma<k;ma++)if((v=a[ma])||0===v)if("object"===l(v))n.merge(ga,v.nodeType?[v]:v);else if(z.test(v)){B=B||I.appendChild(b.createElement("div"));J=(c.exec(v)||["",""])[1].toLowerCase();J=g[J]||g._default;B.innerHTML=J[1]+n.htmlPrefilter(v)+J[2];for(J=J[0];J--;)B=B.lastChild;n.merge(ga,B.childNodes);(B=I.firstChild).textContent=""}else ga.push(b.createTextNode(v));I.textContent="";for(ma=0;v=ga[ma++];)if(m&&-1<n.inArray(v,
m))q&&q.push(v);else if(f=db(v),B=N(I.appendChild(v),"script"),f&&V(B),d)for(J=0;v=B[J++];)e.test(v.type||"")&&d.push(v);return I}function Z(){return!0}function K(){return!1}function aa(a,b){var c;a:{try{c=P.activeElement;break a}catch(ga){}c=void 0}return a===c==("focus"===b)}function ha(a,b,c,e,g,d){var v,m;if("object"==typeof b){for(m in"string"!=typeof c&&(e=e||c,c=void 0),b)ha(a,m,c,e,b[m],d);return a}if(null==e&&null==g?(g=c,e=c=void 0):null==g&&("string"==typeof c?(g=e,e=void 0):(g=e,e=c,c=
void 0)),!1===g)g=K;else if(!g)return a;return 1===d&&(v=g,(g=function(a){return n().off(a),v.apply(this,arguments)}).guid=v.guid||(v.guid=n.guid++)),a.each(function(){n.event.add(this,b,g,e,c)})}function eb(a,b,c){c?(S.set(a,b,!1),n.event.add(a,b,{namespace:!1,handler:function(a){var e,g,v=S.get(this,b);if(1&a.isTrigger&&this[b])if(v.length)(n.event.special[b]||{}).delegateType&&a.stopPropagation();else{if(v=ta.call(arguments),S.set(this,b,v),e=c(this,b),this[b](),v!==(g=S.get(this,b))||e?S.set(this,
b,!1):g={},v!==g)return a.stopImmediatePropagation(),a.preventDefault(),g.value}else v.length&&(S.set(this,b,{value:n.event.trigger(n.extend(v[0],n.Event.prototype),v.slice(1),this)}),a.stopImmediatePropagation())}})):void 0===S.get(a,b)&&n.event.add(a,b,Z)}function Eb(a,b){return t(a,"table")&&t(11!==b.nodeType?b:b.firstChild,"tr")&&n(a).children("tbody")[0]||a}function va(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function tb(a){return"true/"===(a.type||"").slice(0,5)?a.type=
a.type.slice(5):a.removeAttribute("type"),a}function ob(a,b){var c,e,g,v,d,m;if(1===b.nodeType){if(S.hasData(a)&&(c=S.access(a),e=S.set(b,c),m=c.events))for(g in delete e.handle,e.events={},m)for(c=0,e=m[g].length;c<e;c++)n.event.add(b,g,m[g][c]);Da.hasData(a)&&(v=Da.access(a),d=n.extend({},v),Da.set(b,d))}}function Ba(a,b,c,g){b=$a.apply([],b);var v,d,m,q,B=0,z=a.length,J=z-1,f=b[0],I=F(f);if(I||1<z&&"string"==typeof f&&!ca.checkClone&&ja.test(f))return a.each(function(e){var v=a.eq(e);I&&(b[0]=
f.call(this,e,v.html()));Ba(v,b,c,g)});if(z&&(d=(v=W(b,a[0].ownerDocument,!1,a,g)).firstChild,1===v.childNodes.length&&(v=d),d||g)){for(m=(d=n.map(N(v,"script"),va)).length;B<z;B++)q=v,B!==J&&(q=n.clone(q,!0,!0),m&&n.merge(d,N(q,"script"))),c.call(a[B],q,B);if(m)for(v=d[d.length-1].ownerDocument,n.map(d,tb),B=0;B<m;B++)q=d[B],e.test(q.type||"")&&!S.access(q,"globalEval")&&n.contains(v,q)&&(q.src&&"module"!==(q.type||"").toLowerCase()?n._evalUrl&&!q.noModule&&n._evalUrl(q.src,{nonce:q.nonce||q.getAttribute("nonce")}):
h(q.textContent.replace(La,""),q,v))}return a}function Ca(a,b,c){for(var e=b?n.filter(b,a):a,g=0;null!=(b=e[g]);g++)c||1!==b.nodeType||n.cleanData(N(b)),b.parentNode&&(c&&db(b)&&V(N(b,"script")),b.parentNode.removeChild(b));return a}function ua(a,b,c){var e,g,v,d,m=a.style;return(c=c||Ga(a))&&(""!==(d=c.getPropertyValue(b)||c[b])||db(a)||(d=n.style(a,b)),!ca.pixelBoxStyles()&&Pa.test(d)&&yb.test(b)&&(e=m.width,g=m.minWidth,v=m.maxWidth,m.minWidth=m.maxWidth=m.width=d,d=c.width,m.width=e,m.minWidth=
g,m.maxWidth=v)),void 0!==d?d+"":d}function Va(a,b){return{get:function(){if(!a())return(this.get=b).apply(this,arguments);delete this.get}}}function fb(a){var b;if(!(b=n.cssProps[a]||ec[a])){if(!(a in Mb)){a:{b=a;for(var c=b[0].toUpperCase()+b.slice(1),e=Nb.length;e--;)if((b=Nb[e]+c)in Mb)break a;b=void 0}a=ec[a]=b||a}b=a}return b}function Ea(a,b,c){return(a=sb.exec(b))?Math.max(0,a[2]-(c||0))+(a[3]||"px"):b}function ib(a,b,c,e,g,d){var v="width"===b?1:0,m=0,q=0;if(c===(e?"border":"content"))return 0;
for(;4>v;v+=2)"margin"===c&&(q+=n.css(a,c+Wa[v],!0,g)),e?("content"===c&&(q-=n.css(a,"padding"+Wa[v],!0,g)),"margin"!==c&&(q-=n.css(a,"border"+Wa[v]+"Width",!0,g))):(q+=n.css(a,"padding"+Wa[v],!0,g),"padding"!==c?q+=n.css(a,"border"+Wa[v]+"Width",!0,g):m+=n.css(a,"border"+Wa[v]+"Width",!0,g));return!e&&0<=d&&(q+=Math.max(0,Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-d-q-m-.5))||0),q}function gb(a,b,c){var e=Ga(a),g=(!ca.boxSizingReliable()||c)&&"border-box"===n.css(a,"boxSizing",!1,e),v=g,
d=ua(a,b,e),m="offset"+b[0].toUpperCase()+b.slice(1);if(Pa.test(d)){if(!c)return d;d="auto"}return(!ca.boxSizingReliable()&&g||"auto"===d||!parseFloat(d)&&"inline"===n.css(a,"display",!1,e))&&a.getClientRects().length&&(g="border-box"===n.css(a,"boxSizing",!1,e),(v=m in a)&&(d=a[m])),(d=parseFloat(d)||0)+ib(a,b,c||(g?"border":"content"),v,e,d)+"px"}function ya(a,b,c,e,g){return new ya.prototype.init(a,b,c,e,g)}function Xa(){Ob&&(!1===P.hidden&&f.requestAnimationFrame?f.requestAnimationFrame(Xa):f.setTimeout(Xa,
n.fx.interval),n.fx.tick())}function Aa(){return f.setTimeout(function(){Ma=void 0}),Ma=Date.now()}function u(a,b){var c,e=0,g={height:a};for(b=b?1:0;4>e;e+=2-b)g["margin"+(c=Wa[e])]=g["padding"+c]=a;return b&&(g.opacity=g.width=a),g}function Na(a,b,c){for(var e,g=(Fa.tweeners[b]||[]).concat(Fa.tweeners["*"]),v=0,d=g.length;v<d;v++)if(e=g[v].call(c,b,a))return e}function Fa(a,b,c){var e,g=0,d=Fa.prefilters.length,v=n.Deferred().always(function(){delete m.elem}),m=function(){if(e)return!1;for(var b=
Ma||Aa(),b=Math.max(0,q.startTime+q.duration-b),c=1-(b/q.duration||0),g=0,d=q.tweens.length;g<d;g++)q.tweens[g].run(c);return v.notifyWith(a,[q,c,b]),1>c&&d?b:(d||v.notifyWith(a,[q,1,0]),v.resolveWith(a,[q]),!1)},q=v.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Ma||Aa(),duration:c.duration,tweens:[],createTween:function(b,c){var e=n.Tween(a,q.opts,b,c,q.opts.specialEasing[b]||q.opts.easing);return q.tweens.push(e),
e},stop:function(b){var c=0,g=b?q.tweens.length:0;if(e)return this;for(e=!0;c<g;c++)q.tweens[c].run(1);return b?(v.notifyWith(a,[q,1,0]),v.resolveWith(a,[q,b])):v.rejectWith(a,[q,b]),this}});c=q.props;!function(a,b){var c,e,g,d,v;for(c in a)if(g=b[e=O(c)],d=a[c],Array.isArray(d)&&(g=d[1],d=a[c]=d[0]),c!==e&&(a[e]=d,delete a[c]),(v=n.cssHooks[e])&&"expand"in v)for(c in d=v.expand(d),delete a[e],d)c in a||(a[c]=d[c],b[c]=g);else b[e]=g}(c,q.opts.specialEasing);for(;g<d;g++)if(b=Fa.prefilters[g].call(q,
a,c,q.opts))return F(b.stop)&&(n._queueHooks(q.elem,q.opts.queue).stop=b.stop.bind(b)),b;return n.map(c,Na,q),F(q.opts.start)&&q.opts.start.call(a,q),q.progress(q.opts.progress).done(q.opts.done,q.opts.complete).fail(q.opts.fail).always(q.opts.always),n.fx.timer(n.extend(m,{elem:a,anim:q,queue:q.opts.queue})),q}function Qa(a){return(a.match(Ja)||[]).join(" ")}function Ra(a){return a.getAttribute&&a.getAttribute("class")||""}function pb(a){return Array.isArray(a)?a:"string"==typeof a&&a.match(Ja)||
[]}function ia(a,b,c,e){var g;if(Array.isArray(b))n.each(b,function(b,g){c||Fb.test(a)?e(a,g):ia(a+"["+("object"==typeof g&&null!=g?b:"")+"]",g,c,e)});else if(c||"object"!==l(b))e(a,b);else for(g in b)ia(a+"["+g+"]",b[g],c,e)}function ka(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var e,g=0,d=b.toLowerCase().match(Ja)||[];if(F(c))for(;e=d[g++];)"+"===e[0]?(e=e.slice(1)||"*",(a[e]=a[e]||[]).unshift(c)):(a[e]=a[e]||[]).push(c)}}function pa(a,b,c,e){function g(m){var q;return d[m]=!0,n.each(a[m]||
[],function(a,m){var B=m(b,c,e);return"string"!=typeof B||v||d[B]?v?!(q=B):void 0:(b.dataTypes.unshift(B),g(B),!1)}),q}var d={},v=a===Vb;return g(b.dataTypes[0])||!d["*"]&&g("*")}function jb(a,b){var c,e,g=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((g[c]?a:e||(e={}))[c]=b[c]);return e&&n.extend(!0,a,e),a}var Ya=[],P=f.document,na=Object.getPrototypeOf,ta=Ya.slice,$a=Ya.concat,ea=Ya.push,Ua=Ya.indexOf,Ia={},Ta=Ia.toString,fa=Ia.hasOwnProperty,kb=fa.toString,Sa=kb.call(Object),ca={},
F=function(a){return"function"==typeof a&&"number"!=typeof a.nodeType},R=function(a){return null!=a&&a===a.window},oa={type:!0,src:!0,nonce:!0,noModule:!0},n=function(a,b){return new n.fn.init(a,b)},hb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;n.fn=n.prototype={jquery:"3.4.1",constructor:n,length:0,toArray:function(){return ta.call(this)},get:function(a){return null==a?ta.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=n.merge(this.constructor(),a);return a.prevObject=this,a},each:function(a){return n.each(this,
a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ta.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:ea,sort:Ya.sort,splice:Ya.splice};n.extend=n.fn.extend=function(){var a,b,c,e,g,d,m=arguments[0]||{},q=1,z=arguments.length,
f=!1;"boolean"==typeof m&&(f=m,m=arguments[q]||{},q++);"object"==typeof m||F(m)||(m={});for(q===z&&(m=this,q--);q<z;q++)if(null!=(a=arguments[q]))for(b in a)e=a[b],"__proto__"!==b&&m!==e&&(f&&e&&(n.isPlainObject(e)||(g=Array.isArray(e)))?(c=m[b],d=g&&!Array.isArray(c)?[]:g||n.isPlainObject(c)?c:{},g=!1,m[b]=n.extend(f,d,e)):void 0!==e&&(m[b]=e));return m};n.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isPlainObject:function(a){var b,
c;return!(!a||"[object Object]"!==Ta.call(a))&&(!(b=na(a))||"function"==typeof(c=fa.call(b,"constructor")&&b.constructor)&&kb.call(c)===Sa)},isEmptyObject:function(a){for(var b in a)return!1;return!0},globalEval:function(a,b){h(a,{nonce:b&&b.nonce})},each:function(a,b){var c,e=0;if(r(a))for(c=a.length;e<c&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":(a+"").replace(hb,"")},makeArray:function(a,b){var c=b||[];return null!=
a&&(r(Object(a))?n.merge(c,"string"==typeof a?[a]:a):ea.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:Ua.call(b,a,c)},merge:function(a,b){for(var c=+b.length,e=0,g=a.length;e<c;e++)a[g++]=b[e];return a.length=g,a},grep:function(a,b,c){var e=[],g=0,d=a.length;for(c=!c;g<d;g++)!b(a[g],g)!==c&&e.push(a[g]);return e},map:function(a,b,c){var e,g,d=0,m=[];if(r(a))for(e=a.length;d<e;d++)null!=(g=b(a[d],d,c))&&m.push(g);else for(d in a)null!=(g=b(a[d],d,c))&&m.push(g);return $a.apply([],m)},guid:1,
support:ca});"function"==typeof Symbol&&(n.fn[Symbol.iterator]=Ya[Symbol.iterator]);n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){Ia["[object "+b+"]"]=b.toLowerCase()});var Ha=function(a){function b(a,b,c,e){var g,d,m,v,q,B;d=b&&b.ownerDocument;B=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==B&&9!==B&&11!==B)return c;if(!e&&((b?b.ownerDocument||b:K)!==E&&O(b),b=b||E,ja)){if(11!==B&&(q=Rb.exec(a)))if(g=q[1])if(9===B){if(!(m=b.getElementById(g)))return c;
if(m.id===g)return c.push(m),c}else{if(d&&(m=d.getElementById(g))&&H(b,m)&&m.id===g)return c.push(m),c}else{if(q[2])return P.apply(c,b.getElementsByTagName(a)),c;if((g=q[3])&&T.getElementsByClassName&&b.getElementsByClassName)return P.apply(c,b.getElementsByClassName(g)),c}if(!(!T.qsa||F[a+" "]||U&&U.test(a)||1===B&&"object"===b.nodeName.toLowerCase())){if(g=a,d=b,1===B&&sa.test(a)){(v=b.getAttribute("id"))?v=v.replace(Z,Ha):b.setAttribute("id",v=L);for(d=(B=A(a)).length;d--;)B[d]="#"+v+" "+n(B[d]);
g=B.join(",");d=ha.test(a)&&I(b.parentNode)||b}try{return P.apply(c,d.querySelectorAll(g)),c}catch(zc){F(a,!0)}finally{v===L&&b.removeAttribute("id")}}}return G(a.replace(yb,"$1"),b,c,e)}function c(){var a=[];return function Wb(b,c){return a.push(b+" ")>M.cacheLength&&delete Wb[a.shift()],Wb[b+" "]=c}}function e(a){return a[L]=!0,a}function g(a){var b=E.createElement("fieldset");try{return!!a(b)}catch(Wb){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function d(a,b){for(var c=a.split("|"),
e=c.length;e--;)M.attrHandle[c[e]]=b}function m(a,b){var c=b&&a,e=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(e)return e;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function v(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function q(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function z(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in
b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&Tb(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function f(a){return e(function(b){return b=+b,e(function(c,e){for(var g,d=a([],c.length,b),m=d.length;m--;)c[g=d[m]]&&(c[g]=!(e[g]=c[g]))})})}function I(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function k(){}function n(a){for(var b=0,c=a.length,e="";b<c;b++)e+=a[b].value;return e}function x(a,b,c){var e=b.dir,g=b.next,d=g||e,m=c&&"parentNode"===
d,v=oa++;return b.first?function(b,c,g){for(;b=b[e];)if(1===b.nodeType||m)return a(b,c,g);return!1}:function(b,c,q){var B,z,f,J=[N,v];if(q)for(;b=b[e];){if((1===b.nodeType||m)&&a(b,c,q))return!0}else for(;b=b[e];)if(1===b.nodeType||m)if(z=(f=b[L]||(b[L]={}))[b.uniqueID]||(f[b.uniqueID]={}),g&&g===b.nodeName.toLowerCase())b=b[e]||b;else{if((B=z[d])&&B[0]===N&&B[1]===v)return J[2]=B[2];if((z[d]=J)[2]=a(b,c,q))return!0}return!1}}function w(a){return 1<a.length?function(b,c,e){for(var g=a.length;g--;)if(!a[g](b,
c,e))return!1;return!0}:a[0]}function h(a,b,c,e,g){for(var d,m=[],v=0,q=a.length,B=null!=b;v<q;v++)(d=a[v])&&(c&&!c(d,e,g)||(m.push(d),B&&b.push(v)));return m}function p(a,c,g,d,m,v){return d&&!d[L]&&(d=p(d)),m&&!m[L]&&(m=p(m,v)),e(function(e,v,q,B){var z,f,J=[],I=[],ga=v.length,k;if(!(k=e)){k=c||"*";for(var n=q.nodeType?[q]:q,ma=[],x=0,w=n.length;x<w;x++)b(k,n[x],ma);k=ma}k=!a||!e&&c?k:h(k,J,a,q,B);n=g?m||(e?a:ga||d)?[]:v:k;if(g&&g(k,n,q,B),d)for(z=h(n,I),d(z,[],q,B),q=z.length;q--;)(f=z[q])&&(n[I[q]]=
!(k[I[q]]=f));if(e){if(m||a){if(m){z=[];for(q=n.length;q--;)(f=n[q])&&z.push(k[q]=f);m(null,n=[],z,B)}for(q=n.length;q--;)(f=n[q])&&-1<(z=m?W(e,f):J[q])&&(e[z]=!(v[z]=f))}}else n=h(n===v?n.splice(ga,n.length):n),m?m(null,v,n,B):P.apply(v,n)})}function D(a){var b,c,e,g=a.length,d=M.relative[a[0].type];c=d||M.relative[" "];for(var m=d?1:0,v=x(function(a){return a===b},c,!0),q=x(function(a){return-1<W(b,a)},c,!0),B=[function(a,c,e){a=!d&&(e||c!==y)||((b=c).nodeType?v(a,c,e):q(a,c,e));return b=null,a}];m<
g;m++)if(c=M.relative[a[m].type])B=[x(w(B),c)];else{if((c=M.filter[a[m].type].apply(null,a[m].matches))[L]){for(e=++m;e<g&&!M.relative[a[e].type];e++);return p(1<m&&w(B),1<m&&n(a.slice(0,m-1).concat({value:" "===a[m-2].type?"*":""})).replace(yb,"$1"),c,m<e&&D(a.slice(m,e)),e<g&&D(a=a.slice(e)),e<g&&n(a))}B.push(c)}return w(B)}var l,T,M,r,t,A,qa,G,y,u,xa,O,E,da,ja,U,Ga,La,H,L="sizzle"+1*new Date,K=a.document,N=0,oa=0,V=c(),Pa=c(),rb=c(),F=c(),vb=function(a,b){return a===b&&(xa=!0),0},Q={}.hasOwnProperty,
Ma=[],Mb=Ma.pop,Sb=Ma.push,P=Ma.push,Hb=Ma.slice,W=function(a,b){for(var c=0,e=a.length;c<e;c++)if(a[c]===b)return c;return-1},Fb=RegExp("[\\x20\\t\\r\\n\\f]+","g"),yb=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ac=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,qb=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,sa=/[\x20\t\r\n\f]|>/,aa=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
hb=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,nb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Nb=/HTML$/i,ra=/^(?:input|select|textarea|button)$/i,S=/^h\d$/i,
R=/^[^{]+\{\s*\[native \w/,Rb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ha=/[+~]/,cb=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ba=function(a,b,c){a="0x"+b-65536;return a!=a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},Z=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ha=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},Cb=function(){O()},Tb=x(function(a){return!0===
a.disabled&&"fieldset"===a.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{P.apply(Ma=Hb.call(K.childNodes),K.childNodes),Ma[K.childNodes.length].nodeType}catch(xc){P={apply:Ma.length?function(a,b){Sb.apply(a,Hb.call(b))}:function(a,b){for(var c=a.length,e=0;a[c++]=b[e++];);a.length=c-1}}}for(l in T=b.support={},t=b.isXML=function(a){var b=(a.ownerDocument||a).documentElement;return!Nb.test(a.namespaceURI||b&&b.nodeName||"HTML")},O=b.setDocument=function(a){var b,c;a=a?a.ownerDocument||
a:K;return a!==E&&9===a.nodeType&&a.documentElement&&(da=(E=a).documentElement,ja=!t(E),K!==E&&(c=E.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",Cb,!1):c.attachEvent&&c.attachEvent("onunload",Cb)),T.attributes=g(function(a){return a.className="i",!a.getAttribute("className")}),T.getElementsByTagName=g(function(a){return a.appendChild(E.createComment("")),!a.getElementsByTagName("*").length}),T.getElementsByClassName=R.test(E.getElementsByClassName),T.getById=g(function(a){return da.appendChild(a).id=
L,!E.getElementsByName||!E.getElementsByName(L).length}),T.getById?(M.filter.ID=function(a){var b=a.replace(cb,ba);return function(a){return a.getAttribute("id")===b}},M.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&ja){var c=b.getElementById(a);return c?[c]:[]}}):(M.filter.ID=function(a){var b=a.replace(cb,ba);return function(a){return(a="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}},M.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&
ja){var c,e,g,d=b.getElementById(a);if(d){if((c=d.getAttributeNode("id"))&&c.value===a)return[d];g=b.getElementsByName(a);for(e=0;d=g[e++];)if((c=d.getAttributeNode("id"))&&c.value===a)return[d]}return[]}}),M.find.TAG=T.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):T.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,e=[],g=0,d=b.getElementsByTagName(a);if("*"===a){for(;c=d[g++];)1===c.nodeType&&e.push(c);return e}return d},M.find.CLASS=
T.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&ja)return b.getElementsByClassName(a)},Ga=[],U=[],(T.qsa=R.test(E.querySelectorAll))&&(g(function(a){da.appendChild(a).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&U.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||U.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~="+L+"-]").length||U.push("~=");a.querySelectorAll(":checked").length||U.push(":checked");a.querySelectorAll("a#"+L+"+*").length||U.push(".#.+[+~]")}),g(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=E.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&U.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&
U.push(":enabled",":disabled");da.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&U.push(":enabled",":disabled");a.querySelectorAll("*,:x");U.push(",.*:")})),(T.matchesSelector=R.test(La=da.matches||da.webkitMatchesSelector||da.mozMatchesSelector||da.oMatchesSelector||da.msMatchesSelector))&&g(function(a){T.disconnectedMatch=La.call(a,"*");La.call(a,"[s!='']:x");Ga.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
U=U.length&&new RegExp(U.join("|")),Ga=Ga.length&&new RegExp(Ga.join("|")),b=R.test(da.compareDocumentPosition),H=b||R.test(da.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!(!e||1!==e.nodeType||!(c.contains?c.contains(e):a.compareDocumentPosition&&16&a.compareDocumentPosition(e)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},vb=b?function(a,b){if(a===b)return xa=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;
return c||(1&(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!T.sortDetached&&b.compareDocumentPosition(a)===c?a===E||a.ownerDocument===K&&H(K,a)?-1:b===E||b.ownerDocument===K&&H(K,b)?1:u?W(u,a)-W(u,b):0:4&c?-1:1)}:function(a,b){if(a===b)return xa=!0,0;var c,e=0;c=a.parentNode;var g=b.parentNode,d=[a],v=[b];if(!c||!g)return a===E?-1:b===E?1:c?-1:g?1:u?W(u,a)-W(u,b):0;if(c===g)return m(a,b);for(c=a;c=c.parentNode;)d.unshift(c);for(c=b;c=c.parentNode;)v.unshift(c);for(;d[e]===
v[e];)e++;return e?m(d[e],v[e]):d[e]===K?-1:v[e]===K?1:0}),E},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==E&&O(a),!(!T.matchesSelector||!ja||F[c+" "]||Ga&&Ga.test(c)||U&&U.test(c)))try{var e=La.call(a,c);if(e||T.disconnectedMatch||a.document&&11!==a.document.nodeType)return e}catch(yc){F(c,!0)}return 0<b(c,E,null,[a]).length},b.contains=function(a,b){return(a.ownerDocument||a)!==E&&O(a),H(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==
E&&O(a);var c=M.attrHandle[b.toLowerCase()],c=c&&Q.call(M.attrHandle,b.toLowerCase())?c(a,b,!ja):void 0;return void 0!==c?c:T.attributes||!ja?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null},b.escape=function(a){return(a+"").replace(Z,Ha)},b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);},b.uniqueSort=function(a){var b,c=[],e=0,g=0;if(xa=!T.detectDuplicates,u=!T.sortStable&&a.slice(0),a.sort(vb),xa){for(;b=a[g++];)b===a[g]&&(e=c.push(g));for(;e--;)a.splice(c[e],
1)}return u=null,a},r=b.getText=function(a){var b,c="",e=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=r(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[e++];)c+=r(b);return c},(M=b.selectors={cacheLength:50,createPseudo:e,match:nb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=
a[1].replace(cb,ba),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,ba),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return nb.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&aa.test(c)&&(b=A(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,
b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,ba).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=V[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),V(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,c,e){return function(g){g=b.attr(g,
a);return null==g?"!="===c:!c||(g+="","="===c?g===e:"!="===c?g!==e:"^="===c?e&&0===g.indexOf(e):"*="===c?e&&-1<g.indexOf(e):"$="===c?e&&g.slice(-e.length)===e:"~="===c?-1<(" "+g.replace(Fb," ")+" ").indexOf(e):"|="===c&&(g===e||g.slice(0,e.length+1)===e+"-"))}},CHILD:function(a,b,c,e,g){var d="nth"!==a.slice(0,3),m="last"!==a.slice(-4),v="of-type"===b;return 1===e&&0===g?function(a){return!!a.parentNode}:function(b,c,q){var B,z,f,J,I;c=d!==m?"nextSibling":"previousSibling";var ga=b.parentNode,n=v&&
b.nodeName.toLowerCase(),k=!q&&!v,ma=!1;if(ga){if(d){for(;c;){for(f=b;f=f[c];)if(v?f.nodeName.toLowerCase()===n:1===f.nodeType)return!1;I=c="only"===a&&!I&&"nextSibling"}return!0}if(I=[m?ga.firstChild:ga.lastChild],m&&k)for(ma=(J=(B=(q=(z=(f=ga)[L]||(f[L]={}))[f.uniqueID]||(z[f.uniqueID]={}))[a]||[])[0]===N&&B[1])&&B[2],f=J&&ga.childNodes[J];f=++J&&f&&f[c]||(ma=J=0)||I.pop();){if(1===f.nodeType&&++ma&&f===b){q[a]=[N,J,ma];break}}else if(k&&(ma=J=(B=((z=(f=b)[L]||(f[L]={}))[f.uniqueID]||(z[f.uniqueID]=
{}))[a]||[])[0]===N&&B[1]),!1===ma)for(;(f=++J&&f&&f[c]||(ma=J=0)||I.pop())&&((v?f.nodeName.toLowerCase()!==n:1!==f.nodeType)||!++ma||(k&&((q=(z=f[L]||(f[L]={}))[f.uniqueID]||(z[f.uniqueID]={}))[a]=[N,ma]),f!==b)););return(ma-=g)===e||0==ma%e&&0<=ma/e}}},PSEUDO:function(a,c){var g,d=M.pseudos[a]||M.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return d[L]?d(c):1<d.length?(g=[a,a,"",c],M.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,b){for(var e,g=d(a,c),m=g.length;m--;)a[e=
W(a,g[m])]=!(b[e]=g[m])}):function(a){return d(a,0,g)}):d}},pseudos:{not:e(function(a){var b=[],c=[],g=qa(a.replace(yb,"$1"));return g[L]?e(function(a,b,c,e){var d;c=g(a,null,e,[]);for(e=a.length;e--;)(d=c[e])&&(a[e]=!(b[e]=d))}):function(a,e,d){return b[0]=a,g(b,null,d,c),b[0]=null,!c.pop()}}),has:e(function(a){return function(c){return 0<b(a,c).length}}),contains:e(function(a){return a=a.replace(cb,ba),function(b){return-1<(b.textContent||r(b)).indexOf(a)}}),lang:e(function(a){return hb.test(a||
"")||b.error("unsupported lang: "+a),a=a.replace(cb,ba).toLowerCase(),function(b){var c;do if(c=ja?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===da},focus:function(a){return a===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:z(!1),disabled:z(!0),
checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!M.pseudos.empty(a)},header:function(a){return S.test(a.nodeName)},input:function(a){return ra.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===
a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[0>c?c+b:c]}),even:f(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:f(function(a,b,c){for(b=0>c?c+b:b<c?b:c;0<=--b;)a.push(b);return a}),gt:f(function(a,b,c){for(c=0>c?
c+b:c;++c<b;)a.push(c);return a})}}).pseudos.nth=M.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[l]=v(l);for(l in{submit:!0,reset:!0})M.pseudos[l]=q(l);return k.prototype=M.filters=M.pseudos,M.setFilters=new k,A=b.tokenize=function(a,c){var e,g,d,m,v,q,B;if(v=Pa[a+" "])return c?0:v.slice(0);v=a;q=[];for(B=M.preFilter;v;){for(m in e&&!(g=ac.exec(v))||(g&&(v=v.slice(g[0].length)||v),q.push(d=[])),e=!1,(g=qb.exec(v))&&(e=g.shift(),d.push({value:e,type:g[0].replace(yb," ")}),
v=v.slice(e.length)),M.filter)!(g=nb[m].exec(v))||B[m]&&!(g=B[m](g))||(e=g.shift(),d.push({value:e,type:m,matches:g}),v=v.slice(e.length));if(!e)break}return c?v.length:v?b.error(a):Pa(a,q).slice(0)},qa=b.compile=function(a,c){var g,d,m,v,q=[],B=[],f=rb[a+" "];if(!f){c||(c=A(a));for(g=c.length;g--;)(f=D(c[g]))[L]?q.push(f):B.push(f);(f=rb(a,(d=0<q.length,m=0<B.length,v=function(a,c,e,g,v){var f,z,J,I=0,ga="0",n=a&&[],k=[],ma=y,x=a||m&&M.find.TAG("*",v),w=N+=null==ma?1:Math.random()||.1,p=x.length;
for(v&&(y=c===E||c||v);ga!==p&&null!=(f=x[ga]);ga++){if(m&&f){z=0;for(c||f.ownerDocument===E||(O(f),e=!ja);J=B[z++];)if(J(f,c||E,e)){g.push(f);break}v&&(N=w)}d&&((f=!J&&f)&&I--,a&&n.push(f))}if(I+=ga,d&&ga!==I){for(z=0;J=q[z++];)J(n,k,c,e);if(a){if(0<I)for(;ga--;)n[ga]||k[ga]||(k[ga]=Mb.call(g));k=h(k)}P.apply(g,k);v&&!a&&0<k.length&&1<I+q.length&&b.uniqueSort(g)}return v&&(N=w,y=ma),n},d?e(v):v))).selector=a}return f},G=b.select=function(a,b,c,e){var g,d,m,v,q,B="function"==typeof a&&a,f=!e&&A(a=
B.selector||a);if(c=c||[],1===f.length){if(2<(d=f[0]=f[0].slice(0)).length&&"ID"===(m=d[0]).type&&9===b.nodeType&&ja&&M.relative[d[1].type]){if(!(b=(M.find.ID(m.matches[0].replace(cb,ba),b)||[])[0]))return c;B&&(b=b.parentNode);a=a.slice(d.shift().value.length)}for(g=nb.needsContext.test(a)?0:d.length;g--&&(m=d[g],!M.relative[v=m.type]);)if((q=M.find[v])&&(e=q(m.matches[0].replace(cb,ba),ha.test(d[0].type)&&I(b.parentNode)||b))){if(d.splice(g,1),!(a=e.length&&n(d)))return P.apply(c,e),c;break}}return(B||
qa(a,f))(e,b,!ja,c,!b||ha.test(a)&&I(b.parentNode)||b),c},T.sortStable=L.split("").sort(vb).join("")===L,T.detectDuplicates=!!xa,O(),T.sortDetached=g(function(a){return 1&a.compareDocumentPosition(E.createElement("fieldset"))}),g(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||d("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),T.attributes&&g(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",
""),""===a.firstChild.getAttribute("value")})||d("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),g(function(a){return null==a.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var e;if(!c)return!0===a[b]?b.toLowerCase():(e=a.getAttributeNode(b))&&e.specified?e.value:null}),b}(f);n.find=Ha;n.expr=Ha.selectors;n.expr[":"]=n.expr.pseudos;n.uniqueSort=
n.unique=Ha.uniqueSort;n.text=Ha.getText;n.isXMLDoc=Ha.isXML;n.contains=Ha.contains;n.escapeSelector=Ha.escape;var ab=function(a,b,c){for(var e=[],g=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(g&&n(a).is(c))break;e.push(a)}return e},zb=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},Pb=n.expr.match.needsContext,Ab=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;n.filter=function(a,b,c){var e=b[0];return c&&(a=":not("+a+")"),
1===b.length&&1===e.nodeType?n.find.matchesSelector(e,a)?[e]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))};n.fn.extend({find:function(a){var b,c,e=this.length,g=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;b<e;b++)if(n.contains(g[b],this))return!0}));c=this.pushStack([]);for(b=0;b<e;b++)n.find(a,g[b],c);return 1<e?n.uniqueSort(c):c},filter:function(a){return this.pushStack(k(this,a||[],!1))},not:function(a){return this.pushStack(k(this,a||[],
!0))},is:function(a){return!!k(this,"string"==typeof a&&Pb.test(a)?n(a):a||[],!1).length}});var Qb,Gb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(n.fn.init=function(a,b,c){var e,g;if(!a)return this;if(c=c||Qb,"string"==typeof a){if(!(e="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:Gb.exec(a))||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:P,!0)),Ab.test(e[1])&&n.isPlainObject(b))for(e in b)F(this[e])?
this[e](b[e]):this.attr(e,b[e]);return this}return(g=P.getElementById(e[2]))&&(this[0]=g,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):F(a)?void 0!==c.ready?c.ready(a):a(n):n.makeArray(a,this)}).prototype=n.fn;Qb=n(P);var Yb=/^(?:parents|prev(?:Until|All))/,Zb={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){var c,e=0,
g=this.length,d=[],m="string"!=typeof a&&n(a);if(!Pb.test(a))for(;e<g;e++)for(c=this[e];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(m?-1<m.index(c):1===c.nodeType&&n.find.matchesSelector(c,a))){d.push(c);break}return this.pushStack(1<d.length?n.uniqueSort(d):d)},index:function(a){return a?"string"==typeof a?Ua.call(n(a),this[0]):Ua.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},
addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});n.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return ab(a,"parentNode")},parentsUntil:function(a,b,c){return ab(a,"parentNode",c)},next:function(a){return A(a,"nextSibling")},prev:function(a){return A(a,"previousSibling")},nextAll:function(a){return ab(a,"nextSibling")},prevAll:function(a){return ab(a,"previousSibling")},nextUntil:function(a,b,c){return ab(a,"nextSibling",
c)},prevUntil:function(a,b,c){return ab(a,"previousSibling",c)},siblings:function(a){return zb((a.parentNode||{}).firstChild,a)},children:function(a){return zb(a.firstChild)},contents:function(a){return"undefined"!=typeof a.contentDocument?a.contentDocument:(t(a,"template")&&(a=a.content||a),n.merge([],a.childNodes))}},function(a,b){n.fn[a]=function(c,e){var g=n.map(this,b,c);return"Until"!==a.slice(-5)&&(e=c),e&&"string"==typeof e&&(g=n.filter(e,g)),1<this.length&&(Zb[a]||n.uniqueSort(g),Yb.test(a)&&
g.reverse()),this.pushStack(g)}});var Ja=/[^\x20\t\r\n\f]+/g;n.Callbacks=function(a){var b,c;a="string"==typeof a?(b=a,c={},n.each(b.match(Ja)||[],function(a,b){c[b]=!0}),c):n.extend({},a);var e,g,d,m,v=[],q=[],f=-1,z=function(){m=m||a.once;for(d=e=!0;q.length;f=-1)for(g=q.shift();++f<v.length;)!1===v[f].apply(g[0],g[1])&&a.stopOnFalse&&(f=v.length,g=!1);a.memory||(g=!1);e=!1;m&&(v=g?[]:"")},I={add:function(){return v&&(g&&!e&&(f=v.length-1,q.push(g)),function nc(b){n.each(b,function(b,c){F(c)?a.unique&&
I.has(c)||v.push(c):c&&c.length&&"string"!==l(c)&&nc(c)})}(arguments),g&&!e&&z()),this},remove:function(){return n.each(arguments,function(a,b){for(var c;-1<(c=n.inArray(b,v,c));)v.splice(c,1),c<=f&&f--}),this},has:function(a){return a?-1<n.inArray(a,v):0<v.length},empty:function(){return v&&(v=[]),this},disable:function(){return m=q=[],v=g="",this},disabled:function(){return!v},lock:function(){return m=q=[],g||e||(v=g=""),this},locked:function(){return!!m},fireWith:function(a,b){return m||(b=[a,
(b=b||[]).slice?b.slice():b],q.push(b),e||z()),this},fire:function(){return I.fireWith(this,arguments),this},fired:function(){return!!d}};return I};n.extend({Deferred:function(a){var b=[["notify","progress",n.Callbacks("memory"),n.Callbacks("memory"),2],["resolve","done",n.Callbacks("once memory"),n.Callbacks("once memory"),0,"resolved"],["reject","fail",n.Callbacks("once memory"),n.Callbacks("once memory"),1,"rejected"]],c="pending",e={state:function(){return c},always:function(){return g.done(arguments).fail(arguments),
this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,e){var d=F(a[e[4]])&&a[e[4]];g[e[1]](function(){var a=d&&d.apply(this,arguments);a&&F(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[e[0]+"With"](this,d?[a]:arguments)})});a=null}).promise()},then:function(a,c,e){function g(a,b,c,e){return function(){var m=this,v=arguments,q=function(){var q,B;if(!(a<d)){if((q=c.apply(m,v))===b.promise())throw new TypeError("Thenable self-resolution");
B=q&&("object"==typeof q||"function"==typeof q)&&q.then;F(B)?e?B.call(q,g(d,b,y,e),g(d,b,G,e)):(d++,B.call(q,g(d,b,y,e),g(d,b,G,e),g(d,b,y,b.notifyWith))):(c!==y&&(m=void 0,v=[q]),(e||b.resolveWith)(m,v))}},B=e?q:function(){try{q()}catch(gc){n.Deferred.exceptionHook&&n.Deferred.exceptionHook(gc,B.stackTrace),d<=a+1&&(c!==G&&(m=void 0,v=[gc]),b.rejectWith(m,v))}};a?B():(n.Deferred.getStackHook&&(B.stackTrace=n.Deferred.getStackHook()),f.setTimeout(B))}}var d=0;return n.Deferred(function(d){b[0][3].add(g(0,
d,F(e)?e:y,d.notifyWith));b[1][3].add(g(0,d,F(a)?a:y));b[2][3].add(g(0,d,F(c)?c:G))}).promise()},promise:function(a){return null!=a?n.extend(a,e):e}},g={};return n.each(b,function(a,d){var m=d[2],v=d[5];e[d[1]]=m.add;v&&m.add(function(){c=v},b[3-a][2].disable,b[3-a][3].disable,b[0][2].lock,b[0][3].lock);m.add(d[3].fire);g[d[0]]=function(){return g[d[0]+"With"](this===g?void 0:this,arguments),this};g[d[0]+"With"]=m.fireWith}),e.promise(g),a&&a.call(g,g),g},when:function(a){var b=arguments.length,c=
b,e=Array(c),g=ta.call(arguments),d=n.Deferred(),m=function(a){return function(c){e[a]=this;g[a]=1<arguments.length?ta.call(arguments):c;--b||d.resolveWith(e,g)}};if(1>=b&&(D(a,d.done(m(c)).resolve,d.reject,!b),"pending"===d.state()||F(g[c]&&g[c].then)))return d.then();for(;c--;)D(g[c],m(c),d.reject);return d.promise()}});var lb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;n.Deferred.exceptionHook=function(a,b){f.console&&f.console.warn&&a&&lb.test(a.name)&&f.console.warn("jQuery.Deferred exception: "+
a.message,a.stack,b)};n.readyException=function(a){f.setTimeout(function(){throw a;})};var Bb=n.Deferred();n.fn.ready=function(a){return Bb.then(a)["catch"](function(a){n.readyException(a)}),this};n.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--n.readyWait:n.isReady)||(n.isReady=!0)!==a&&0<--n.readyWait||Bb.resolveWith(P,[n])}});n.ready.then=Bb.then;"complete"===P.readyState||"loading"!==P.readyState&&!P.documentElement.doScroll?f.setTimeout(n.ready):(P.addEventListener("DOMContentLoaded",
p),f.addEventListener("load",p));var bb=function(a,b,c,e,g,d,m){var v=0,q=a.length,B=null==c;if("object"===l(c))for(v in g=!0,c)bb(a,b,v,c[v],!0,d,m);else if(void 0!==e&&(g=!0,F(e)||(m=!0),B&&(m?(b.call(a,e),b=null):(B=b,b=function(a,b,c){return B.call(n(a),c)})),b))for(;v<q;v++)b(a[v],c,m?e:e.call(a[v],v,b(a[v],c)));return g?a:B?b.call(a):q?b(a[0],c):d},Db=/^-ms-/,wb=/-([a-z])/g,Za=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};U.uid=1;U.prototype={cache:function(a){var b=a[this.expando];
return b||(b={},Za(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var e;a=this.cache(a);if("string"==typeof b)a[O(b)]=c;else for(e in b)a[O(e)]=b[e];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][O(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,e=a[this.expando];if(void 0!==
e){if(void 0!==b)for(c=(b=Array.isArray(b)?b.map(O):(b=O(b))in e?[b]:b.match(Ja)||[]).length;c--;)delete e[b[c]];(void 0===b||n.isEmptyObject(e))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){a=a[this.expando];return void 0!==a&&!n.isEmptyObject(a)}};var S=new U,Da=new U,Lb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,la=/[A-Z]/g;n.extend({hasData:function(a){return Da.hasData(a)||S.hasData(a)},data:function(a,b,c){return Da.access(a,b,c)},removeData:function(a,b){Da.remove(a,
b)},_data:function(a,b,c){return S.access(a,b,c)},_removeData:function(a,b){S.remove(a,b)}});n.fn.extend({data:function(a,b){var c,e,g,d=this[0],m=d&&d.attributes;if(void 0===a){if(this.length&&(g=Da.get(d),1===d.nodeType&&!S.get(d,"hasDataAttrs"))){for(c=m.length;c--;)m[c]&&0===(e=m[c].name).indexOf("data-")&&(e=O(e.slice(5)),L(d,e,g[e]));S.set(d,"hasDataAttrs",!0)}return g}return"object"==typeof a?this.each(function(){Da.set(this,a)}):bb(this,function(b){var c;if(d&&void 0===b)return void 0!==(c=
Da.get(d,a))?c:void 0!==(c=L(d,a))?c:void 0;this.each(function(){Da.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){Da.remove(this,a)})}});n.extend({queue:function(a,b,c){var e;if(a)return b=(b||"fx")+"queue",e=S.get(a,b),c&&(!e||Array.isArray(c)?e=S.access(a,b,n.makeArray(c)):e.push(c)),e||[]},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),e=c.length,g=c.shift(),d=n._queueHooks(a,b);"inprogress"===g&&(g=c.shift(),e--);g&&("fx"===b&&c.unshift("inprogress"),
delete d.stop,g.call(a,function(){n.dequeue(a,b)},d));!e&&d&&d.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return S.get(a,c)||S.access(a,c,{empty:n.Callbacks("once memory").add(function(){S.remove(a,[b+"queue",c])})})}});n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,
a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,e=1,g=n.Deferred(),d=this,m=this.length,q=function(){--e||g.resolveWith(d,[d])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";m--;)(c=S.get(d[m],a+"queueHooks"))&&c.empty&&(e++,c.empty.add(q));return q(),g.promise(b)}});var mb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,sb=new RegExp("^(?:([+-])=|)("+mb+")([a-z%]*)$","i"),Wa=["Top","Right","Bottom","Left"],ub=P.documentElement,db=function(a){return n.contains(a.ownerDocument,
a)},$b={composed:!0};ub.getRootNode&&(db=function(a){return n.contains(a.ownerDocument,a)||a.getRootNode($b)===a.ownerDocument});var xb=function(a,b){return"none"===(a=b||a).style.display||""===a.style.display&&db(a)&&"none"===n.css(a,"display")},Oa=function(a,b,c,e){var g,d={};for(g in b)d[g]=a.style[g],a.style[g]=b[g];for(g in c=c.apply(a,e||[]),b)a.style[g]=d[g];return c},a={};n.fn.extend({show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(a){return"boolean"==typeof a?
a?this.show():this.hide():this.each(function(){xb(this)?n(this).show():n(this).hide()})}});var b=/^(?:checkbox|radio)$/i,c=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,e=/^$|^module$|\/(?:java|ecma)script/i,g={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};g.optgroup=g.option;g.tbody=g.tfoot=g.colgroup=g.caption=
g.thead;g.th=g.td;var m,q,z=/<|&#?\w+;/;m=P.createDocumentFragment().appendChild(P.createElement("div"));(q=P.createElement("input")).setAttribute("type","radio");q.setAttribute("checked","checked");q.setAttribute("name","t");m.appendChild(q);ca.checkClone=m.cloneNode(!0).cloneNode(!0).lastChild.checked;m.innerHTML="<textarea>x</textarea>";ca.noCloneChecked=!!m.cloneNode(!0).lastChild.defaultValue;var I=/^key/,x=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,M=/^([^.]*)(?:\.(.+)|)/;n.event={global:{},
add:function(a,b,c,e,g){var d,m,q,v,f,B,z,I,J,k;if(f=S.get(a))for(c.handler&&(c=(d=c).handler,g=d.selector),g&&n.find.matchesSelector(ub,g),c.guid||(c.guid=n.guid++),(v=f.events)||(v=f.events={}),(m=f.handle)||(m=f.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),f=(b=(b||"").match(Ja)||[""]).length;f--;)J=k=(q=M.exec(b[f])||[])[1],q=(q[2]||"").split(".").sort(),J&&(z=n.event.special[J]||{},J=(g?z.delegateType:z.bindType)||J,z=
n.event.special[J]||{},B=n.extend({type:J,origType:k,data:e,handler:c,guid:c.guid,selector:g,needsContext:g&&n.expr.match.needsContext.test(g),namespace:q.join(".")},d),(I=v[J])||((I=v[J]=[]).delegateCount=0,z.setup&&!1!==z.setup.call(a,e,q,m)||a.addEventListener&&a.addEventListener(J,m)),z.add&&(z.add.call(a,B),B.handler.guid||(B.handler.guid=c.guid)),g?I.splice(I.delegateCount++,0,B):I.push(B),n.event.global[J]=!0)},remove:function(a,b,c,e,g){var d,m,q,v,f,B,z,I,J,k,ga,x=S.hasData(a)&&S.get(a);
if(x&&(v=x.events)){for(f=(b=(b||"").match(Ja)||[""]).length;f--;)if(J=ga=(q=M.exec(b[f])||[])[1],k=(q[2]||"").split(".").sort(),J){z=n.event.special[J]||{};I=v[J=(e?z.delegateType:z.bindType)||J]||[];q=q[2]&&new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)");for(m=d=I.length;d--;)B=I[d],!g&&ga!==B.origType||c&&c.guid!==B.guid||q&&!q.test(B.namespace)||e&&e!==B.selector&&("**"!==e||!B.selector)||(I.splice(d,1),B.selector&&I.delegateCount--,z.remove&&z.remove.call(a,B));m&&!I.length&&(z.teardown&&
!1!==z.teardown.call(a,k,x.handle)||n.removeEvent(a,J,x.handle),delete v[J])}else for(J in v)n.event.remove(a,J+b[f],c,e,!0);n.isEmptyObject(v)&&S.remove(a,"handle events")}},dispatch:function(a){var b,c,e,g,d,m,q=n.event.fix(a),v=Array(arguments.length);c=(S.get(this,"events")||{})[q.type]||[];var f=n.event.special[q.type]||{};v[0]=q;for(b=1;b<arguments.length;b++)v[b]=arguments[b];if(q.delegateTarget=this,!f.preDispatch||!1!==f.preDispatch.call(this,q)){m=n.event.handlers.call(this,q,c);for(b=0;(g=
m[b++])&&!q.isPropagationStopped();)for(q.currentTarget=g.elem,c=0;(d=g.handlers[c++])&&!q.isImmediatePropagationStopped();)q.rnamespace&&!1!==d.namespace&&!q.rnamespace.test(d.namespace)||(q.handleObj=d,q.data=d.data,void 0!==(e=((n.event.special[d.origType]||{}).handle||d.handler).apply(g.elem,v))&&!1===(q.result=e)&&(q.preventDefault(),q.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,q),q.result}},handlers:function(a,b){var c,e,g,d,m,q=[],v=b.delegateCount,f=a.target;if(v&&
f.nodeType&&!("click"===a.type&&1<=a.button))for(;f!==this;f=f.parentNode||this)if(1===f.nodeType&&("click"!==a.type||!0!==f.disabled)){d=[];m={};for(c=0;c<v;c++)void 0===m[g=(e=b[c]).selector+" "]&&(m[g]=e.needsContext?-1<n(g,this).index(f):n.find(g,this,null,[f]).length),m[g]&&d.push(e);d.length&&q.push({elem:f,handlers:d})}return f=this,v<b.length&&q.push({elem:f,handlers:b.slice(v)}),q},addProp:function(a,b){Object.defineProperty(n.Event.prototype,a,{enumerable:!0,configurable:!0,get:F(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:
function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[n.expando]?a:new n.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){a=this||a;return b.test(a.type)&&a.click&&t(a,"input")&&eb(a,"click",Z),!1},trigger:function(a){a=this||a;return b.test(a.type)&&a.click&&t(a,"input")&&eb(a,"click"),!0},_default:function(a){a=a.target;return b.test(a.type)&&a.click&&
t(a,"input")&&S.get(a,"click")||t(a,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)};n.Event=function(a,b){if(!(this instanceof n.Event))return new n.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?Z:K,this.target=a.target&&3===a.target.nodeType?
a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a;b&&n.extend(this,b);this.timeStamp=a&&a.timeStamp||Date.now();this[n.expando]=!0};n.Event.prototype={constructor:n.Event,isDefaultPrevented:K,isPropagationStopped:K,isImmediatePropagationStopped:K,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=
Z;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};n.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,
screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&I.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&x.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},n.event.addProp);n.each({focus:"focusin",blur:"focusout"},function(a,b){n.event.special[a]={setup:function(){return eb(this,a,aa),!1},trigger:function(){return eb(this,a),!0},delegateType:b}});n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",
pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,e=a.relatedTarget,g=a.handleObj;return e&&(e===this||n.contains(this,e))||(a.type=g.origType,c=g.handler.apply(this,arguments),a.type=b),c}}});n.fn.extend({on:function(a,b,c,e){return ha(this,a,b,c,e)},one:function(a,b,c,e){return ha(this,a,b,c,e,1)},off:function(a,b,c){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,n(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:
e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,b,a[g]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=K),this.each(function(){n.event.remove(this,a,c,b)})}});var qa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,T=/<script|<style|<link/i,ja=/checked\s*(?:[^=]|=\s*.checked.)/i,La=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;n.extend({htmlPrefilter:function(a){return a.replace(qa,"<$1></$2>")},
clone:function(a,c,e){var g,d,m,q,v,f,z,B=a.cloneNode(!0),I=db(a);if(!(ca.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(q=N(B),g=0,d=(m=N(a)).length;g<d;g++)v=m[g],f=q[g],void 0,"input"===(z=f.nodeName.toLowerCase())&&b.test(v.type)?f.checked=v.checked:"input"!==z&&"textarea"!==z||(f.defaultValue=v.defaultValue);if(c)if(e)for(m=m||N(a),q=q||N(B),g=0,d=m.length;g<d;g++)ob(m[g],q[g]);else ob(a,B);return 0<(q=N(B,"script")).length&&V(q,!I&&N(a,"script")),B},cleanData:function(a){for(var b,
c,e,g=n.event.special,d=0;void 0!==(c=a[d]);d++)if(Za(c)){if(b=c[S.expando]){if(b.events)for(e in b.events)g[e]?n.event.remove(c,e):n.removeEvent(c,e,b.handle);c[S.expando]=void 0}c[Da.expando]&&(c[Da.expando]=void 0)}}});n.fn.extend({detach:function(a){return Ca(this,a,!0)},remove:function(a){return Ca(this,a)},text:function(a){return bb(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,
a,arguments.length)},append:function(){return Ba(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Eb(this,a).appendChild(a)})},prepend:function(){return Ba(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Eb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ba(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ba(this,arguments,function(a){this.parentNode&&
this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(N(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return bb(this,function(a){var b=this[0]||{},e=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!T.test(a)&&!g[(c.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);
try{for(;e<d;e++)1===(b=this[e]||{}).nodeType&&(n.cleanData(N(b,!1)),b.innerHTML=a);b=0}catch(Ub){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ba(this,arguments,function(b){var c=this.parentNode;0>n.inArray(this,a)&&(n.cleanData(N(this)),c&&c.replaceChild(b,this))},a)}});n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c=[],e=n(a),g=e.length-1,
d=0;d<=g;d++)a=d===g?this:this.clone(!0),n(e[d])[b](a),ea.apply(c,a.get());return this.pushStack(c)}});var Pa=new RegExp("^("+mb+")(?!px)[a-z%]+$","i"),Ga=function(a){var b=a.ownerDocument.defaultView;return b&&b.opener||(b=f),b.getComputedStyle(a)},yb=new RegExp(Wa.join("|"),"i");!function(){function a(){if(q){m.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";q.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";
ub.appendChild(m).appendChild(q);var a=f.getComputedStyle(q);b="1%"!==a.top;d=12===Math.round(parseFloat(a.marginLeft));q.style.right="60%";g=36===Math.round(parseFloat(a.right));c=36===Math.round(parseFloat(a.width));q.style.position="absolute";e=12===Math.round(parseFloat(q.offsetWidth/3));ub.removeChild(m);q=null}}var b,c,e,g,d,m=P.createElement("div"),q=P.createElement("div");q.style&&(q.style.backgroundClip="content-box",q.cloneNode(!0).style.backgroundClip="",ca.clearCloneStyle="content-box"===
q.style.backgroundClip,n.extend(ca,{boxSizingReliable:function(){return a(),c},pixelBoxStyles:function(){return a(),g},pixelPosition:function(){return a(),b},reliableMarginLeft:function(){return a(),d},scrollboxSize:function(){return a(),e}}))}();var Nb=["Webkit","Moz","ms"],Mb=P.createElement("div").style,ec={},vb=/^(none|table(?!-c[ea]).+)/,Rb=/^--/,ac={position:"absolute",visibility:"hidden",display:"block"},Hb={letterSpacing:"0",fontWeight:"400"};n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=
ua(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(a,b,c,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,d,m,q=O(b),v=Rb.test(b),f=a.style;if(v||(b=fb(q)),m=n.cssHooks[b]||n.cssHooks[q],void 0===
c)return m&&"get"in m&&void 0!==(g=m.get(a,!1,e))?g:f[b];"string"===(d=typeof c)&&(g=sb.exec(c))&&g[1]&&(c=E(a,b,g),d="number");null!=c&&c==c&&("number"!==d||v||(c+=g&&g[3]||(n.cssNumber[q]?"":"px")),ca.clearCloneStyle||""!==c||0!==b.indexOf("background")||(f[b]="inherit"),m&&"set"in m&&void 0===(c=m.set(a,c,e))||(v?f.setProperty(b,c):f[b]=c))}},css:function(a,b,c,e){var g,d,m,q=O(b);return Rb.test(b)||(b=fb(q)),(m=n.cssHooks[b]||n.cssHooks[q])&&"get"in m&&(g=m.get(a,!0,c)),void 0===g&&(g=ua(a,b,
e)),"normal"===g&&b in Hb&&(g=Hb[b]),""===c||c?(d=parseFloat(g),!0===c||isFinite(d)?d||0:g):g}});n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,e){if(c)return!vb.test(n.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?gb(a,b,e):Oa(a,ac,function(){return gb(a,b,e)})},set:function(a,c,e){var g,d=Ga(a),m=!ca.scrollboxSize()&&"absolute"===d.position,q=(m||e)&&"border-box"===n.css(a,"boxSizing",!1,d);e=e?ib(a,b,e,q,d):0;return q&&m&&(e-=Math.ceil(a["offset"+
b[0].toUpperCase()+b.slice(1)]-parseFloat(d[b])-ib(a,b,"border",!1,d)-.5)),e&&(g=sb.exec(c))&&"px"!==(g[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Ea(0,c,e)}}});n.cssHooks.marginLeft=Va(ca.reliableMarginLeft,function(a,b){if(b)return(parseFloat(ua(a,"marginLeft"))||a.getBoundingClientRect().left-Oa(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){var e=0,g={};for(c="string"==typeof c?
c.split(" "):[c];4>e;e++)g[a+Wa[e]+b]=c[e]||c[e-2]||c[0];return g}};"margin"!==a&&(n.cssHooks[a+b].set=Ea)});n.fn.extend({css:function(a,b){return bb(this,function(a,b,c){var e,g={},d=0;if(Array.isArray(b)){c=Ga(a);for(e=b.length;d<e;d++)g[b[d]]=n.css(a,b[d],!1,c);return g}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,1<arguments.length)}});((n.Tween=ya).prototype={constructor:ya,init:function(a,b,c,e,g,d){this.elem=a;this.prop=c;this.easing=g||n.easing._default;this.options=b;this.start=this.now=
this.cur();this.end=e;this.unit=d||(n.cssNumber[c]?"":"px")},cur:function(){var a=ya.propHooks[this.prop];return a&&a.get?a.get(this):ya.propHooks._default.get(this)},run:function(a){var b,c=ya.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):ya.propHooks._default.set(this),
this}}).init.prototype=ya.prototype;(ya.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""))&&"auto"!==b?b:0},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||!n.cssHooks[a.prop]&&null==a.elem.style[fb(a.prop)]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}}).scrollTop=ya.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=
a.now)}};n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};n.fx=ya.prototype.init;n.fx.step={};var Ma,Ob,qb,Sb,qc=/^(?:toggle|show|hide)$/,cb=/queueHooks$/;n.Animation=n.extend(Fa,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return E(c.elem,a,sb.exec(b),c),c}]},tweener:function(a,b){F(a)?(b=a,a=["*"]):a=a.match(Ja);for(var c,e=0,g=a.length;e<g;e++)c=a[e],Fa.tweeners[c]=Fa.tweeners[c]||[],Fa.tweeners[c].unshift(b)},prefilters:[function(a,
b,c){var e,g,d,m,q,v,f,z="width"in b||"height"in b,I=this,B={},k=a.style,J=a.nodeType&&xb(a),x=S.get(a,"fxshow");for(e in c.queue||(null==(m=n._queueHooks(a,"fx")).unqueued&&(m.unqueued=0,q=m.empty.fire,m.empty.fire=function(){m.unqueued||q()}),m.unqueued++,I.always(function(){I.always(function(){m.unqueued--;n.queue(a,"fx").length||m.empty.fire()})})),b)if(g=b[e],qc.test(g)){if(delete b[e],d=d||"toggle"===g,g===(J?"hide":"show")){if("show"!==g||!x||void 0===x[e])continue;J=!0}B[e]=x&&x[e]||n.style(a,
e)}if((b=!n.isEmptyObject(b))||!n.isEmptyObject(B))for(e in z&&1===a.nodeType&&(c.overflow=[k.overflow,k.overflowX,k.overflowY],null==(v=x&&x.display)&&(v=S.get(a,"display")),"none"===(f=n.css(a,"display"))&&(v?f=v:(H([a],!0),v=a.style.display||v,f=n.css(a,"display"),H([a]))),("inline"===f||"inline-block"===f&&null!=v)&&"none"===n.css(a,"float")&&(b||(I.done(function(){k.display=v}),null==v&&(f=k.display,v="none"===f?"":f)),k.display="inline-block")),c.overflow&&(k.overflow="hidden",I.always(function(){k.overflow=
c.overflow[0];k.overflowX=c.overflow[1];k.overflowY=c.overflow[2]})),b=!1,B)b||(x?"hidden"in x&&(J=x.hidden):x=S.access(a,"fxshow",{display:v}),d&&(x.hidden=!J),J&&H([a],!0),I.done(function(){for(e in J||H([a]),S.remove(a,"fxshow"),B)n.style(a,e,B[e])})),b=Na(J?x[e]:0,e,I),e in x||(x[e]=b.start,J&&(b.end=b.start,b.start=0))}],prefilter:function(a,b){b?Fa.prefilters.unshift(a):Fa.prefilters.push(a)}});n.speed=function(a,b,c){var e=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||F(a)&&a,duration:a,
easing:c&&b||b&&!F(b)&&b};return n.fx.off?e.duration=0:"number"!=typeof e.duration&&(e.duration in n.fx.speeds?e.duration=n.fx.speeds[e.duration]:e.duration=n.fx.speeds._default),null!=e.queue&&!0!==e.queue||(e.queue="fx"),e.old=e.complete,e.complete=function(){F(e.old)&&e.old.call(this);e.queue&&n.dequeue(this,e.queue)},e};n.fn.extend({fadeTo:function(a,b,c,e){return this.filter(xb).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,c,e){var g=n.isEmptyObject(a),d=n.speed(b,
c,e);b=function(){var b=Fa(this,n.extend({},a),d);(g||S.get(this,"finish"))&&b.stop(!0)};return b.finish=b,g||!1===d.queue?this.each(b):this.queue(d.queue,b)},stop:function(a,b,c){var e=function(a){var b=a.stop;delete a.stop;b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,g=null!=a&&a+"queueHooks",d=n.timers,m=S.get(this);if(g)m[g]&&m[g].stop&&e(m[g]);else for(g in m)m[g]&&m[g].stop&&cb.test(g)&&e(m[g]);for(g=d.length;g--;)d[g].elem!==
this||null!=a&&d[g].queue!==a||(d[g].anim.stop(c),b=!1,d.splice(g,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=S.get(this),e=c[a+"queue"];b=c[a+"queueHooks"];var g=n.timers,d=e?e.length:0;c.finish=!0;n.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,1));for(b=0;b<d;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete c.finish})}});n.each(["toggle","show",
"hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,e,g){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(u(b,!0),a,e,g)}});n.each({slideDown:u("show"),slideUp:u("hide"),slideToggle:u("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,e){return this.animate(b,a,c,e)}});n.timers=[];n.fx.tick=function(){var a,b=0,c=n.timers;for(Ma=Date.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||
n.fx.stop();Ma=void 0};n.fx.timer=function(a){n.timers.push(a);n.fx.start()};n.fx.interval=13;n.fx.start=function(){Ob||(Ob=!0,Xa())};n.fx.stop=function(){Ob=null};n.fx.speeds={slow:600,fast:200,_default:400};n.fn.delay=function(a,b){return a=n.fx&&n.fx.speeds[a]||a,b=b||"fx",this.queue(b,function(b,c){var e=f.setTimeout(b,a);c.stop=function(){f.clearTimeout(e)}})};qb=P.createElement("input");Sb=P.createElement("select").appendChild(P.createElement("option"));qb.type="checkbox";ca.checkOn=""!==qb.value;
ca.optSelected=Sb.selected;(qb=P.createElement("input")).value="t";qb.type="radio";ca.radioValue="t"===qb.value;var Tb,Ib=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return bb(this,n.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}});n.extend({attr:function(a,b,c){var e,g,d=a.nodeType;if(3!==d&&8!==d&&2!==d)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===d&&n.isXMLDoc(a)||(g=n.attrHooks[b.toLowerCase()]||(n.expr.match.bool.test(b)?
Tb:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):g&&"set"in g&&void 0!==(e=g.set(a,c,b))?e:(a.setAttribute(b,c+""),c):g&&"get"in g&&null!==(e=g.get(a,b))?e:null==(e=n.find.attr(a,b))?void 0:e)},attrHooks:{type:{set:function(a,b){if(!ca.radioValue&&"radio"===b&&t(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,e=0,g=b&&b.match(Ja);if(g&&1===a.nodeType)for(;c=g[e++];)a.removeAttribute(c)}});Tb={set:function(a,b,c){return!1===b?n.removeAttr(a,
c):a.setAttribute(c,c),c}};n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Ib[b]||n.find.attr;Ib[b]=function(a,b,e){var g,d,m=b.toLowerCase();return e||(d=Ib[m],Ib[m]=g,g=null!=c(a,b,e)?m:null,Ib[m]=d),g}});var rc=/^(?:input|select|textarea|button)$/i,sc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return bb(this,n.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}});n.extend({prop:function(a,b,c){var e,g,d=a.nodeType;
if(3!==d&&8!==d&&2!==d)return 1===d&&n.isXMLDoc(a)||(b=n.propFix[b]||b,g=n.propHooks[b]),void 0!==c?g&&"set"in g&&void 0!==(e=g.set(a,c,b))?e:a[b]=c:g&&"get"in g&&null!==(e=g.get(a,b))?e:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):rc.test(a.nodeName)||sc.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});ca.optSelected||(n.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,
null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});n.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){n.propFix[this.toLowerCase()]=this});n.fn.extend({addClass:function(a){var b,c,e,g,d,m,q,v=0;if(F(a))return this.each(function(b){n(this).addClass(a.call(this,b,Ra(this)))});if((b=pb(a)).length)for(;c=this[v++];)if(g=Ra(c),e=1===c.nodeType&&" "+Qa(g)+" "){for(m=0;d=
b[m++];)0>e.indexOf(" "+d+" ")&&(e+=d+" ");g!==(q=Qa(e))&&c.setAttribute("class",q)}return this},removeClass:function(a){var b,c,e,g,d,m,q,v=0;if(F(a))return this.each(function(b){n(this).removeClass(a.call(this,b,Ra(this)))});if(!arguments.length)return this.attr("class","");if((b=pb(a)).length)for(;c=this[v++];)if(g=Ra(c),e=1===c.nodeType&&" "+Qa(g)+" "){for(m=0;d=b[m++];)for(;-1<e.indexOf(" "+d+" ");)e=e.replace(" "+d+" "," ");g!==(q=Qa(e))&&c.setAttribute("class",q)}return this},toggleClass:function(a,
b){var c=typeof a,e="string"===c||Array.isArray(a);return"boolean"==typeof b&&e?b?this.addClass(a):this.removeClass(a):F(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,Ra(this),b),b)}):this.each(function(){var b,g,d,m;if(e)for(g=0,d=n(this),m=pb(a);b=m[g++];)d.hasClass(b)?d.removeClass(b):d.addClass(b);else void 0!==a&&"boolean"!==c||((b=Ra(this))&&S.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":S.get(this,"__className__")||""))})},hasClass:function(a){var b,
c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+Qa(Ra(b))+" ").indexOf(a))return!0;return!1}});var tc=/\r/g;n.fn.extend({val:function(a){var b,c,e,g=this[0];return arguments.length?(e=F(a),this.each(function(c){var g;1===this.nodeType&&(null==(g=e?a.call(this,c,n(this).val()):a)?g="":"number"==typeof g?g+="":Array.isArray(g)&&(g=n.map(g,function(a){return null==a?"":a+""})),(b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,g,"value")||(this.value=
g))})):g?(b=n.valHooks[g.type]||n.valHooks[g.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(g,"value"))?c:"string"==typeof(c=g.value)?c.replace(tc,""):null==c?"":c:void 0}});n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:Qa(n.text(a))}},select:{get:function(a){var b,c,e=a.options,g=a.selectedIndex,d="select-one"===a.type,m=d?null:[],q=d?g+1:e.length;for(c=0>g?q:d?g:0;c<q;c++)if(!(!(b=e[c]).selected&&c!==g||b.disabled||b.parentNode.disabled&&t(b.parentNode,
"optgroup"))){if(a=n(b).val(),d)return a;m.push(a)}return m},set:function(a,b){for(var c,e,g=a.options,d=n.makeArray(b),m=g.length;m--;)((e=g[m]).selected=-1<n.inArray(n.valHooks.option.get(e),d))&&(c=!0);return c||(a.selectedIndex=-1),d}}}});n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=-1<n.inArray(n(a).val(),b)}};ca.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});ca.focusin="onfocusin"in
f;var hc=/^(?:focusinfocus|focusoutblur)$/,ic=function(a){a.stopPropagation()};n.extend(n.event,{trigger:function(a,b,c,e){var g,d,m,q,v,z,I,B,k=[c||P],x=fa.call(a,"type")?a.type:a;g=fa.call(a,"namespace")?a.namespace.split("."):[];if(d=B=m=c=c||P,3!==c.nodeType&&8!==c.nodeType&&!hc.test(x+n.event.triggered)&&(-1<x.indexOf(".")&&(x=(g=x.split(".")).shift(),g.sort()),v=0>x.indexOf(":")&&"on"+x,(a=a[n.expando]?a:new n.Event(x,"object"==typeof a&&a)).isTrigger=e?2:3,a.namespace=g.join("."),a.rnamespace=
a.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=c),b=null==b?[a]:n.makeArray(b,[a]),I=n.event.special[x]||{},e||!I.trigger||!1!==I.trigger.apply(c,b))){if(!e&&!I.noBubble&&!R(c)){q=I.delegateType||x;for(hc.test(q+x)||(d=d.parentNode);d;d=d.parentNode)k.push(d),m=d;m===(c.ownerDocument||P)&&k.push(m.defaultView||m.parentWindow||f)}for(g=0;(d=k[g++])&&!a.isPropagationStopped();)B=d,a.type=1<g?q:I.bindType||x,(z=(S.get(d,"events")||{})[a.type]&&
S.get(d,"handle"))&&z.apply(d,b),(z=v&&d[v])&&z.apply&&Za(d)&&(a.result=z.apply(d,b),!1===a.result&&a.preventDefault());return a.type=x,e||a.isDefaultPrevented()||I._default&&!1!==I._default.apply(k.pop(),b)||!Za(c)||v&&F(c[x])&&!R(c)&&((m=c[v])&&(c[v]=null),n.event.triggered=x,a.isPropagationStopped()&&B.addEventListener(x,ic),c[x](),a.isPropagationStopped()&&B.removeEventListener(x,ic),n.event.triggered=void 0,m&&(c[v]=m)),a.result}},simulate:function(a,b,c){a=n.extend(new n.Event,c,{type:a,isSimulated:!0});
n.event.trigger(a,null,b)}});n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return n.event.trigger(a,b,c,!0)}});ca.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var e=this.ownerDocument||this,g=S.access(e,b);g||e.addEventListener(a,c,!0);S.access(e,b,(g||0)+1)},teardown:function(){var e=this.ownerDocument||
this,g=S.access(e,b)-1;g?S.access(e,b,g):(e.removeEventListener(a,c,!0),S.remove(e,b))}}});var Jb=f.location,jc=Date.now(),rb=/\?/;n.parseXML=function(a){var b;if(!a||"string"!=typeof a)return null;try{b=(new f.DOMParser).parseFromString(a,"text/xml")}catch(J){b=void 0}return b&&!b.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+a),b};var Fb=/\[\]$/,nb=/\r?\n/g,bc=/^(?:submit|button|image|reset|file)$/i,Cb=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,e=[],g=
function(a,b){var c=F(b)?b():b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){g(this.name,this.value)});else for(c in a)ia(c,a[c],b,g);return e.join("&")};n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&
!n(this).is(":disabled")&&Cb.test(this.nodeName)&&!bc.test(a)&&(this.checked||!b.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:Array.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(nb,"\r\n")}}):{name:b.name,value:c.replace(nb,"\r\n")}}).get()}});var ra=/%20/g,uc=/#.*$/,vc=/([?&])_=[^&]*/,cc=/^(.*?):[ \t]*([^\r\n]*)$/gm,ba=/^(?:GET|HEAD)$/,za=/^\/\//,Q={},Vb={},kc="*/".concat("*"),dc=P.createElement("a");dc.href=Jb.href;n.extend({active:0,lastModified:{},etag:{},
ajaxSettings:{url:Jb.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":JSON.parse,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?jb(jb(a,n.ajaxSettings),b):jb(n.ajaxSettings,a)},ajaxPrefilter:ka(Q),ajaxTransport:ka(Vb),ajax:function(a,b){function c(a,b,c,m){var z,B,k,J,l,T=b;v||(v=!0,q&&f.clearTimeout(q),e=void 0,d=m||"",t.readyState=0<a?4:0,z=200<=a&&300>a||304===a,c&&(J=function(a,b,c){for(var e,g,d,m,q=a.contents,f=a.dataTypes;"*"===f[0];)f.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));
if(e)for(g in q)if(q[g]&&q[g].test(e)){f.unshift(g);break}if(f[0]in c)d=f[0];else{for(g in c){if(!f[0]||a.converters[g+" "+f[0]]){d=g;break}m||(m=g)}d=d||m}if(d)return d!==f[0]&&f.unshift(d),c[d]}(x,t,c)),J=function(a,b,c,e){var g,d,m,q,f,z={},v=a.dataTypes.slice();if(v[1])for(m in a.converters)z[m.toLowerCase()]=a.converters[m];for(d=v.shift();d;)if(a.responseFields[d]&&(c[a.responseFields[d]]=b),!f&&e&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),f=d,d=v.shift())if("*"===d)d=f;else if("*"!==f&&
f!==d){if(!(m=z[f+" "+d]||z["* "+d]))for(g in z)if((q=g.split(" "))[1]===d&&(m=z[f+" "+q[0]]||z["* "+q[0]])){!0===m?m=z[g]:!0!==z[g]&&(d=q[0],v.unshift(q[1]));break}if(!0!==m)if(m&&a["throws"])b=m(b);else try{b=m(b)}catch(pc){return{state:"parsererror",error:m?pc:"No conversion from "+f+" to "+d}}}return{state:"success",data:b}}(x,J,t,z),z?(x.ifModified&&((l=t.getResponseHeader("Last-Modified"))&&(n.lastModified[g]=l),(l=t.getResponseHeader("etag"))&&(n.etag[g]=l)),204===a||"HEAD"===x.type?T="nocontent":
304===a?T="notmodified":(T=J.state,B=J.data,z=!(k=J.error))):(k=T,!a&&T||(T="error",0>a&&(a=0))),t.status=a,t.statusText=(b||T)+"",z?p.resolveWith(w,[B,T,t]):p.rejectWith(w,[t,T,k]),t.statusCode(D),D=void 0,I&&h.trigger(z?"ajaxSuccess":"ajaxError",[t,x,z?B:k]),M.fireWith(w,[t,T]),I&&(h.trigger("ajaxComplete",[t,x]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0);b=b||{};var e,g,d,m,q,z,v,I,B,k,x=n.ajaxSetup({},b),w=x.context||x,h=x.context&&(w.nodeType||w.jquery)?n(w):
n.event,p=n.Deferred(),M=n.Callbacks("once memory"),D=x.statusCode||{},l={},T={},r="canceled",t={readyState:0,getResponseHeader:function(a){var b;if(v){if(!m)for(m={};b=cc.exec(d);)m[b[1].toLowerCase()+" "]=(m[b[1].toLowerCase()+" "]||[]).concat(b[2]);b=m[a.toLowerCase()+" "]}return null==b?null:b.join(", ")},getAllResponseHeaders:function(){return v?d:null},setRequestHeader:function(a,b){return null==v&&(a=T[a.toLowerCase()]=T[a.toLowerCase()]||a,l[a]=b),this},overrideMimeType:function(a){return null==
v&&(x.mimeType=a),this},statusCode:function(a){var b;if(a)if(v)t.always(a[t.status]);else for(b in a)D[b]=[D[b],a[b]];return this},abort:function(a){a=a||r;return e&&e.abort(a),c(0,a),this}};if(p.promise(t),x.url=((a||x.url||Jb.href)+"").replace(za,Jb.protocol+"//"),x.type=b.method||b.type||x.method||x.type,x.dataTypes=(x.dataType||"*").toLowerCase().match(Ja)||[""],null==x.crossDomain){z=P.createElement("a");try{z.href=x.url,z.href=z.href,x.crossDomain=dc.protocol+"//"+dc.host!=z.protocol+"//"+z.host}catch(Xb){x.crossDomain=
!0}}if(x.data&&x.processData&&"string"!=typeof x.data&&(x.data=n.param(x.data,x.traditional)),pa(Q,x,b,t),v)return t;for(B in(I=n.event&&x.global)&&0==n.active++&&n.event.trigger("ajaxStart"),x.type=x.type.toUpperCase(),x.hasContent=!ba.test(x.type),g=x.url.replace(uc,""),x.hasContent?x.data&&x.processData&&0===(x.contentType||"").indexOf("application/x-www-form-urlencoded")&&(x.data=x.data.replace(ra,"+")):(k=x.url.slice(g.length),x.data&&(x.processData||"string"==typeof x.data)&&(g+=(rb.test(g)?
"&":"?")+x.data,delete x.data),!1===x.cache&&(g=g.replace(vc,"$1"),k=(rb.test(g)?"&":"?")+"_="+jc++ +k),x.url=g+k),x.ifModified&&(n.lastModified[g]&&t.setRequestHeader("If-Modified-Since",n.lastModified[g]),n.etag[g]&&t.setRequestHeader("If-None-Match",n.etag[g])),(x.data&&x.hasContent&&!1!==x.contentType||b.contentType)&&t.setRequestHeader("Content-Type",x.contentType),t.setRequestHeader("Accept",x.dataTypes[0]&&x.accepts[x.dataTypes[0]]?x.accepts[x.dataTypes[0]]+("*"!==x.dataTypes[0]?", "+kc+"; q=0.01":
""):x.accepts["*"]),x.headers)t.setRequestHeader(B,x.headers[B]);if(x.beforeSend&&(!1===x.beforeSend.call(w,t,x)||v))return t.abort();if(r="abort",M.add(x.complete),t.done(x.success),t.fail(x.error),e=pa(Vb,x,b,t)){if(t.readyState=1,I&&h.trigger("ajaxSend",[t,x]),v)return t;x.async&&0<x.timeout&&(q=f.setTimeout(function(){t.abort("timeout")},x.timeout));try{v=!1,e.send(l,c)}catch(Xb){if(v)throw Xb;c(-1,Xb)}}else c(-1,"No Transport");return t},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,
b){return n.get(a,void 0,b,"script")}});n.each(["get","post"],function(a,b){n[b]=function(a,c,e,g){return F(c)&&(g=g||e,e=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:g,data:c,success:e},n.isPlainObject(a)&&a))}});n._evalUrl=function(a,b){return n.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){n.globalEval(a,b)}})};n.fn.extend({wrapAll:function(a){var b;return this[0]&&(F(a)&&(a=a.call(this[0])),b=n(a,this[0].ownerDocument).eq(0).clone(!0),
this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return F(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=F(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){n(this).replaceWith(this.childNodes)}),
this}});n.expr.pseudos.hidden=function(a){return!n.expr.pseudos.visible(a)};n.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};n.ajaxSettings.xhr=function(){try{return new f.XMLHttpRequest}catch(v){}};var wc={0:200,1223:204},Kb=n.ajaxSettings.xhr();ca.cors=!!Kb&&"withCredentials"in Kb;ca.ajax=Kb=!!Kb;n.ajaxTransport(function(a){var b,c;if(ca.cors||Kb&&!a.crossDomain)return{send:function(e,g){var d,m=a.xhr();if(m.open(a.type,a.url,a.async,a.username,
a.password),a.xhrFields)for(d in a.xhrFields)m[d]=a.xhrFields[d];for(d in a.mimeType&&m.overrideMimeType&&m.overrideMimeType(a.mimeType),a.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)m.setRequestHeader(d,e[d]);b=function(a){return function(){b&&(b=c=m.onload=m.onerror=m.onabort=m.ontimeout=m.onreadystatechange=null,"abort"===a?m.abort():"error"===a?"number"!=typeof m.status?g(0,"error"):g(m.status,m.statusText):g(wc[m.status]||m.status,m.statusText,"text"!==(m.responseType||
"text")||"string"!=typeof m.responseText?{binary:m.response}:{text:m.responseText},m.getAllResponseHeaders()))}};m.onload=b();c=m.onerror=m.ontimeout=b("error");void 0!==m.onabort?m.onabort=c:m.onreadystatechange=function(){4===m.readyState&&f.setTimeout(function(){b&&c()})};b=b("abort");abort:function(){b&&b()}}});n.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}});n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});n.ajaxTransport("script",function(a){var b,c;if(a.crossDomain||a.scriptAttrs)return{send:function(e,g){b=n("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&g("error"===a.type?404:200,a.type)});P.head.appendChild(b[0])},
abort:function(){c&&c()}}});var lc,sa=[],wa=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=sa.pop()||n.expando+"_"+jc++;return this[a]=!0,a}});n.ajaxPrefilter("json jsonp",function(a,b,c){var e,g,d,m=!1!==a.jsonp&&(wa.test(a.url)?"url":"string"==typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&wa.test(a.data)&&"data");if(m||"jsonp"===a.dataTypes[0])return e=a.jsonpCallback=F(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,m?
a[m]=a[m].replace(wa,"$1"+e):!1!==a.jsonp&&(a.url+=(rb.test(a.url)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){return d||n.error(e+" was not called"),d[0]},a.dataTypes[0]="json",g=f[e],f[e]=function(){d=arguments},c.always(function(){void 0===g?n(f).removeProp(e):f[e]=g;a[e]&&(a.jsonpCallback=b.jsonpCallback,sa.push(e));d&&F(g)&&g(d[0]);d=g=void 0}),"script"});ca.createHTMLDocument=((lc=P.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===lc.childNodes.length);
n.parseHTML=function(a,b,c){return"string"!=typeof a?[]:("boolean"==typeof b&&(c=b,b=!1),b||(ca.createHTMLDocument?((e=(b=P.implementation.createHTMLDocument("")).createElement("base")).href=P.location.href,b.head.appendChild(e)):b=P),d=!c&&[],(g=Ab.exec(a))?[b.createElement(g[1])]:(g=W([a],b,d),d&&d.length&&n(d).remove(),n.merge([],g.childNodes)));var e,g,d};n.fn.load=function(a,b,c){var e,g,d,m=this,q=a.indexOf(" ");return-1<q&&(e=Qa(a.slice(q)),a=a.slice(0,q)),F(b)?(c=b,b=void 0):b&&"object"==
typeof b&&(g="POST"),0<m.length&&n.ajax({url:a,type:g||"GET",dataType:"html",data:b}).done(function(a){d=arguments;m.html(e?n("<div>").append(n.parseHTML(a)).find(e):a)}).always(c&&function(a,b){m.each(function(){c.apply(this,d||[a.responseText,b,a])})}),this};n.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){n.fn[b]=function(a){return this.on(b,a)}});n.expr.pseudos.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};n.offset=
{setOffset:function(a,b,c){var e,g,d,m,q,f,z=n.css(a,"position"),v=n(a),I={};"static"===z&&(a.style.position="relative");q=v.offset();d=n.css(a,"top");f=n.css(a,"left");("absolute"===z||"fixed"===z)&&-1<(d+f).indexOf("auto")?(m=(e=v.position()).top,g=e.left):(m=parseFloat(d)||0,g=parseFloat(f)||0);F(b)&&(b=b.call(a,c,n.extend({},q)));null!=b.top&&(I.top=b.top-q.top+m);null!=b.left&&(I.left=b.left-q.left+g);"using"in b?b.using.call(a,I):v.css(I)}};n.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,e=this[0];return e?e.getClientRects().length?(b=e.getBoundingClientRect(),c=e.ownerDocument.defaultView,{top:b.top+c.pageYOffset,left:b.left+c.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var a,b,c,e=this[0],g={top:0,left:0};if("fixed"===n.css(e,"position"))b=e.getBoundingClientRect();else{b=this.offset();c=e.ownerDocument;for(a=e.offsetParent||c.documentElement;a&&(a===c.body||a===c.documentElement)&&"static"===
n.css(a,"position");)a=a.parentNode;a&&a!==e&&1===a.nodeType&&((g=n(a).offset()).top+=n.css(a,"borderTopWidth",!0),g.left+=n.css(a,"borderLeftWidth",!0))}return{top:b.top-g.top-n.css(e,"marginTop",!0),left:b.left-g.left-n.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===n.css(a,"position");)a=a.offsetParent;return a||ub})}});n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=
function(e){return bb(this,function(a,e,g){var d;if(R(a)?d=a:9===a.nodeType&&(d=a.defaultView),void 0===g)return d?d[b]:a[e];d?d.scrollTo(c?d.pageXOffset:g,c?g:d.pageYOffset):a[e]=g},a,e,arguments.length)}});n.each(["top","left"],function(a,b){n.cssHooks[b]=Va(ca.pixelPosition,function(a,c){if(c)return c=ua(a,b),Pa.test(c)?n(a).position()[b]+"px":c})});n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,e){n.fn[e]=function(g,d){var m=arguments.length&&
(c||"boolean"!=typeof g),q=c||(!0===g||!0===d?"margin":"border");return bb(this,function(b,c,g){var d;return R(b)?0===e.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(d=b.documentElement,Math.max(b.body["scroll"+a],d["scroll"+a],b.body["offset"+a],d["offset"+a],d["client"+a])):void 0===g?n.css(b,c,q):n.style(b,c,g,q)},b,m?g:void 0,m)}})});n.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(a,b){n.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});n.proxy=function(a,b){var c,e,g;if("string"==typeof b&&(c=a[b],
b=a,a=c),F(a))return e=ta.call(arguments,2),(g=function(){return a.apply(b||this,e.concat(ta.call(arguments)))}).guid=a.guid=a.guid||n.guid++,g};n.holdReady=function(a){a?n.readyWait++:n.ready(!0)};n.isArray=Array.isArray;n.parseJSON=JSON.parse;n.nodeName=t;n.isFunction=F;n.isWindow=R;n.camelCase=O;n.type=l;n.now=Date.now;n.isNumeric=function(a){var b=n.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))};"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});
var xa=f.jQuery,da=f.$;return n.noConflict=function(a){return f.$===n&&(f.$=da),a&&f.jQuery===n&&(f.jQuery=xa),n},d||(f.jQuery=f.$=n),n});
(function(f){("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).dragula=f()})(function(){return function d(h,l,r){function t(A,G){if(!l[A]){if(!h[A]){var D="function"==typeof require&&require;if(!G&&D)return D(A,!0);if(k)return k(A,!0);D=Error("Cannot find module '"+A+"'");throw D.code="MODULE_NOT_FOUND",D;}D=l[A]={exports:{}};h[A][0].call(D.exports,function(d){var k=h[A][1][d];return t(k?k:d)},D,D.exports,d,h,l,r)}return l[A].exports}for(var k=
"function"==typeof require&&require,A=0;A<r.length;A++)t(r[A]);return t}({1:[function(d,h,l){function r(d){var k=t[d];k?k.lastIndex=0:t[d]=k=new RegExp("(?:^|\\s)"+d+"(?:\\s|$)","g");return k}var t={};h.exports={add:function(d,h){var k=d.className;k.length?r(h).test(k)||(d.className+=" "+h):d.className=h},rm:function(d,h){d.className=d.className.replace(r(h)," ").trim()}}},{}],2:[function(d,h,l){(function(l){function t(d,k,w,h){var p={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},
D={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},t={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};if(l.navigator.pointerEnabled)N[k](d,D[w],h);else if(l.navigator.msPointerEnabled)N[k](d,t[w],h);else N[k](d,p[w],h),N[k](d,w,h)}function k(d){if(void 0!==d.touches)return d.touches.length;if(void 0!==d.which&&0!==d.which)return d.which;if(void 0!==d.buttons)return d.buttons;d=d.button;if(void 0!==d)return d&1?1:d&2?3:d&4?2:0}function r(d){d=d.getBoundingClientRect();
return{left:d.left+y("scrollLeft","pageXOffset"),top:d.top+y("scrollTop","pageYOffset")}}function y(d,k){return"undefined"!==typeof l[k]?l[k]:Z.clientHeight?Z[d]:W.body[d]}function G(d,k,w){d=d||{};var h=d.className;d.className+=" gu-hide";k=W.elementFromPoint(k,w);d.className=h;return k}function D(){return!1}function p(){return!0}function w(d){return d.parentNode===W?null:d.parentNode}function O(d){return d&&("INPUT"===d.tagName||"TEXTAREA"===d.tagName||"SELECT"===d.tagName||U(d))}function U(d){return d&&
"false"!==d.contentEditable?"true"===d.contentEditable?!0:U(w(d)):!1}function L(d){var k;if(!(k=d.nextElementSibling)){do d=d.nextSibling;while(d&&1!==d.nodeType);k=d}return k}function E(d,k){var w;w=k.targetTouches&&k.targetTouches.length?k.targetTouches[0]:k.changedTouches&&k.changedTouches.length?k.changedTouches[0]:k;var h={pageX:"clientX",pageY:"clientY"};d in h&&!(d in w)&&h[d]in w&&(d=h[d]);return w[d]}var H=d("contra/emitter"),N=d("crossvent"),V=d("./classes"),W=document,Z=W.documentElement;
h.exports=function(d,h){function l(d){return-1!==R.containers.indexOf(d)||F.isContainer(d)}function A(d){d=d?"remove":"add";t(Z,d,"mousedown",aa);t(Z,d,"mouseup",Ea)}function y(d){t(Z,d?"remove":"add","mousemove",Ba)}function U(d){d=d?"remove":"add";N[d](Z,"selectstart",K);N[d](Z,"click",K)}function K(d){ca&&d.preventDefault()}function aa(d){ea=d.clientX;Ua=d.clientY;if(1===k(d)&&!d.metaKey&&!d.ctrlKey){var n=d.target,h=Ca(n);h&&(ca=h,y(),"mousedown"===d.type&&(O(n)?n.focus():d.preventDefault()))}}
function Ba(d){if(ca)if(0===k(d))Ea({});else if(void 0===d.clientX||d.clientX!==ea||void 0===d.clientY||d.clientY!==Ua){if(F.ignoreInputTextSelection){var n=E("clientX",d)-P,h=E("clientY",d)-na,n=W.elementFromPoint(n,h);if(O(n))return}n=ca;y(!0);U();fb();ua(n);P=na=0;n=r(pa);jb=E("pageX",d)-P-n.left;Ya=E("pageY",d)-na-n.top;!0===F.mirrorConstrain?(n=r(F.mirrorContainer),ta=n.left,$a=n.top):(ta=jb,$a=Ya);V.add(fa||pa,"gu-transit");ia||(n=pa.getBoundingClientRect(),ia=F.clone?F.clone(pa,"mirror")||
pa.cloneNode(!0):pa.cloneNode(!0),ia.style.width=(n.width||n.right-n.left)+"px",ia.style.height=(n.height||n.bottom-n.top)+"px",V.rm(ia,"gu-transit"),V.add(ia,"gu-mirror"),!0===F.mirrorConstrain&&V.add(ia,"gu-mirror-absolute"),F.mirrorContainer.appendChild(ia),t(Z,"add","mousemove",Na),V.add(F.mirrorContainer,"gu-unselectable"),R.emit("cloned",ia,pa,"mirror"));Na(d)}}function Ca(d){if(!R.dragging||!ia){var k=d;if(!l(d)||F.moves!==p&&F.moves(d,h,k,L(d))){for(;w(d)&&!1===l(w(d));){if(F.invalid(d,k))return;
d=w(d);if(!d)return}d=F.item(d)||d;var h=w(d);if(h&&!F.invalid(d,k)&&F.moves(d,h,k,L(d)))return{item:d,source:h}}}}function ua(d){if("boolean"===typeof F.copy?F.copy:F.copy(d.item,d.source))fa=F.clone?F.clone(d.item,"copy")||d.item.cloneNode(!0):d.item.cloneNode(!0),R.emit("cloned",fa,d.item,"copy");ka=d.source;pa=d.item;Ia=Ta=L(d.item);R.dragging=!0;R.emit("drag",pa,ka)}function Va(){return!1}function fb(){if(R.dragging){var d=fa||pa;ib(d,w(d))}}function Ea(d){ca=!1;y(!0);U(!0);if(R.dragging){var k=
fa||pa,h=E("clientX",d)-P;d=E("clientY",d)-na;var w=G(ia,h,d);(h=u(w,h,d))&&(fa&&F.copySortSource||!fa||h!==ka)?ib(k,h):F.removeOnSpill?gb():ya()}}function ib(d,k){var n=w(d);fa&&F.copySortSource&&k===ka&&n.removeChild(pa);Aa(k)?R.emit("cancel",d,ka,ka):R.emit("drop",d,k,ka,Ta);Xa()}function gb(){if(R.dragging){var d=fa||pa,k=w(d);k&&k.removeChild(d);R.emit(fa?"cancel":"remove",d,k,ka);Xa()}}function ya(d){if(R.dragging){var k=0<arguments.length?d:F.revertOnSpill,h=fa||pa,p=w(h),l=Aa(p);!1===l&&k&&
(fa?p&&p.removeChild(fa):ka.insertBefore(h,Ia));l||k?R.emit("cancel",h,ka,ka):R.emit("drop",h,p,ka,Ta);Xa()}}function Xa(){var d=fa||pa;ca=!1;y(!0);U(!0);ia&&(V.rm(F.mirrorContainer,"gu-unselectable"),t(Z,"remove","mousemove",Na),w(ia).removeChild(ia),ia=null);na=P=0;d&&V.rm(d,"gu-transit");kb&&clearTimeout(kb);R.dragging=!1;Sa&&R.emit("out",d,Sa,ka);R.emit("dragend",d);ka=pa=fa=Ia=Ta=kb=Sa=null}function Aa(d,k){var n;n=void 0!==k?k:ia?Ta:L(fa||pa);return d===ka&&n===Ia}function u(d,k,h){function n(){if(!1===
l(p))return!1;var n=Ra(p,d),n=pb(p,n,k,h);return Aa(p,n)?!0:F.accepts(fa||pa,p,ka,n)}for(var p=d;p&&!n();)p=w(p);return p}function Na(d){if(ia){d.preventDefault();P=na=0;var k=E("clientX",d);d=E("clientY",d);var h=k-ta,p=d-$a;if(!0===F.mirrorConstrain){var l=F.mirrorContainer.offsetHeight,D=F.mirrorContainer.offsetWidth,t=ia.offsetHeight,r=ia.offsetWidth;0>p?(na=p,p=0):p+t>l&&(na=Math.max(p-l+t,0),p=l-t);0>h?(P=h,h=0):h+r>D&&(P=Math.max(p-D+r,0),h=D-r)}k-=P;d-=na;ia.style.left=h+"px";ia.style.top=
p+"px";h=fa||pa;t=G(ia,k,d);p=u(t,k,d);if((l=null!==p&&p!==Sa)||null===p)Sa&&R.emit("out",h,Sa,ka),Sa=p,l&&R.emit("over",h,Sa,ka);D=w(h);if(p===ka&&fa&&!F.copySortSource)D&&D.removeChild(h);else{t=Ra(p,t);if(null!==t)k=pb(p,t,k,d);else{if(!0!==F.revertOnSpill||fa){fa&&D&&D.removeChild(h);return}k=Ia;p=ka}if(null===k&&l||k!==h&&k!==L(h))Ta=k,p.insertBefore(h,k),R.emit("shadow",h,p,ka)}}}function Fa(d){V.rm(d,"gu-hide")}function Qa(d){R.dragging&&V.add(d,"gu-hide")}function Ra(d,k){for(var h=k;h!==
d&&w(h)!==d;)h=w(h);return h===Z?null:h}function pb(d,k,h,w){function n(){var k=d.children.length,n,p,D;for(n=0;n<k;n++)if(p=d.children[n],D=p.getBoundingClientRect(),l&&D.left+D.width/2>h||!l&&D.top+D.height/2>w)return p;return null}function p(){var d=k.getBoundingClientRect();return l?h>d.left+(d.width||d.right-d.left)/2?L(k):k:w>d.top+(d.height||d.bottom-d.top)/2?L(k):k}var l="horizontal"===F.direction;return k!==d?p():n()}1===arguments.length&&!1===Array.isArray(d)&&(h=d,d=[]);var ia,ka,pa,jb,
Ya,P=0,na=0,ta,$a,ea,Ua,Ia,Ta,fa,kb,Sa=null,ca,F=h||{};void 0===F.moves&&(F.moves=p);void 0===F.accepts&&(F.accepts=p);void 0===F.invalid&&(F.invalid=Va);void 0===F.containers&&(F.containers=d||[]);void 0===F.isContainer&&(F.isContainer=D);void 0===F.copy&&(F.copy=!1);void 0===F.copySortSource&&(F.copySortSource=!1);void 0===F.mirrorConstrain&&(F.mirrorConstrain=!1);void 0===F.revertOnSpill&&(F.revertOnSpill=!1);void 0===F.removeOnSpill&&(F.removeOnSpill=!1);void 0===F.direction&&(F.direction="vertical");
void 0===F.ignoreInputTextSelection&&(F.ignoreInputTextSelection=!0);void 0===F.mirrorContainer&&(F.mirrorContainer=W.body);void 0===F.clone&&(F.clone=!1);void 0===F.item&&(F.item=function(d){return d});var R=H({containers:F.containers,start:function(d){(d=Ca(d))&&ua(d)},end:fb,cancel:ya,remove:gb,destroy:function(){A(!0);Ea({})},canMove:function(d){return!!Ca(d)},dragging:!1});if(!0===F.removeOnSpill)R.on("over",Fa).on("out",Qa);A();return R}}).call(this,"undefined"!==typeof global?global:"undefined"!==
typeof self?self:"undefined"!==typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(d,h,l){h.exports=function(d,h){return Array.prototype.slice.call(d,h)}},{}],4:[function(d,h,l){var r=d("ticky");h.exports=function(d,k,h){d&&r(function(){d.apply(h||null,k||[])})}},{ticky:9}],5:[function(d,h,l){var r=d("atoa"),t=d("./debounce");h.exports=function(d,h){var k=h||{},l={};void 0===d&&(d={});d.on=function(k,h){l[k]?l[k].push(h):l[k]=[h];return d};d.once=function(k,h){h._once=
!0;d.on(k,h);return d};d.off=function(k,h){var w=arguments.length;if(1===w)delete l[k];else if(0===w)l={};else{w=l[k];if(!w)return d;w.splice(w.indexOf(h),1)}return d};d.emit=function(){var k=r(arguments);return d.emitterSnapshot(k.shift()).apply(this,k)};d.emitterSnapshot=function(h){var p=(l[h]||[]).slice(0);return function(){var w=r(arguments),l=this||d;if("error"===h&&!1!==k["throws"]&&!p.length)throw 1===w.length?w[0]:w;p.forEach(function(p){k.async?t(p,w,l):p.apply(l,w);p._once&&d.off(h,p)});
return d}};return d}},{"./debounce":4,atoa:3}],6:[function(d,h,l){(function(l){function t(d,k,h){return d.attachEvent("on"+k,y(d,k,h))}function k(d,k,h){if(h=G(d,k,h))return d.detachEvent("on"+k,h)}function r(d,k,h){return function(k){var w=k||l.event;w.target=w.target||w.srcElement;w.preventDefault=w.preventDefault||function(){w.returnValue=!1};w.stopPropagation=w.stopPropagation||function(){w.cancelBubble=!0};w.which=w.which||w.keyCode;h.call(d,w)}}function y(d,k,h){var w=G(d,k,h)||r(d,k,h);L.push({wrapper:w,
element:d,type:k,fn:h});return w}function G(d,k,h){a:{var w,p;for(w=0;w<L.length;w++)if(p=L[w],p.element===d&&p.type===k&&p.fn===h){d=w;break a}d=void 0}if(d)return k=L[d].wrapper,L.splice(d,1),k}var D=d("custom-event"),p=d("./eventmap"),w=l.document,O=function(d,k,h,w){return d.addEventListener(k,h,w)},U=function(d,k,h,w){return d.removeEventListener(k,h,w)},L=[];l.addEventListener||(O=t,U=k);h.exports={add:O,remove:U,fabricate:function(d,k,h){if(-1===p.indexOf(k))h=new D(k,{detail:h});else{var l;
w.createEvent?(l=w.createEvent("Event"),l.initEvent(k,!0,!0)):w.createEventObject&&(l=w.createEventObject());h=l}d.dispatchEvent?d.dispatchEvent(h):d.fireEvent("on"+k,h)}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(d,h,l){d="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};l=[];var r="",t=/^on/;for(r in d)t.test(r)&&l.push(r.slice(2));
h.exports=l},{}],8:[function(d,h,l){(function(d){var l=d.CustomEvent;h.exports=function(){try{var d=new l("cat",{detail:{foo:"bar"}});return"cat"===d.type&&"bar"===d.detail.foo}catch(A){}return!1}()?l:"function"===typeof document.createEvent?function(d,h){var k=document.createEvent("CustomEvent");h?k.initCustomEvent(d,h.bubbles,h.cancelable,h.detail):k.initCustomEvent(d,!1,!1,void 0);return k}:function(d,h){var k=document.createEventObject();k.type=d;h?(k.bubbles=!!h.bubbles,k.cancelable=!!h.cancelable,
k.detail=h.detail):(k.bubbles=!1,k.cancelable=!1,k.detail=void 0);return k}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],9:[function(d,h,l){h.exports="function"===typeof setImmediate?function(d){setImmediate(d)}:function(d){setTimeout(d,0)}},{}]},{},[2])(2)});(function(f){f(jQuery)})(function(f){f.ui=f.ui||{};return f.ui.version="1.12.1"});(function(){})();
(function(f){f(jQuery)})(function(f){return f.extend(f.expr[":"],{data:f.expr.createPseudo?f.expr.createPseudo(function(d){return function(h){return!!f.data(h,d)}}):function(d,h,l){return!!f.data(d,l[3])}})});(function(f){f(jQuery)})(function(f){return f.fn.extend({disableSelection:function(){var d="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(d+".ui-disableSelection",function(d){d.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})});
(function(f){f(jQuery)})(function(f){return f.ui.plugin={add:function(d,h,l){var r;d=f.ui[d].prototype;for(r in l)d.plugins[r]=d.plugins[r]||[],d.plugins[r].push([h,l[r]])},call:function(d,f,l,r){if((f=d.plugins[f])&&(r||d.element[0].parentNode&&11!==d.element[0].parentNode.nodeType))for(r=0;r<f.length;r++)d.options[f[r][0]]&&f[r][1].apply(d.element,l)}}});
(function(f){f(jQuery)})(function(f){return f.fn.scrollParent=function(d){var h=this.css("position"),l="absolute"===h,r=d?/(auto|scroll|hidden)/:/(auto|scroll)/;d=this.parents().filter(function(){var d=f(this);return l&&"static"===d.css("position")?!1:r.test(d.css("overflow")+d.css("overflow-y")+d.css("overflow-x"))}).eq(0);return"fixed"!==h&&d.length?d:f(this[0].ownerDocument||document)}});
(function(f){f(jQuery)})(function(f){var d=0,h=Array.prototype.slice;f.cleanData=function(d){return function(h){var l,k,r;for(r=0;null!=(k=h[r]);r++)try{(l=f._data(k,"events"))&&l.remove&&f(k).triggerHandler("remove")}catch(y){}d(h)}}(f.cleanData);f.widget=function(d,h,t){var k,l,r,G={},D=d.split(".")[0];d=d.split(".")[1];var p=D+"-"+d;t||(t=h,h=f.Widget);f.isArray(t)&&(t=f.extend.apply(null,[{}].concat(t)));f.expr[":"][p.toLowerCase()]=function(d){return!!f.data(d,p)};f[D]=f[D]||{};k=f[D][d];l=f[D][d]=
function(d,f){if(!this._createWidget)return new l(d,f);arguments.length&&this._createWidget(d,f)};f.extend(l,k,{version:t.version,_proto:f.extend({},t),_childConstructors:[]});r=new h;r.options=f.widget.extend({},r.options);f.each(t,function(d,k){f.isFunction(k)?G[d]=function(){function f(){return h.prototype[d].apply(this,arguments)}function w(f){return h.prototype[d].apply(this,f)}return function(){var d=this._super,h=this._superApply,p;this._super=f;this._superApply=w;p=k.apply(this,arguments);
this._super=d;this._superApply=h;return p}}():G[d]=k});l.prototype=f.widget.extend(r,{widgetEventPrefix:k?r.widgetEventPrefix||d:d},G,{constructor:l,namespace:D,widgetName:d,widgetFullName:p});k?(f.each(k._childConstructors,function(d,k){var h=k.prototype;f.widget(h.namespace+"."+h.widgetName,l,k._proto)}),delete k._childConstructors):h._childConstructors.push(l);f.widget.bridge(d,l);return l};f.widget.extend=function(d){for(var l=h.call(arguments,1),t=0,k=l.length,A,y;t<k;t++)for(A in l[t])y=l[t][A],
l[t].hasOwnProperty(A)&&void 0!==y&&(f.isPlainObject(y)?d[A]=f.isPlainObject(d[A])?f.widget.extend({},d[A],y):f.widget.extend({},y):d[A]=y);return d};f.widget.bridge=function(d,r){var l=r.prototype.widgetFullName||d;f.fn[d]=function(k){var t="string"===typeof k,y=h.call(arguments,1),G=this;t?this.length||"instance"!==k?this.each(function(){var h,p=f.data(this,l);if("instance"===k)return G=p,!1;if(!p)return f.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+
k+"'");if(!f.isFunction(p[k])||"_"===k.charAt(0))return f.error("no such method '"+k+"' for "+d+" widget instance");h=p[k].apply(p,y);if(h!==p&&void 0!==h)return G=h&&h.jquery?G.pushStack(h.get()):h,!1}):G=void 0:(y.length&&(k=f.widget.extend.apply(null,[k].concat(y))),this.each(function(){var d=f.data(this,l);d?(d.option(k||{}),d._init&&d._init()):f.data(this,l,new r(k,this))}));return G}};f.Widget=function(){};f.Widget._childConstructors=[];f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",
defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(h,r){r=f(r||this.defaultElement||this)[0];this.element=f(r);this.uuid=d++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=f();this.hoverable=f();this.focusable=f();this.classesElementLookup={};r!==this&&(f.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(d){d.target===r&&this.destroy()}}),this.document=f(r.style?r.ownerDocument:r.document||r),this.window=f(this.document[0].defaultView||
this.document[0].parentWindow));this.options=f.widget.extend({},this.options,this._getCreateOptions(),h);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:f.noop,_create:f.noop,_init:f.noop,destroy:function(){var d=this;this._destroy();f.each(this.classesElementLookup,function(f,h){d._removeClass(h,f)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);
this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:f.noop,widget:function(){return this.element},option:function(d,h){var l=d,k,r,y;if(0===arguments.length)return f.widget.extend({},this.options);if("string"===typeof d)if(l={},k=d.split("."),d=k.shift(),k.length){r=l[d]=f.widget.extend({},this.options[d]);for(y=0;y<k.length-1;y++)r[k[y]]=r[k[y]]||{},r=r[k[y]];d=k.pop();if(1===arguments.length)return void 0===r[d]?null:r[d];r[d]=h}else{if(1===
arguments.length)return void 0===this.options[d]?null:this.options[d];l[d]=h}this._setOptions(l);return this},_setOptions:function(d){for(var f in d)this._setOption(f,d[f]);return this},_setOption:function(d,f){"classes"===d&&this._setOptionClasses(f);this.options[d]=f;"disabled"===d&&this._setOptionDisabled(f);return this},_setOptionClasses:function(d){var h,l,k;for(h in d)k=this.classesElementLookup[h],d[h]!==this.options.classes[h]&&k&&k.length&&(l=f(k.get()),this._removeClass(k,h),l.addClass(this._classes({element:l,
keys:h,classes:d,add:!0})))},_setOptionDisabled:function(d){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!d);d&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(d){function h(h,t){var r,D;for(D=0;D<h.length;D++)r=k.classesElementLookup[h[D]]||f(),r=d.add?f(f.unique(r.get().concat(d.element.get()))):
f(r.not(d.element).get()),k.classesElementLookup[h[D]]=r,l.push(h[D]),t&&d.classes[h[D]]&&l.push(d.classes[h[D]])}var l=[],k=this;d=f.extend({element:this.element,classes:this.options.classes||{}},d);this._on(d.element,{remove:"_untrackClassesElement"});d.keys&&h(d.keys.match(/\S+/g)||[],!0);d.extra&&h(d.extra.match(/\S+/g)||[]);return l.join(" ")},_untrackClassesElement:function(d){var h=this;f.each(h.classesElementLookup,function(l,k){-1!==f.inArray(d.target,k)&&(h.classesElementLookup[l]=f(k.not(d.target).get()))})},
_removeClass:function(d,f,h){return this._toggleClass(d,f,h,!1)},_addClass:function(d,f,h){return this._toggleClass(d,f,h,!0)},_toggleClass:function(d,f,h,k){k="boolean"===typeof k?k:h;var l="string"===typeof d||null===d;d={extra:l?f:h,keys:l?d:f,element:l?this.element:d,add:k};d.element.toggleClass(this._classes(d),k);return this},_on:function(d,h,t){var k,l=this;"boolean"!==typeof d&&(t=h,h=d,d=!1);t?(h=k=f(h),this.bindings=this.bindings.add(h)):(t=h,h=this.element,k=this.widget());f.each(t,function(t,
r){function D(){if(d||!0!==l.options.disabled&&!f(this).hasClass("ui-state-disabled"))return("string"===typeof r?l[r]:r).apply(l,arguments)}"string"!==typeof r&&(D.guid=r.guid=r.guid||D.guid||f.guid++);var p=t.match(/^([\w:-]*)\s*(.*)$/),w=p[1]+l.eventNamespace;if(p=p[2])k.on(w,p,D);else h.on(w,D)})},_off:function(d,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;d.off(h).off(h);this.bindings=f(this.bindings.not(d).get());this.focusable=f(this.focusable.not(d).get());this.hoverable=
f(this.hoverable.not(d).get())},_delay:function(d,f){var h=this;return setTimeout(function(){return("string"===typeof d?h[d]:d).apply(h,arguments)},f||0)},_hoverable:function(d){this.hoverable=this.hoverable.add(d);this._on(d,{mouseenter:function(d){this._addClass(f(d.currentTarget),null,"ui-state-hover")},mouseleave:function(d){this._removeClass(f(d.currentTarget),null,"ui-state-hover")}})},_focusable:function(d){this.focusable=this.focusable.add(d);this._on(d,{focusin:function(d){this._addClass(f(d.currentTarget),
null,"ui-state-focus")},focusout:function(d){this._removeClass(f(d.currentTarget),null,"ui-state-focus")}})},_trigger:function(d,h,t){var k,l=this.options[d];t=t||{};h=f.Event(h);h.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase();h.target=this.element[0];if(d=h.originalEvent)for(k in d)k in h||(h[k]=d[k]);this.element.trigger(h,t);return!(f.isFunction(l)&&!1===l.apply(this.element[0],[h].concat(t))||h.isDefaultPrevented())}};f.each({show:"fadeIn",hide:"fadeOut"},function(d,
h){f.Widget.prototype["_"+d]=function(l,k,r){"string"===typeof k&&(k={effect:k});var t,G=k?!0===k||"number"===typeof k?h:k.effect||h:d;k=k||{};"number"===typeof k&&(k={duration:k});t=!f.isEmptyObject(k);k.complete=r;k.delay&&l.delay(k.delay);if(t&&f.effects&&f.effects.effect[G])l[d](k);else if(G!==d&&l[G])l[G](k.duration,k.easing,r);else l.queue(function(k){f(this)[d]();r&&r.call(l[0]);k()})}});return f.widget});
(function(f){f(jQuery)})(function(f){var d=!1;f(document).on("mouseup",function(){d=!1});return f.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.on("mousedown."+this.widgetName,function(f){return d._mouseDown(f)}).on("click."+this.widgetName,function(h){if(!0===f.data(h.target,d.widgetName+".preventClickEvent"))return f.removeData(h.target,d.widgetName+".preventClickEvent"),h.stopImmediatePropagation(),
!1});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(h){if(!d){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(h);this._mouseDownEvent=h;var l=this,r=1===h.which,t="string"===typeof this.options.cancel&&h.target.nodeName?f(h.target).closest(this.options.cancel).length:!1;if(!r||t||!this._mouseCapture(h))return!0;
this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){l.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(h)&&this._mouseDelayMet(h)&&(this._mouseStarted=!1!==this._mouseStart(h),!this._mouseStarted))return h.preventDefault(),!0;!0===f.data(h.target,this.widgetName+".preventClickEvent")&&f.removeData(h.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(d){return l._mouseMove(d)};this._mouseUpDelegate=function(d){return l._mouseUp(d)};
this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);h.preventDefault();return d=!0}},_mouseMove:function(d){if(this._mouseMoved){if(f.ui.ie&&(!document.documentMode||9>document.documentMode)&&!d.button)return this._mouseUp(d);if(!d.which)if(d.originalEvent.altKey||d.originalEvent.ctrlKey||d.originalEvent.metaKey||d.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(d)}if(d.which||
d.button)this._mouseMoved=!0;if(this._mouseStarted)return this._mouseDrag(d),d.preventDefault();this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,d))?this._mouseDrag(d):this._mouseUp(d));return!this._mouseStarted},_mouseUp:function(h){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,h.target===this._mouseDownEvent.target&&
f.data(h.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(h));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);d=this.ignoreMissingWhich=!1;h.preventDefault()},_mouseDistanceMet:function(d){return Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},
_mouseCapture:function(){return!0}})});
(function(f,d,h){function l(d){d=d||location.href;return"#"+d.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var r,t=f.event.special,k=document.documentMode,A="onhashchange"in d&&(k===h||7<k);f.fn.hashchange=function(d){return d?this.bind("hashchange",d):this.trigger("hashchange")};f.fn.hashchange.delay=50;t.hashchange=f.extend(t.hashchange,{setup:function(){if(A)return!1;f(r.start)},teardown:function(){if(A)return!1;f(r.stop)}});r=function(){function k(){var h=l(),w=A(p);h!==p?(r(p=h,w),f(d).trigger("hashchange")):
w!==p&&(location.href=location.href.replace(/#.*/,"")+w);D=setTimeout(k,f.fn.hashchange.delay)}var t={},D,p=l(),w=function(d){return d},r=w,A=w;t.start=function(){D||k()};t.stop=function(){D&&clearTimeout(D);D=h};return t}()})(jQuery,this);
(function(f,d){f.Handlebars=d()})(this,function(){return function(f){function d(l){if(h[l])return h[l].exports;var r=h[l]={exports:{},id:l,loaded:!1};f[l].call(r.exports,r,r.exports,d);r.loaded=!0;return r.exports}var h={};d.m=f;d.c=h;d.p="";return d(0)}([function(f,d,h){function l(){var d=p();d.compile=function(f,k){return G.compile(f,k,d)};d.precompile=function(f,k){return G.precompile(f,k,d)};d.AST=A["default"];d.Compiler=G.Compiler;d.JavaScriptCompiler=D["default"];d.Parser=y.parser;d.parse=y.parse;
return d}var r=h(1)["default"];d.__esModule=!0;var t=h(2),t=r(t),k=h(35),A=r(k),y=h(36),G=h(41),k=h(42),D=r(k),k=h(39),k=r(k);h=h(34);var r=r(h),p=t["default"].create,t=l();t.create=l;r["default"](t);t.Visitor=k["default"];t["default"]=t;d["default"]=t;f.exports=d["default"]},function(f,d){d["default"]=function(d){return d&&d.__esModule?d:{"default":d}};d.__esModule=!0},function(f,d,h){function l(){var d=new A.HandlebarsEnvironment;D.extend(d,A);d.SafeString=y["default"];d.Exception=G["default"];
d.Utils=D;d.escapeExpression=D.escapeExpression;d.VM=p;d.template=function(f){return p.template(f,d)};return d}var r=h(3)["default"],t=h(1)["default"];d.__esModule=!0;var k=h(4),A=r(k),k=h(21),y=t(k),k=h(6),G=t(k),k=h(5),D=r(k),k=h(22),p=r(k);h=h(34);t=t(h);h=l();h.create=l;t["default"](h);h["default"]=h;d["default"]=h;f.exports=d["default"]},function(f,d){d["default"]=function(d){if(d&&d.__esModule)return d;var f={};if(null!=d)for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[h]=d[h]);
f["default"]=d;return f};d.__esModule=!0},function(f,d,h){function l(d,f,k){this.helpers=d||{};this.partials=f||{};this.decorators=k||{};A.registerDefaultHelpers(this);y.registerDefaultDecorators(this)}f=h(1)["default"];d.__esModule=!0;d.HandlebarsEnvironment=l;var r=h(5),t=h(6),k=f(t),A=h(10),y=h(18);h=h(20);h=f(h);d.VERSION="4.1.2";d.COMPILER_REVISION=7;d.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};l.prototype=
{constructor:l,logger:h["default"],log:h["default"].log,registerHelper:function(d,f){if("[object Object]"===r.toString.call(d)){if(f)throw new k["default"]("Arg not supported with multiple helpers");r.extend(this.helpers,d)}else this.helpers[d]=f},unregisterHelper:function(d){delete this.helpers[d]},registerPartial:function(d,f){if("[object Object]"===r.toString.call(d))r.extend(this.partials,d);else{if("undefined"===typeof f)throw new k["default"]('Attempting to register a partial called "'+d+'" as undefined');
this.partials[d]=f}},unregisterPartial:function(d){delete this.partials[d]},registerDecorator:function(d,f){if("[object Object]"===r.toString.call(d)){if(f)throw new k["default"]("Arg not supported with multiple decorators");r.extend(this.decorators,d)}else this.decorators[d]=f},unregisterDecorator:function(d){delete this.decorators[d]}};d.log=h["default"].log;d.createFrame=r.createFrame;d.logger=h["default"]},function(f,d){function h(d){return r[d]}function l(d){for(var f=1;f<arguments.length;f++)for(var k in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],
k)&&(d[k]=arguments[f][k]);return d}d.__esModule=!0;d.extend=l;d.indexOf=function(d,f){for(var k=0,h=d.length;k<h;k++)if(d[k]===f)return k;return-1};d.escapeExpression=function(d){if("string"!==typeof d){if(d&&d.toHTML)return d.toHTML();if(null==d)return"";if(!d)return d+"";d=""+d}return k.test(d)?d.replace(t,h):d};d.isEmpty=function(d){return d||0===d?G(d)&&0===d.length?!0:!1:!0};d.createFrame=function(d){var f=l({},d);f._parent=d;return f};d.blockParams=function(d,f){d.path=f;return d};d.appendContextPath=
function(d,f){return(d?d+".":"")+f};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},t=/[&<>"'`=]/g,k=/[&<>"'`=]/,A=Object.prototype.toString;d.toString=A;var y=function(d){return"function"===typeof d};y(/x/)&&(d.isFunction=y=function(d){return"function"===typeof d&&"[object Function]"===A.call(d)});d.isFunction=y;var G=Array.isArray||function(d){return d&&"object"===typeof d?"[object Array]"===A.call(d):!1};d.isArray=G},function(f,d,h){function l(d,f){var k=
f&&f.loc,h=void 0,D=void 0;k&&(h=k.start.line,D=k.start.column,d+=" - "+h+":"+D);for(var p=Error.prototype.constructor.call(this,d),w=0;w<t.length;w++)this[t[w]]=p[t[w]];Error.captureStackTrace&&Error.captureStackTrace(this,l);try{k&&(this.lineNumber=h,r?Object.defineProperty(this,"column",{value:D,enumerable:!0}):this.column=D)}catch(O){}}var r=h(7)["default"];d.__esModule=!0;var t="description fileName lineNumber message name number stack".split(" ");l.prototype=Error();d["default"]=l;f.exports=
d["default"]},function(f,d,h){f.exports={"default":h(8),__esModule:!0}},function(f,d,h){var l=h(9);f.exports=function(d,f,k){return l.setDesc(d,f,k)}},function(f,d){var h=Object;f.exports={create:h.create,getProto:h.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:h.getOwnPropertyDescriptor,setDesc:h.defineProperty,setDescs:h.defineProperties,getKeys:h.keys,getNames:h.getOwnPropertyNames,getSymbols:h.getOwnPropertySymbols,each:[].forEach}},function(f,d,h){f=h(1)["default"];d.__esModule=!0;d.registerDefaultHelpers=
function(d){l["default"](d);r["default"](d);t["default"](d);k["default"](d);A["default"](d);y["default"](d);G["default"](d)};d=h(11);var l=f(d);d=h(12);var r=f(d);d=h(13);var t=f(d);d=h(14);var k=f(d);d=h(15);var A=f(d);d=h(16);var y=f(d);h=h(17);var G=f(h)},function(f,d,h){d.__esModule=!0;var l=h(5);d["default"]=function(d){d.registerHelper("blockHelperMissing",function(f,k){var h=k.inverse,t=k.fn;if(!0===f)return t(this);if(!1===f||null==f)return h(this);if(l.isArray(f))return 0<f.length?(k.ids&&
(k.ids=[k.name]),d.helpers.each(f,k)):h(this);k.data&&k.ids&&(h=l.createFrame(k.data),h.contextPath=l.appendContextPath(k.data.contextPath,k.name),k={data:h});return t(f,k)})};f.exports=d["default"]},function(f,d,h){var l=h(1)["default"];d.__esModule=!0;var r=h(5);h=h(6);var t=l(h);d["default"]=function(d){d.registerHelper("each",function(d,f){function k(f,k,w){A&&(A.key=f,A.index=k,A.first=0===k,A.last=!!w,y&&(A.contextPath=y+f));l+=h(d[f],{data:A,blockParams:r.blockParams([d[f],f],[y+f,null])})}
if(!f)throw new t["default"]("Must pass iterator to #each");var h=f.fn,p=f.inverse,w=0,l="",A=void 0,y=void 0;f.data&&f.ids&&(y=r.appendContextPath(f.data.contextPath,f.ids[0])+".");r.isFunction(d)&&(d=d.call(this));f.data&&(A=r.createFrame(f.data));if(d&&"object"===typeof d)if(r.isArray(d))for(var E=d.length;w<E;w++)w in d&&k(w,w,w===d.length-1);else{var E=void 0,H;for(H in d)d.hasOwnProperty(H)&&(void 0!==E&&k(E,w-1),E=H,w++);void 0!==E&&k(E,w-1,!0)}0===w&&(l=p(this));return l})};f.exports=d["default"]},
function(f,d,h){var l=h(1)["default"];d.__esModule=!0;h=h(6);var r=l(h);d["default"]=function(d){d.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');})};f.exports=d["default"]},function(f,d,h){d.__esModule=!0;var l=h(5);d["default"]=function(d){d.registerHelper("if",function(d,f){l.isFunction(d)&&(d=d.call(this));return!f.hash.includeZero&&!d||l.isEmpty(d)?f.inverse(this):f.fn(this)});d.registerHelper("unless",
function(f,k){return d.helpers["if"].call(this,f,{fn:k.inverse,inverse:k.fn,hash:k.hash})})};f.exports=d["default"]},function(f,d){d.__esModule=!0;d["default"]=function(d){d.registerHelper("log",function(){for(var f=[void 0],h=arguments[arguments.length-1],t=0;t<arguments.length-1;t++)f.push(arguments[t]);t=1;null!=h.hash.level?t=h.hash.level:h.data&&null!=h.data.level&&(t=h.data.level);f[0]=t;d.log.apply(d,f)})};f.exports=d["default"]},function(f,d){d.__esModule=!0;d["default"]=function(d){d.registerHelper("lookup",
function(d,f){if(!d)return d;if("constructor"!==f||d.propertyIsEnumerable(f))return d[f]})};f.exports=d["default"]},function(f,d,h){d.__esModule=!0;var l=h(5);d["default"]=function(d){d.registerHelper("with",function(d,f){l.isFunction(d)&&(d=d.call(this));var k=f.fn;if(l.isEmpty(d))return f.inverse(this);var h=f.data;f.data&&f.ids&&(h=l.createFrame(f.data),h.contextPath=l.appendContextPath(f.data.contextPath,f.ids[0]));return k(d,{data:h,blockParams:l.blockParams([d],[h&&h.contextPath])})})};f.exports=
d["default"]},function(f,d,h){f=h(1)["default"];d.__esModule=!0;d.registerDefaultDecorators=function(d){l["default"](d)};d=h(19);var l=f(d)},function(f,d,h){d.__esModule=!0;var l=h(5);d["default"]=function(d){d.registerDecorator("inline",function(d,f,h,r){var k=d;f.partials||(f.partials={},k=function(k,p){var w=h.partials;h.partials=l.extend({},w,f.partials);var D=d(k,p);h.partials=w;return D});f.partials[r.args[0]]=r.fn;return k})};f.exports=d["default"]},function(f,d,h){d.__esModule=!0;var l=h(5),
r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(d){if("string"===typeof d){var f=l.indexOf(r.methodMap,d.toLowerCase());d=0<=f?f:parseInt(d,10)}return d},log:function(d){d=r.lookupLevel(d);if("undefined"!==typeof console&&r.lookupLevel(r.level)<=d){var f=r.methodMap[d];console[f]||(f="log");for(var h=arguments.length,l=Array(1<h?h-1:0),t=1;t<h;t++)l[t-1]=arguments[t];console[f].apply(console,l)}}};d["default"]=r;f.exports=d["default"]},function(f,d){function h(d){this.string=
d}d.__esModule=!0;h.prototype.toString=h.prototype.toHTML=function(){return""+this.string};d["default"]=h;f.exports=d["default"]},function(f,d,h){function l(d,f,h,p,l,D,t){function w(f){var k=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],w=t;!t||f==t[0]||f===d.nullContext&&null===t[0]||(w=[f].concat(t));return h(d,f,d.helpers,d.partials,k.data||p,D&&[k.blockParams].concat(D),w)}w=k(h,w,d,t,p,D);w.program=f;w.depth=t?t.length:0;w.blockParams=l||0;return w}function r(){return""}function t(d,
f){f&&"root"in f||(f=f?p.createFrame(f):{},f.root=d);return f}function k(d,f,k,h,p,l){if(d.decorator){var w={};f=d.decorator(f,w,k,h&&h[0],p,l,h);G.extend(f,w)}return f}var A=h(23)["default"],y=h(3)["default"];f=h(1)["default"];d.__esModule=!0;d.checkRevision=function(d){var f=d&&d[0]||1,k=p.COMPILER_REVISION;if(f!==k){if(f<k)throw new D["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+p.REVISION_CHANGES[k]+
") or downgrade your runtime to an older version ("+p.REVISION_CHANGES[f]+").");throw new D["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+d[1]+").");}};d.template=function(d,f){function h(f){function w(f){return""+d.main(p,f,p.helpers,p.partials,D,G,r)}var l=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],D=l.data;h._setup(l);!l.partial&&d.useData&&(D=t(f,D));var r=void 0,G=d.useBlockParams?
[]:void 0;d.useDepths&&(r=l.depths?f!=l.depths[0]?[f].concat(l.depths):l.depths:[f]);w=k(d.main,w,p,l.depths||[],D,G);return w(f,l)}if(!f)throw new D["default"]("No environment passed to template");if(!d||!d.main)throw new D["default"]("Unknown template object: "+typeof d);d.main.decorator=d.main_d;f.VM.checkRevision(d.compiler);var p={strict:function(d,f){if(!(f in d))throw new D["default"]('"'+f+'" not defined in '+d);return d[f]},lookup:function(d,f){for(var k=d.length,h=0;h<k;h++)if(d[h]&&null!=
d[h][f])return d[h][f]},lambda:function(d,f){return"function"===typeof d?d.call(f):d},escapeExpression:G.escapeExpression,invokePartial:function(k,h,p){p.hash&&(h=G.extend({},h,p.hash),p.ids&&(p.ids[0]=!0));k=f.VM.resolvePartial.call(this,k,h,p);var w=f.VM.invokePartial.call(this,k,h,p);null==w&&f.compile&&(p.partials[p.name]=f.compile(k,d.compilerOptions,f),w=p.partials[p.name](h,p));if(null!=w){if(p.indent){k=w.split("\n");h=0;for(w=k.length;h<w&&(k[h]||h+1!==w);h++)k[h]=p.indent+k[h];w=k.join("\n")}return w}throw new D["default"]("The partial "+
p.name+" could not be compiled when running in runtime-only mode");},fn:function(f){var k=d[f];k.decorator=d[f+"_d"];return k},programs:[],program:function(d,f,k,h,p){var w=this.programs[d],D=this.fn(d);f||p||h||k?w=l(this,d,D,f,k,h,p):w||(w=this.programs[d]=l(this,d,D));return w},data:function(d,f){for(;d&&f--;)d=d._parent;return d},merge:function(d,f){var k=d||f;d&&f&&d!==f&&(k=G.extend({},f,d));return k},nullContext:A({}),noop:f.VM.noop,compilerInfo:d.compiler};h.isTop=!0;h._setup=function(k){if(k.partial)p.helpers=
k.helpers,p.partials=k.partials,p.decorators=k.decorators;else if(p.helpers=p.merge(k.helpers,f.helpers),d.usePartial&&(p.partials=p.merge(k.partials,f.partials)),d.usePartial||d.useDecorators)p.decorators=p.merge(k.decorators,f.decorators)};h._child=function(f,k,h,w){if(d.useBlockParams&&!h)throw new D["default"]("must pass block params");if(d.useDepths&&!w)throw new D["default"]("must pass parent depths");return l(p,f,d[f],k,0,h,w)};return h};d.wrapProgram=l;d.resolvePartial=function(d,f,k){d?d.call||
k.name||(k.name=d,d=k.partials[d]):d="@partial-block"===k.name?k.data["partial-block"]:k.partials[k.name];return d};d.invokePartial=function(d,f,k){var h=k.data&&k.data["partial-block"];k.partial=!0;k.ids&&(k.data.contextPath=k.ids[0]||k.data.contextPath);var w=void 0;k.fn&&k.fn!==r&&function(){k.data=p.createFrame(k.data);var d=k.fn;w=k.data["partial-block"]=function(f){var k=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];k.data=p.createFrame(k.data);k.data["partial-block"]=h;return d(f,
k)};d.partials&&(k.partials=G.extend({},k.partials,d.partials))}();void 0===d&&w&&(d=w);if(void 0===d)throw new D["default"]("The partial "+k.name+" could not be found");if(d instanceof Function)return d(f,k)};d.noop=r;d=h(5);var G=y(d);d=h(6);var D=f(d),p=h(4)},function(f,d,h){f.exports={"default":h(24),__esModule:!0}},function(f,d,h){h(25);f.exports=h(30).Object.seal},function(f,d,h){var l=h(26);h(27)("seal",function(d){return function(f){return d&&l(f)?d(f):f}})},function(f,d){f.exports=function(d){return"object"===
typeof d?null!==d:"function"===typeof d}},function(f,d,h){var l=h(28),r=h(30),t=h(33);f.exports=function(d,f){var k=(r.Object||{})[d]||Object[d],h={};h[d]=f(k);l(l.S+l.F*t(function(){k(1)}),"Object",h)}},function(f,d,h){var l=h(29),r=h(30),t=h(31),k=function(d,f,h){var D=d&k.F,p=d&k.G,w=d&k.S,G=d&k.P,A=d&k.B;d&=k.W;var y=p?r:r[f]||(r[f]={}),w=p?l:w?l[f]:(l[f]||{}).prototype,E,H;p&&(h=f);for(E in h)f=!D&&w&&E in w,f&&E in y||(H=f?w[E]:h[E],y[E]=p&&"function"!=typeof w[E]?h[E]:A&&f?t(H,l):d&&w[E]==
H?function(d){var f=function(f){return this instanceof d?new d(f):d(f)};f.prototype=d.prototype;return f}(H):G&&"function"==typeof H?t(Function.call,H):H,G&&((y.prototype||(y.prototype={}))[E]=H))};k.F=1;k.G=2;k.S=4;k.P=8;k.B=16;k.W=32;f.exports=k},function(f,d){var h=f.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=h)},function(f,d){var h=f.exports={version:"1.2.6"};"number"==typeof __e&&(__e=
h)},function(f,d,h){var l=h(32);f.exports=function(d,f,k){l(d);if(void 0===f)return d;switch(k){case 1:return function(k){return d.call(f,k)};case 2:return function(k,h){return d.call(f,k,h)};case 3:return function(k,h,l){return d.call(f,k,h,l)}}return function(){return d.apply(f,arguments)}}},function(f,d){f.exports=function(d){if("function"!=typeof d)throw TypeError(d+" is not a function!");return d}},function(f,d){f.exports=function(d){try{return!!d()}catch(l){return!0}}},function(f,d){(function(h){d.__esModule=
!0;d["default"]=function(d){var f="undefined"!==typeof h?h:window,l=f.Handlebars;d.noConflict=function(){f.Handlebars===d&&(f.Handlebars=l);return d}};f.exports=d["default"]}).call(d,function(){return this}())},function(f,d){d.__esModule=!0;var h={helpers:{helperExpression:function(d){return"SubExpression"===d.type||("MustacheStatement"===d.type||"BlockStatement"===d.type)&&!!(d.params&&d.params.length||d.hash)},scopedId:function(d){return/^\.|this\b/.test(d.original)},simpleId:function(d){return 1===
d.parts.length&&!h.helpers.scopedId(d)&&!d.depth}}};d["default"]=h;f.exports=d["default"]},function(f,d,h){var l=h(1)["default"];f=h(3)["default"];d.__esModule=!0;d.parse=function(d,f){if("Program"===d.type)return d;t["default"].yy=A;A.locInfo=function(d){return new A.SourceLocation(f&&f.srcName,d)};return(new k["default"](f)).accept(t["default"].parse(d))};var r=h(37),t=l(r),r=h(38),k=l(r),l=h(40);f=f(l);h=h(5);d.parser=t["default"];var A={};h.extend(A,f)},function(f,d){d.__esModule=!0;var h=function(){function d(){this.yy=
{}}var f={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,
openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,
partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},
terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,
[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],
[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(d,f,h,l,D,p,w){d=p.length-1;switch(D){case 1:return p[d-1];case 2:this.$=l.prepareProgram(p[d]);break;case 3:this.$=p[d];break;case 4:this.$=p[d];break;case 5:this.$=p[d];break;case 6:this.$=p[d];break;case 7:this.$=p[d];break;case 8:this.$=p[d];break;case 9:this.$={type:"CommentStatement",
value:l.stripComment(p[d]),strip:l.stripFlags(p[d],p[d]),loc:l.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:p[d],value:p[d],loc:l.locInfo(this._$)};break;case 11:this.$=l.prepareRawBlock(p[d-2],p[d-1],p[d],this._$);break;case 12:this.$={path:p[d-3],params:p[d-2],hash:p[d-1]};break;case 13:this.$=l.prepareBlock(p[d-3],p[d-2],p[d-1],p[d],!1,this._$);break;case 14:this.$=l.prepareBlock(p[d-3],p[d-2],p[d-1],p[d],!0,this._$);break;case 15:this.$={open:p[d-5],path:p[d-4],params:p[d-
3],hash:p[d-2],blockParams:p[d-1],strip:l.stripFlags(p[d-5],p[d])};break;case 16:this.$={path:p[d-4],params:p[d-3],hash:p[d-2],blockParams:p[d-1],strip:l.stripFlags(p[d-5],p[d])};break;case 17:this.$={path:p[d-4],params:p[d-3],hash:p[d-2],blockParams:p[d-1],strip:l.stripFlags(p[d-5],p[d])};break;case 18:this.$={strip:l.stripFlags(p[d-1],p[d-1]),program:p[d]};break;case 19:D=l.prepareBlock(p[d-2],p[d-1],p[d],p[d],!1,this._$);l=l.prepareProgram([D],p[d-1].loc);l.chained=!0;this.$={strip:p[d-2].strip,
program:l,chain:!0};break;case 20:this.$=p[d];break;case 21:this.$={path:p[d-1],strip:l.stripFlags(p[d-2],p[d])};break;case 22:this.$=l.prepareMustache(p[d-3],p[d-2],p[d-1],p[d-4],l.stripFlags(p[d-4],p[d]),this._$);break;case 23:this.$=l.prepareMustache(p[d-3],p[d-2],p[d-1],p[d-4],l.stripFlags(p[d-4],p[d]),this._$);break;case 24:this.$={type:"PartialStatement",name:p[d-3],params:p[d-2],hash:p[d-1],indent:"",strip:l.stripFlags(p[d-4],p[d]),loc:l.locInfo(this._$)};break;case 25:this.$=l.preparePartialBlock(p[d-
2],p[d-1],p[d],this._$);break;case 26:this.$={path:p[d-3],params:p[d-2],hash:p[d-1],strip:l.stripFlags(p[d-4],p[d])};break;case 27:this.$=p[d];break;case 28:this.$=p[d];break;case 29:this.$={type:"SubExpression",path:p[d-3],params:p[d-2],hash:p[d-1],loc:l.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:p[d],loc:l.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:l.id(p[d-2]),value:p[d],loc:l.locInfo(this._$)};break;case 32:this.$=l.id(p[d-1]);break;case 33:this.$=p[d];break;case 34:this.$=
p[d];break;case 35:this.$={type:"StringLiteral",value:p[d],original:p[d],loc:l.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(p[d]),original:Number(p[d]),loc:l.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===p[d],original:"true"===p[d],loc:l.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:l.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:l.locInfo(this._$)};
break;case 40:this.$=p[d];break;case 41:this.$=p[d];break;case 42:this.$=l.preparePath(!0,p[d],this._$);break;case 43:this.$=l.preparePath(!1,p[d],this._$);break;case 44:p[d-2].push({part:l.id(p[d]),original:p[d],separator:p[d-1]});this.$=p[d-2];break;case 45:this.$=[{part:l.id(p[d]),original:p[d]}];break;case 46:this.$=[];break;case 47:p[d-1].push(p[d]);break;case 48:this.$=[p[d]];break;case 49:p[d-1].push(p[d]);break;case 50:this.$=[];break;case 51:p[d-1].push(p[d]);break;case 58:this.$=[];break;
case 59:p[d-1].push(p[d]);break;case 64:this.$=[];break;case 65:p[d-1].push(p[d]);break;case 70:this.$=[];break;case 71:p[d-1].push(p[d]);break;case 78:this.$=[];break;case 79:p[d-1].push(p[d]);break;case 82:this.$=[];break;case 83:p[d-1].push(p[d]);break;case 86:this.$=[];break;case 87:p[d-1].push(p[d]);break;case 90:this.$=[];break;case 91:p[d-1].push(p[d]);break;case 94:this.$=[];break;case 95:p[d-1].push(p[d]);break;case 98:this.$=[p[d]];break;case 99:p[d-1].push(p[d]);break;case 100:this.$=[p[d]];
break;case 101:p[d-1].push(p[d])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,
3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],
29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],
86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],
60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],
81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,
35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],
75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,
59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},
{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,
28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,
46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,
79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],
81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],
84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,
98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,
13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},
{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},
{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,
30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},
{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,
75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,
16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(d,f){throw Error(d);},parse:function(d){var f=[0],
h=[null],k=[],l=this.table,p="",w=0,t=0,r=0;this.lexer.setInput(d);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});d=this.lexer.yylloc;k.push(d);var L=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var E,H,N,V,W={},Z,K;;){N=f[f.length-1];if(this.defaultActions[N])V=this.defaultActions[N];else{if(null===E||"undefined"==typeof E)E=this.lexer.lex()||
1,"number"!==typeof E&&(E=this.symbols_[E]||E);V=l[N]&&l[N][E]}if("undefined"===typeof V||!V.length||!V[0]){var aa;if(!r){K=[];for(Z in l[N])this.terminals_[Z]&&2<Z&&K.push("'"+this.terminals_[Z]+"'");aa=this.lexer.showPosition?"Parse error on line "+(w+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+K.join(", ")+", got '"+(this.terminals_[E]||E)+"'":"Parse error on line "+(w+1)+": Unexpected "+(1==E?"end of input":"'"+(this.terminals_[E]||E)+"'");this.parseError(aa,{text:this.lexer.match,token:this.terminals_[E]||
E,line:this.lexer.yylineno,loc:d,expected:K})}}if(V[0]instanceof Array&&1<V.length)throw Error("Parse Error: multiple actions possible at state: "+N+", token: "+E);switch(V[0]){case 1:f.push(E);h.push(this.lexer.yytext);k.push(this.lexer.yylloc);f.push(V[1]);E=null;H?(E=H,H=null):(t=this.lexer.yyleng,p=this.lexer.yytext,w=this.lexer.yylineno,d=this.lexer.yylloc,0<r&&r--);break;case 2:K=this.productions_[V[1]][1];W.$=h[h.length-K];W._$={first_line:k[k.length-(K||1)].first_line,last_line:k[k.length-
1].last_line,first_column:k[k.length-(K||1)].first_column,last_column:k[k.length-1].last_column};L&&(W._$.range=[k[k.length-(K||1)].range[0],k[k.length-1].range[1]]);N=this.performAction.call(W,p,t,w,this.yy,V[1],h,k);if("undefined"!==typeof N)return N;K&&(f=f.slice(0,-2*K),h=h.slice(0,-1*K),k=k.slice(0,-1*K));f.push(this.productions_[V[1]][0]);h.push(W.$);k.push(W._$);V=l[f[f.length-2]][f[f.length-1]];f.push(V);break;case 3:return!0}}}},h=function(){return{EOF:1,parseError:function(d,f){if(this.yy.parser)this.yy.parser.parseError(d,
f);else throw Error(d);},setInput:function(d){this._input=d;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var d=this._input[0];this.yytext+=d;this.yyleng++;this.offset++;this.match+=d;this.matched+=d;d.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):
this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return d},unput:function(d){var f=d.length,h=d.split(/(?:\r\n?|\n)/g);this._input=d+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-f-1);this.offset-=f;d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);h.length-1&&(this.yylineno-=h.length-1);var k=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,
last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:h?(h.length===d.length?this.yylloc.first_column:0)+d[d.length-h.length].length-h[0].length:this.yylloc.first_column-f};this.options.ranges&&(this.yylloc.range=[k[0],k[0]+this.yyleng-f]);return this},more:function(){this._more=!0;return this},less:function(d){this.unput(this.match.slice(d))},pastInput:function(){var d=this.matched.substr(0,this.matched.length-this.match.length);return(20<d.length?"...":"")+d.substr(-20).replace(/\n/g,
"")},upcomingInput:function(){var d=this.match;20>d.length&&(d+=this._input.substr(0,20-d.length));return(d.substr(0,20)+(20<d.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var d=this.pastInput(),f=Array(d.length+1).join("-");return d+this.upcomingInput()+"\n"+f+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var d,f,h;this._more||(this.match=this.yytext="");for(var l=this._currentRules(),D=0;D<l.length&&(!(f=this._input.match(this.rules[l[D]]))||d&&!(f[0].length>
d[0].length)||(d=f,h=D,this.options.flex));D++);if(d){if(f=d[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=f.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+d[0].length};this.yytext+=d[0];this.match+=d[0];this.matches=d;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=
!1;this._input=this._input.slice(d[0].length);this.matched+=d[0];d=this.performAction.call(this,this.yy,this,l[h],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(d)return d}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var d=this.next();return"undefined"!==typeof d?d:this.lex()},begin:function(d){this.conditionStack.push(d)},
popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(d){this.begin(d)},options:{},performAction:function(d,f,h,l){function k(d,h){return f.yytext=f.yytext.substring(d,f.yyleng-h+d)}switch(h){case 0:"\\\\"===f.yytext.slice(-2)?(k(0,1),this.begin("mu")):"\\"===f.yytext.slice(-1)?(k(0,1),this.begin("emu")):
this.begin("mu");if(f.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:this.popState();if("raw"===this.conditionStack[this.conditionStack.length-1])return 15;k(5,9);return"END_RAW_BLOCK";case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),
44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(f.yytext);this.popState();this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return f.yytext=k(1,2).replace(/\\"/g,'"'),80;case 32:return f.yytext=k(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;
case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return f.yytext=f.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,
/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,
/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}}}();
f.lexer=h;d.prototype=f;f.Parser=d;return new d}();d["default"]=h;f.exports=d["default"]},function(f,d,h){function l(){this.options=0>=arguments.length||void 0===arguments[0]?{}:arguments[0]}function r(d,f,h){void 0===f&&(f=d.length);var k=d[f-1];d=d[f-2];if(!k)return h;if("ContentStatement"===k.type)return(d||!h?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(k.original)}function t(d,f,h){void 0===f&&(f=-1);var k=d[f+1];d=d[f+2];if(!k)return h;if("ContentStatement"===k.type)return(d||!h?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(k.original)}
function k(d,f,h){!(d=d[null==f?0:f+1])||"ContentStatement"!==d.type||!h&&d.rightStripped||(f=d.value,d.value=d.value.replace(h?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==f)}function A(d,f,h){if((d=d[null==f?d.length-1:f-1])&&"ContentStatement"===d.type&&(h||!d.leftStripped))return f=d.value,d.value=d.value.replace(h?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==f,d.leftStripped}var y=h(1)["default"];d.__esModule=!0;h=h(39);y=y(h);l.prototype=new y["default"];l.prototype.Program=function(d){var f=
!this.options.ignoreStandalone,h=!this.isRootSeen;this.isRootSeen=!0;for(var w=d.body,l=0,y=w.length;l<y;l++){var G=w[l],E=this.accept(G);if(E){var H=r(w,l,h),N=t(w,l,h),V=E.openStandalone&&H,W=E.closeStandalone&&N,H=E.inlineStandalone&&H&&N;E.close&&k(w,l,!0);E.open&&A(w,l,!0);f&&H&&(k(w,l),A(w,l)&&"PartialStatement"===G.type&&(G.indent=/([ \t]+$)/.exec(w[l-1].original)[1]));f&&V&&(k((G.program||G.inverse).body),A(w,l));f&&W&&(k(w,l),A((G.inverse||G.program).body))}}return d};l.prototype.BlockStatement=
l.prototype.DecoratorBlock=l.prototype.PartialBlockStatement=function(d){this.accept(d.program);this.accept(d.inverse);var f=d.program||d.inverse,h=d.program&&d.inverse,w=h,l=h;if(h&&h.chained)for(w=h.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var y={open:d.openStrip.open,close:d.closeStrip.close,openStandalone:t(f.body),closeStandalone:r((w||f).body)};d.openStrip.close&&k(f.body,null,!0);h?(h=d.inverseStrip,h.open&&A(f.body,null,!0),h.close&&k(w.body,null,!0),d.closeStrip.open&&
A(l.body,null,!0),!this.options.ignoreStandalone&&r(f.body)&&t(w.body)&&(A(f.body),k(w.body))):d.closeStrip.open&&A(f.body,null,!0);return y};l.prototype.Decorator=l.prototype.MustacheStatement=function(d){return d.strip};l.prototype.PartialStatement=l.prototype.CommentStatement=function(d){d=d.strip||{};return{inlineStandalone:!0,open:d.open,close:d.close}};d["default"]=l;f.exports=d["default"]},function(f,d,h){function l(){this.parents=[]}function r(d){this.acceptRequired(d,"path");this.acceptArray(d.params);
this.acceptKey(d,"hash")}function t(d){r.call(this,d);this.acceptKey(d,"program");this.acceptKey(d,"inverse")}function k(d){this.acceptRequired(d,"name");this.acceptArray(d.params);this.acceptKey(d,"hash")}var A=h(1)["default"];d.__esModule=!0;h=h(6);var y=A(h);l.prototype={constructor:l,mutating:!1,acceptKey:function(d,f){var h=this.accept(d[f]);if(this.mutating){if(h&&!l.prototype[h.type])throw new y["default"]('Unexpected node type "'+h.type+'" found when accepting '+f+" on "+d.type);d[f]=h}},
acceptRequired:function(d,f){this.acceptKey(d,f);if(!d[f])throw new y["default"](d.type+" requires "+f);},acceptArray:function(d){for(var f=0,h=d.length;f<h;f++)this.acceptKey(d,f),d[f]||(d.splice(f,1),f--,h--)},accept:function(d){if(d){if(!this[d.type])throw new y["default"]("Unknown type: "+d.type,d);this.current&&this.parents.unshift(this.current);this.current=d;var f=this[d.type](d);this.current=this.parents.shift();if(!this.mutating||f)return f;if(!1!==f)return d}},Program:function(d){this.acceptArray(d.body)},
MustacheStatement:r,Decorator:r,BlockStatement:t,DecoratorBlock:t,PartialStatement:k,PartialBlockStatement:function(d){k.call(this,d);this.acceptKey(d,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:r,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(d){this.acceptArray(d.pairs)},HashPair:function(d){this.acceptRequired(d,"value")}};
d["default"]=l;f.exports=d["default"]},function(f,d,h){function l(d,f){f=f.path?f.path.original:f;if(d.path.original!==f)throw new r["default"](d.path.original+" doesn't match "+f,{loc:d.path.loc});}f=h(1)["default"];d.__esModule=!0;d.SourceLocation=function(d,f){this.source=d;this.start={line:f.first_line,column:f.first_column};this.end={line:f.last_line,column:f.last_column}};d.id=function(d){return/^\[.*\]$/.test(d)?d.substring(1,d.length-1):d};d.stripFlags=function(d,f){return{open:"~"===d.charAt(2),
close:"~"===f.charAt(f.length-3)}};d.stripComment=function(d){return d.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")};d.preparePath=function(d,f,h){h=this.locInfo(h);for(var k=d?"@":"",l=[],t=0,p=0,w=f.length;p<w;p++){var A=f[p].part,U=f[p].original!==A,k=k+((f[p].separator||"")+A);if(U||".."!==A&&"."!==A&&"this"!==A)l.push(A);else{if(0<l.length)throw new r["default"]("Invalid path: "+k,{loc:h});".."===A&&t++}}return{type:"PathExpression",data:d,depth:t,parts:l,original:k,loc:h}};d.prepareMustache=
function(d,f,h,l,r,D){var k=l.charAt(3)||l.charAt(2),k="{"!==k&&"&"!==k;return{type:/\*/.test(l)?"Decorator":"MustacheStatement",path:d,params:f,hash:h,escaped:k,strip:r,loc:this.locInfo(D)}};d.prepareRawBlock=function(d,f,h,r){l(d,h);r=this.locInfo(r);return{type:"BlockStatement",path:d.path,params:d.params,hash:d.hash,program:{type:"Program",body:f,strip:{},loc:r},openStrip:{},inverseStrip:{},closeStrip:{},loc:r}};d.prepareBlock=function(d,f,h,y,G,D){y&&y.path&&l(d,y);var k=/\*/.test(d.open);f.blockParams=
d.blockParams;var w=void 0,t=void 0;if(h){if(k)throw new r["default"]("Unexpected inverse block on decorator",h);h.chain&&(h.program.body[0].closeStrip=y.strip);t=h.strip;w=h.program}G&&(G=w,w=f,f=G);return{type:k?"DecoratorBlock":"BlockStatement",path:d.path,params:d.params,hash:d.hash,program:f,inverse:w,openStrip:d.strip,inverseStrip:t,closeStrip:y&&y.strip,loc:this.locInfo(D)}};d.prepareProgram=function(d,f){if(!f&&d.length){var h=d[0].loc,k=d[d.length-1].loc;h&&k&&(f={source:h.source,start:{line:h.start.line,
column:h.start.column},end:{line:k.end.line,column:k.end.column}})}return{type:"Program",body:d,strip:{},loc:f}};d.preparePartialBlock=function(d,f,h,r){l(d,h);return{type:"PartialBlockStatement",name:d.path,params:d.params,hash:d.hash,program:f,openStrip:d.strip,closeStrip:h&&h.strip,loc:this.locInfo(r)}};d=h(6);var r=f(d)},function(f,d,h){function l(){}function r(d,f){if(d===f)return!0;if(A.isArray(d)&&A.isArray(f)&&d.length===f.length){for(var h=0;h<d.length;h++)if(!r(d[h],f[h]))return!1;return!0}}
function t(d){if(!d.path.parts){var f=d.path;d.path={type:"PathExpression",data:!1,depth:0,parts:[f.original+""],original:f.original+"",loc:f.loc}}}f=h(1)["default"];d.__esModule=!0;d.Compiler=l;d.precompile=function(d,f,h){if(null==d||"string"!==typeof d&&"Program"!==d.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+d);f=f||{};"data"in f||(f.data=!0);f.compat&&(f.useDepths=!0);d=h.parse(d,f);d=(new h.Compiler).compile(d,f);return(new h.JavaScriptCompiler).compile(d,
f)};d.compile=function(d,f,h){function w(){var k=h.parse(d,f),k=(new h.Compiler).compile(k,f),k=(new h.JavaScriptCompiler).compile(k,f,void 0,!0);return h.template(k)}function l(d,f){p||(p=w());return p.call(this,d,f)}void 0===f&&(f={});if(null==d||"string"!==typeof d&&"Program"!==d.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+d);f=A.extend({},f);"data"in f||(f.data=!0);f.compat&&(f.useDepths=!0);var p=void 0;l._setup=function(d){p||(p=
w());return p._setup(d)};l._child=function(d,f,h,k){p||(p=w());return p._child(d,f,h,k)};return l};d=h(6);var k=f(d),A=h(5);h=h(35);var y=f(h),G=[].slice;l.prototype={compiler:l,equals:function(d){var f=this.opcodes.length;if(d.opcodes.length!==f)return!1;for(var h=0;h<f;h++){var k=this.opcodes[h],l=d.opcodes[h];if(k.opcode!==l.opcode||!r(k.args,l.args))return!1}f=this.children.length;for(h=0;h<f;h++)if(!this.children[h].equals(d.children[h]))return!1;return!0},guid:0,compile:function(d,f){this.sourceNode=
[];this.opcodes=[];this.children=[];this.options=f;this.stringParams=f.stringParams;this.trackIds=f.trackIds;f.blockParams=f.blockParams||[];var h=f.knownHelpers;f.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0};if(h)for(var k in h)this.options.knownHelpers[k]=h[k];return this.accept(d)},compileProgram:function(d){d=(new this.compiler).compile(d,this.options);var f=this.guid++;this.usePartial=this.usePartial||d.usePartial;this.children[f]=
d;this.useDepths=this.useDepths||d.useDepths;return f},accept:function(d){if(!this[d.type])throw new k["default"]("Unknown type: "+d.type,d);this.sourceNode.unshift(d);d=this[d.type](d);this.sourceNode.shift();return d},Program:function(d){this.options.blockParams.unshift(d.blockParams);for(var f=d.body,h=f.length,k=0;k<h;k++)this.accept(f[k]);this.options.blockParams.shift();this.isSimple=1===h;this.blockParams=d.blockParams?d.blockParams.length:0;return this},BlockStatement:function(d){t(d);var f=
d.program,h=d.inverse,f=f&&this.compileProgram(f),h=h&&this.compileProgram(h),k=this.classifySexpr(d);"helper"===k?this.helperSexpr(d,f,h):"simple"===k?(this.simpleSexpr(d),this.opcode("pushProgram",f),this.opcode("pushProgram",h),this.opcode("emptyHash"),this.opcode("blockValue",d.path.original)):(this.ambiguousSexpr(d,f,h),this.opcode("pushProgram",f),this.opcode("pushProgram",h),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},DecoratorBlock:function(d){var f=
d.program&&this.compileProgram(d.program),f=this.setupFullMustacheParams(d,f,void 0);d=d.path;this.useDecorators=!0;this.opcode("registerDecorator",f.length,d.original)},PartialStatement:function(d){this.usePartial=!0;var f=d.program;f&&(f=this.compileProgram(d.program));var h=d.params;if(1<h.length)throw new k["default"]("Unsupported number of partial arguments: "+h.length,d);h.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):h.push({type:"PathExpression",parts:[],
depth:0}));var h=d.name.original,l="SubExpression"===d.name.type;l&&this.accept(d.name);this.setupFullMustacheParams(d,f,void 0,!0);d=d.indent||"";this.options.preventIndent&&d&&(this.opcode("appendContent",d),d="");this.opcode("invokePartial",l,h,d);this.opcode("append")},PartialBlockStatement:function(d){this.PartialStatement(d)},MustacheStatement:function(d){this.SubExpression(d);d.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(d){this.DecoratorBlock(d)},
ContentStatement:function(d){d.value&&this.opcode("appendContent",d.value)},CommentStatement:function(){},SubExpression:function(d){t(d);var f=this.classifySexpr(d);"simple"===f?this.simpleSexpr(d):"helper"===f?this.helperSexpr(d):this.ambiguousSexpr(d)},ambiguousSexpr:function(d,f,h){d=d.path;var k=d.parts[0],l=null!=f||null!=h;this.opcode("getContext",d.depth);this.opcode("pushProgram",f);this.opcode("pushProgram",h);d.strict=!0;this.accept(d);this.opcode("invokeAmbiguous",k,l)},simpleSexpr:function(d){d=
d.path;d.strict=!0;this.accept(d);this.opcode("resolvePossibleLambda")},helperSexpr:function(d,f,h){f=this.setupFullMustacheParams(d,f,h);h=d.path;var l=h.parts[0];if(this.options.knownHelpers[l])this.opcode("invokeKnownHelper",f.length,l);else{if(this.options.knownHelpersOnly)throw new k["default"]("You specified knownHelpersOnly, but used the unknown helper "+l,d);h.strict=!0;h.falsy=!0;this.accept(h);this.opcode("invokeHelper",f.length,h.original,y["default"].helpers.simpleId(h))}},PathExpression:function(d){this.addDepth(d.depth);
this.opcode("getContext",d.depth);var f=d.parts[0],h=y["default"].helpers.scopedId(d),k=!d.depth&&!h&&this.blockParamIndex(f);k?this.opcode("lookupBlockParam",k,d.parts):f?d.data?(this.options.data=!0,this.opcode("lookupData",d.depth,d.parts,d.strict)):this.opcode("lookupOnContext",d.parts,d.falsy,d.strict,h):this.opcode("pushContext")},StringLiteral:function(d){this.opcode("pushString",d.value)},NumberLiteral:function(d){this.opcode("pushLiteral",d.value)},BooleanLiteral:function(d){this.opcode("pushLiteral",
d.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(d){d=d.pairs;var f=0,h=d.length;for(this.opcode("pushHash");f<h;f++)this.pushParam(d[f].value);for(;f--;)this.opcode("assignToHash",d[f].key);this.opcode("popHash")},opcode:function(d){this.opcodes.push({opcode:d,args:G.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(d){d&&(this.useDepths=!0)},classifySexpr:function(d){var f=y["default"].helpers.simpleId(d.path),
h=f&&!!this.blockParamIndex(d.path.parts[0]),k=!h&&y["default"].helpers.helperExpression(d);(f=!h&&(k||f))&&!k&&(h=this.options,h.knownHelpers[d.path.parts[0]]?k=!0:h.knownHelpersOnly&&(f=!1));return k?"helper":f?"ambiguous":"simple"},pushParams:function(d){for(var f=0,h=d.length;f<h;f++)this.pushParam(d[f])},pushParam:function(d){var f=null!=d.value?d.value:d.original||"";if(this.stringParams)f.replace&&(f=f.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),d.depth&&this.addDepth(d.depth),this.opcode("getContext",
d.depth||0),this.opcode("pushStringParam",f,d.type),"SubExpression"===d.type&&this.accept(d);else{if(this.trackIds){var h=void 0;!d.parts||y["default"].helpers.scopedId(d)||d.depth||(h=this.blockParamIndex(d.parts[0]));h?(f=d.parts.slice(1).join("."),this.opcode("pushId","BlockParam",h,f)):(f=d.original||f,f.replace&&(f=f.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",d.type,f))}this.accept(d)}},setupFullMustacheParams:function(d,f,h,k){var l=d.params;this.pushParams(l);
this.opcode("pushProgram",f);this.opcode("pushProgram",h);d.hash?this.accept(d.hash):this.opcode("emptyHash",k);return l},blockParamIndex:function(d){for(var f=0,h=this.options.blockParams.length;f<h;f++){var k=this.options.blockParams[f],l=k&&A.indexOf(k,d);if(k&&0<=l)return[f,l]}}}},function(f,d,h){function l(d){this.value=d}function r(){}function t(d,f,h,k){var l=f.popStack(),w=0,p=h.length;for(d&&p--;w<p;w++)l=f.nameLookup(l,h[w],k);return d?[f.aliasable("container.strict"),"(",l,", ",f.quotedString(h[w]),
")"]:l}var k=h(1)["default"];d.__esModule=!0;var A=h(4),y=h(6),G=k(y),D=h(5);h=h(43);var p=k(h);r.prototype={nameLookup:function(d,f){return"constructor"===f?["(",d,".propertyIsEnumerable('constructor') ? ",d,".constructor : undefined",")"]:r.isValidJavaScriptVariableName(f)?[d,".",f]:[d,"[",JSON.stringify(f),"]"]},depthedLookup:function(d){return[this.aliasable("container.lookup"),'(depths, "',d,'")']},compilerInfo:function(){var d=A.COMPILER_REVISION;return[d,A.REVISION_CHANGES[d]]},appendToBuffer:function(d,
f,h){D.isArray(d)||(d=[d]);d=this.source.wrap(d,f);if(this.environment.isSimple)return["return ",d,";"];if(h)return["buffer += ",d,";"];d.appendToBuffer=!0;return d},initializeBuffer:function(){return this.quotedString("")},compile:function(d,f,h,k){this.environment=d;this.options=f;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!k;this.name=this.environment.name;this.isChild=!!h;this.context=h||{decorators:[],programs:[],environments:[]};this.preamble();
this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(d,f);this.useDepths=this.useDepths||d.useDepths||d.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||d.useBlockParams;var l=d.opcodes,p,w=void 0;d=0;for(h=l.length;d<h;d++)p=l[d],this.source.currentLocation=p.loc,w=w||p.loc,this[p.opcode].apply(this,p.args);this.source.currentLocation=w;this.pushSource("");
if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new G["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),k?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),
this.decorators.push("}\n"),this.decorators=this.decorators.merge()));d=this.createFunctionContext(k);if(this.isChild)return d;l={compiler:this.compilerInfo(),main:d};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);d=this.context;p=d.programs;w=d.decorators;d=0;for(h=p.length;d<h;d++)p[d]&&(l[d]=p[d],w[d]&&(l[d+"_d"]=w[d],l.useDecorators=!0));this.environment.usePartial&&(l.usePartial=!0);this.options.data&&(l.useData=!0);this.useDepths&&(l.useDepths=!0);this.useBlockParams&&(l.useBlockParams=
!0);this.options.compat&&(l.compat=!0);k?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),f.srcName?(l=l.toStringWithSourceMap({file:f.destName}),l.map=l.map&&l.map.toString()):l=l.toString());return l},preamble:function(){this.lastContext=0;this.source=new p["default"](this.options.srcName);this.decorators=new p["default"](this.options.srcName)},createFunctionContext:function(d){var f="",h=this.stackVars.concat(this.registers.list);
0<h.length&&(f+=", "+h.join(", "));var h=0,k;for(k in this.aliases){var l=this.aliases[k];this.aliases.hasOwnProperty(k)&&l.children&&1<l.referenceCount&&(f+=", alias"+ ++h+"="+k,l.children[0]="alias"+h)}k=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&k.push("blockParams");this.useDepths&&k.push("depths");f=this.mergeSource(f);return d?(k.push(f),Function.apply(this,k)):this.source.wrap(["function(",k.join(","),") {\n  ",f,"}"])},mergeSource:function(d){var f=
this.environment.isSimple,h=!this.forceBuffer,k=void 0,l=void 0,p=void 0,w=void 0;this.source.each(function(d){d.appendToBuffer?(p?d.prepend("  + "):p=d,w=d):(p&&(l?p.prepend("buffer += "):k=!0,w.add(";"),p=w=void 0),l=!0,f||(h=!1))});h?p?(p.prepend("return "),w.add(";")):l||this.source.push('return "";'):(d+=", buffer = "+(k?"":this.initializeBuffer()),p?(p.prepend("return buffer + "),w.add(";")):this.source.push("return buffer;"));d&&this.source.prepend("var "+d.substring(2)+(k?"":";\n"));return this.source.merge()},
blockValue:function(d){var f=this.aliasable("helpers.blockHelperMissing"),h=[this.contextName(0)];this.setupHelperArgs(d,0,h);d=this.popStack();h.splice(1,0,d);this.push(this.source.functionCall(f,"call",h))},ambiguousBlockValue:function(){var d=this.aliasable("helpers.blockHelperMissing"),f=[this.contextName(0)];this.setupHelperArgs("",0,f,!0);this.flushInline();var h=this.topStack();f.splice(1,0,h);this.pushSource(["if (!",this.lastHelper,") { ",h," = ",this.source.functionCall(d,"call",f),"}"])},
appendContent:function(d){this.pendingContent?d=this.pendingContent+d:this.pendingLocation=this.source.currentLocation;this.pendingContent=d},append:function(){if(this.isInline())this.replaceStack(function(d){return[" != null ? ",d,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var d=this.popStack();this.pushSource(["if (",d," != null) { ",this.appendToBuffer(d,void 0,!0)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},
appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(d){this.lastContext=d},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(d,f,h,k){var l=0;k||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(d[l++]));this.resolvePath("context",d,l,f,h)},lookupBlockParam:function(d,f){this.useBlockParams=!0;this.push(["blockParams[",
d[0],"][",d[1],"]"]);this.resolvePath("context",f,1)},lookupData:function(d,f,h){d?this.pushStackLiteral("container.data(data, "+d+")"):this.pushStackLiteral("data");this.resolvePath("data",f,0,!0,h)},resolvePath:function(d,f,h,k,l){var p=this;if(this.options.strict||this.options.assumeObjects)this.push(t(this.options.strict&&l,this,f,d));else for(l=f.length;h<l;h++)this.replaceStack(function(l){var w=p.nameLookup(l,f[h],d);return k?[" && ",w]:[" != null ? ",w," : ",l]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),
"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(d,f){this.pushContext();this.pushString(f);"SubExpression"!==f&&("string"===typeof d?this.pushString(d):this.pushStackLiteral(d))},emptyHash:function(d){this.trackIds&&this.push("{}");this.stringParams&&(this.push("{}"),this.push("{}"));this.pushStackLiteral(d?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var d=this.hash;
this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(d.ids));this.stringParams&&(this.push(this.objectLiteral(d.contexts)),this.push(this.objectLiteral(d.types)));this.push(this.objectLiteral(d.values))},pushString:function(d){this.pushStackLiteral(this.quotedString(d))},pushLiteral:function(d){this.pushStackLiteral(d)},pushProgram:function(d){null!=d?this.pushStackLiteral(this.programExpression(d)):this.pushStackLiteral(null)},registerDecorator:function(d,f){var h=this.nameLookup("decorators",
f,"decorator"),k=this.setupHelperArgs(f,d);this.decorators.push(["fn = ",this.decorators.functionCall(h,"",["fn","props","container",k])," || fn;"])},invokeHelper:function(d,f,h){var k=this.popStack();d=this.setupHelper(d,f);h=["("].concat(h?[d.name," || "]:"",k);this.options.strict||h.push(" || ",this.aliasable("helpers.helperMissing"));h.push(")");this.push(this.source.functionCall(h,"call",d.callParams))},invokeKnownHelper:function(d,f){var h=this.setupHelper(d,f);this.push(this.source.functionCall(h.name,
"call",h.callParams))},invokeAmbiguous:function(d,f){this.useRegister("helper");var h=this.popStack();this.emptyHash();var k=this.setupHelper(0,d,f),h=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",d,"helper")," || ",h,")"];this.options.strict||(h[0]="(helper = ",h.push(" != null ? helper : ",this.aliasable("helpers.helperMissing")));this.push(["(",h,k.paramsInit?["),(",k.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",
k.callParams)," : helper))"])},invokePartial:function(d,f,h){var k=[],l=this.setupParams(f,1,k);d&&(f=this.popStack(),delete l.name);h&&(l.indent=JSON.stringify(h));l.helpers="helpers";l.partials="partials";l.decorators="container.decorators";d?k.unshift(f):k.unshift(this.nameLookup("partials",f,"partial"));this.options.compat&&(l.depths="depths");l=this.objectLiteral(l);k.push(l);this.push(this.source.functionCall("container.invokePartial","",k))},assignToHash:function(d){var f=this.popStack(),h=
void 0,k=void 0,l=void 0;this.trackIds&&(l=this.popStack());this.stringParams&&(k=this.popStack(),h=this.popStack());var p=this.hash;h&&(p.contexts[d]=h);k&&(p.types[d]=k);l&&(p.ids[d]=l);p.values[d]=f},pushId:function(d,f,h){"BlockParam"===d?this.pushStackLiteral("blockParams["+f[0]+"].path["+f[1]+"]"+(h?" + "+JSON.stringify("."+h):"")):"PathExpression"===d?this.pushString(f):"SubExpression"===d?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(d,f){for(var h=
d.children,k,l,p=0,w=h.length;p<w;p++){k=h[p];l=new this.compiler;var r=this.matchExistingProgram(k);null==r?(this.context.programs.push(""),r=this.context.programs.length,k.index=r,k.name="program"+r,this.context.programs[r]=l.compile(k,f,this.context,!this.precompile),this.context.decorators[r]=l.decorators,this.context.environments[r]=k,this.useDepths=this.useDepths||l.useDepths,this.useBlockParams=this.useBlockParams||l.useBlockParams,k.useDepths=this.useDepths,k.useBlockParams=this.useBlockParams):
(k.index=r.index,k.name="program"+r.index,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams)}},matchExistingProgram:function(d){for(var f=0,h=this.context.environments.length;f<h;f++){var k=this.context.environments[f];if(k&&k.equals(d))return k}},programExpression:function(d){d=this.environment.children[d];d=[d.index,"data",d.blockParams];(this.useBlockParams||this.useDepths)&&d.push("blockParams");this.useDepths&&d.push("depths");return"container.program("+
d.join(", ")+")"},useRegister:function(d){this.registers[d]||(this.registers[d]=!0,this.registers.list.push(d))},push:function(d){d instanceof l||(d=this.source.wrap(d));this.inlineStack.push(d);return d},pushStackLiteral:function(d){this.push(new l(d))},pushSource:function(d){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0);d&&this.source.push(d)},replaceStack:function(d){var f,h,k=void 0,p=
void 0;if(!this.isInline())throw new G["default"]("replaceStack on non-inline");f=this.popStack(!0);f instanceof l?(h=[f.value],f=["(",h],p=!0):(k=!0,h=this.incrStack(),f=["((",this.push(h)," = ",f,")"],h=this.topStack());d=d.call(this,h);p||this.popStack();k&&this.stackSlot--;this.push(f.concat(d,")"))},incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},
flushInline:function(){var d=this.inlineStack;this.inlineStack=[];for(var f=0,h=d.length;f<h;f++){var k=d[f];if(k instanceof l)this.compileStack.push(k);else{var p=this.incrStack();this.pushSource([p," = ",k,";"]);this.compileStack.push(p)}}},isInline:function(){return this.inlineStack.length},popStack:function(d){var f=this.isInline(),h=(f?this.inlineStack:this.compileStack).pop();if(!d&&h instanceof l)return h.value;if(!f){if(!this.stackSlot)throw new G["default"]("Invalid stack pop");this.stackSlot--}return h},
topStack:function(){var d=this.isInline()?this.inlineStack:this.compileStack,d=d[d.length-1];return d instanceof l?d.value:d},contextName:function(d){return this.useDepths&&d?"depths["+d+"]":"depth"+d},quotedString:function(d){return this.source.quotedString(d)},objectLiteral:function(d){return this.source.objectLiteral(d)},aliasable:function(d){var f=this.aliases[d];if(f)return f.referenceCount++,f;f=this.aliases[d]=this.source.wrap(d);f.aliasable=!0;f.referenceCount=1;return f},setupHelper:function(d,
f,h){var k=[];d=this.setupHelperArgs(f,d,k,h);f=this.nameLookup("helpers",f,"helper");h=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:k,paramsInit:d,name:f,callParams:[h].concat(k)}},setupParams:function(d,f,h){var k={},l=[],p=[],r=[],t=!h;t&&(h=[]);k.name=this.quotedString(d);k.hash=this.popStack();this.trackIds&&(k.hashIds=this.popStack());this.stringParams&&(k.hashTypes=this.popStack(),k.hashContexts=this.popStack());d=this.popStack();
var w=this.popStack();if(w||d)k.fn=w||"container.noop",k.inverse=d||"container.noop";for(d=f;d--;)f=this.popStack(),h[d]=f,this.trackIds&&(r[d]=this.popStack()),this.stringParams&&(p[d]=this.popStack(),l[d]=this.popStack());t&&(k.args=this.source.generateArray(h));this.trackIds&&(k.ids=this.source.generateArray(r));this.stringParams&&(k.types=this.source.generateArray(p),k.contexts=this.source.generateArray(l));this.options.data&&(k.data="data");this.useBlockParams&&(k.blockParams="blockParams");
return k},setupHelperArgs:function(d,f,h,k){d=this.setupParams(d,f,h);d=this.objectLiteral(d);return k?(this.useRegister("options"),h.push("options"),["options=",d]):h?(h.push(d),""):d}};(function(){for(var d="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),
f=r.RESERVED_WORDS={},h=0,k=d.length;h<k;h++)f[d[h]]=!0})();r.isValidJavaScriptVariableName=function(d){return!r.RESERVED_WORDS[d]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(d)};d["default"]=r;f.exports=d["default"]},function(f,d,h){function l(d,f,h){if(t.isArray(d)){for(var k=[],l=0,r=d.length;l<r;l++)k.push(f.wrap(d[l],h));return k}return"boolean"===typeof d||"number"===typeof d?d+"":d}function r(d){this.srcFile=d;this.source=[]}d.__esModule=!0;var t=h(5),k=void 0;k||(k=function(d,f,h,k){this.src="";k&&
this.add(k)},k.prototype={add:function(d){t.isArray(d)&&(d=d.join(""));this.src+=d},prepend:function(d){t.isArray(d)&&(d=d.join(""));this.src=d+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});r.prototype={isEmpty:function(){return!this.source.length},prepend:function(d,f){this.source.unshift(this.wrap(d,f))},push:function(d,f){this.source.push(this.wrap(d,f))},merge:function(){var d=this.empty();this.each(function(f){d.add(["  ",f,"\n"])});
return d},each:function(d){for(var f=0,h=this.source.length;f<h;f++)d(this.source[f])},empty:function(){var d=this.currentLocation||{start:{}};return new k(d.start.line,d.start.column,this.srcFile)},wrap:function(d){var f=1>=arguments.length||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];if(d instanceof k)return d;d=l(d,this,f);return new k(f.start.line,f.start.column,this.srcFile,d)},functionCall:function(d,f,h){h=this.generateList(h);return this.wrap([d,f?"."+f+"(":"(",h,")"])},
quotedString:function(d){return'"'+(d+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(d){var f=[],h;for(h in d)if(d.hasOwnProperty(h)){var k=l(d[h],this);"undefined"!==k&&f.push([this.quotedString(h),":",k])}d=this.generateList(f);d.prepend("{");d.add("}");return d},generateList:function(d){for(var f=this.empty(),h=0,k=d.length;h<k;h++)h&&f.add(","),f.add(l(d[h],this));return f},
generateArray:function(d){d=this.generateList(d);d.prepend("[");d.add("]");return d}};d["default"]=r;f.exports=d["default"]}])});
(function(f,d){function h(){null===Aa&&(Aa=[],d(document).on("keydown",function(a){ua=a[Ea?"metaKey":"ctrlKey"];Va=a.ctrlKey;fb=a.shiftKey;for(var b=0,c=Aa.length;b<c;b++)a.keyCode!==Aa[b].key.charCodeAt(0)&&a.keyCode!==Aa[b].key.toUpperCase().charCodeAt(0)||!0===Aa[b].ctrl&&!0!==Va||!0===Aa[b].shift&&!0!==fb||!0===Aa[b].cmd&&!0!==ua||Aa[b].callback.apply(this,[a,Aa[b].args])}).on("keyup",function(a){a.keyCode===Xa&&(Va=!1);a.keyCode===gb&&(fb=!1);a.keyCode===ya&&(ua=!1)}))}function l(a,b){var c,
e=b.buttons,g="",m=null,f=null;void 0!==b.locationOnCancel&&(m=b.locationOnCancel);void 0!==b.redirectOnCancel&&(f=b.redirectOnCancel);for(c in e)if(!e.hasOwnProperty||e.hasOwnProperty(c))g+="<button"+(b.defaultbutton&&b.defaultbutton!==e[c].text&&b.defaultbutton!==(e[c].text+"").toLowerCase()?"":' autofocus="autofocus"')+""+(e[c].event?' data-event="'+e[c].event+'"':"")+' type="button" class="'+e[c].buttonClass+'">'+e[c].text+"</button>";e="alert-"+u.createUUID();void 0!==b.view&&null!==b.view&&
""!==b.view?(c=document.createElement("div"),c.setAttribute("id",e)):(delete b.view,c=document.createElement("div"),c.setAttribute("id",e),c.className="modal-alert modal-alert-"+a,c.innerHTML='<div class="modal-header">'+("message"==a?"":'<span class="alert-icon"></span>')+""+b.title+'</div><div class="modal-body">'+b.message+""+(b.additionalhtml?b.additionalhtml:"")+'</div><div class="modal-footer">'+g+'<button class="focus-manager"></button></div>');c=d(c);c.find(".focus-manager").on("focus",function(a){d(a.currentTarget).closest(".modal-alert").dialogForm("focus")});
c.dialogForm(d.extend({},b,{redirectOnCancel:f,locationOnCancel:m,autoOpen:!0,autoLoad:!0,destroyOnClose:!0,removeOnClose:!0,dialogClass:"dialog-alert dialog-alert-"+a+" no-title"}));return c}function r(){return new Date(Date.UTC.apply(Date,arguments))}function t(){var a=new Date;return r(a.getFullYear(),a.getMonth(),a.getDate())}function k(a){return function(){return this[a].apply(this,arguments)}}function A(a,b){function c(a,b){return b.toLowerCase()}var e=d(a).data(),g={},m,f=new RegExp("^"+b.toLowerCase()+
"([A-Z])");b=new RegExp("^"+b.toLowerCase());for(var h in e)b.test(h)&&(m=h.replace(f,c),g[m]=e[h]);return g}function y(a){var b={};if(!R[a]&&(a=a.split("-")[0],!R[a]))return;var c=R[a];d.each(F,function(a,d){d in c&&(b[d]=c[d])});return b}function G(a,b){var c=[],d,g,m,f,h=15;this.$input&&0<this.$input.length&&(d=this.$input.attr("data-interval"),void 0!==d&&null!==d&&(h=parseInt(d,10),isNaN(d)&&(h=15)));if(b&&"function"===typeof b){if(void 0===Ab[h]){for(g=d=0;24>d;d++)for(m=(12<d?d-12:d).toString().replace(/^([0-9]{1})$/,
"0$1"),f=0;60>f;f+=h)c[g]={time:60*d+f,data:("00"===m?"12":m)+":"+f.toString().replace(/^([0-9]{1})$/,"0$1")+" "+(11<d?"pm":"am")},c[g].label=c[g].data,g++;Ab[h]=c}else c=Ab[h];b(c)}}function D(a,b,c){var d,g;d=parseInt(a.substr(0,2).replace(/^[0]/i,""),10);parseInt(a.substr(3,2).replace(/^[0]/,""),10);g=a.substr(6,2);g=g.replace(/^([ap])+(\s)?$/gi,"$1m");!0!==/^(am|pm)$/i.test(g)&&(g=b?"[am|pm]":"am");a=a.substr(3,2).replace(/\s/gi,"").replace(/^([0-9]{1})$/,"$10");if(!0!==/^([0-9]){2}$/i.test(a))a=
b?"[0-9]{2}":"00";else if(!b){if(void 0===c||!0!==c)a=15*Math.round(parseInt(a,10)/15);a=(a+"").replace(/^([0-9]{1})$/,"$10")}b=b?"^("+(d+"").replace(/^([0-9]{1})$/,"0$1")+")+\\:([0-9]{1,2})+([\\s]"+g+")+":"^("+(d+"").replace(/^([0-9]{1})$/,"0$1")+")+\\:("+a+")+([\\s]"+g+")+";return new RegExp(b,"gi")}function p(a,b){if(!(this instanceof p))return new p(a,b);d.isPlainObject(a)?b=a:(b=b||{},b.alias=a);this.el=void 0;this.opts=d.extend(!0,{},this.defaults,b);this.noMasksCache=b&&void 0!==b.definitions;
this.userOptions=b||{};this.events={};O(this.opts.alias,b,this.opts)}function w(a){var b=document.createElement("input");a="on"+a;var c=a in b;c||(b.setAttribute(a,"return;"),c="function"==typeof b[a]);return c}function O(a,b,c){var e=c.aliases[a];if(e)return e.alias&&O(e.alias,void 0,c),d.extend(!0,c,e),d.extend(!0,c,b),!0;null===c.mask&&(c.mask=a);return!1}function U(a,b,c){function e(b,d){d=void 0!==d?d:a.getAttribute("data-inputmask-"+b);null!==d&&("string"===typeof d&&(0===b.indexOf("on")?d=
f[d]:"false"===d?d=!1:"true"===d&&(d=!0)),c[b]=d)}var g=a.getAttribute("data-inputmask"),m,q,h,I;g&&""!==g&&(g=g.replace(RegExp("'","g"),'"'),q=JSON.parse("{"+g+"}"));if(q)for(I in h=void 0,q)if("alias"===I.toLowerCase()){h=q[I];break}e("alias",h);c.alias&&O(c.alias,c,b);for(m in b){if(q)for(I in h=void 0,q)if(I.toLowerCase()===m.toLowerCase()){h=q[I];break}e(m,h)}d.extend(!0,b,c);return b}function L(a,b){function c(b){function c(a,b,c,d){this.matches=[];this.isGroup=a||!1;this.isOptional=b||!1;this.isQuantifier=
c||!1;this.isAlternator=d||!1;this.quantifier={min:1,max:1}}function e(b,c,e){var g=a.definitions[c];e=void 0!==e?e:b.matches.length;var m=b.matches[e-1];if(g&&!z){g.placeholder=d.isFunction(g.placeholder)?g.placeholder(a):g.placeholder;for(var f=g.prevalidator,q=f?f.length:0,h=1;h<g.cardinality;h++){var I=q>=h?f[h-1]:[],k=I.validator,I=I.cardinality;b.matches.splice(e++,0,{fn:k?"string"===typeof k?new RegExp(k):new function(){this.test=k}:/./,cardinality:I?I:1,optionality:b.isOptional,newBlockMarker:void 0===
m||m.def!==(g.definitionSymbol||c),casing:g.casing,def:g.definitionSymbol||c,placeholder:g.placeholder,mask:c});m=b.matches[e-1]}b.matches.splice(e++,0,{fn:g.validator?"string"==typeof g.validator?new RegExp(g.validator):new function(){this.test=g.validator}:/./,cardinality:g.cardinality,optionality:b.isOptional,newBlockMarker:void 0===m||m.def!==(g.definitionSymbol||c),casing:g.casing,def:g.definitionSymbol||c,placeholder:g.placeholder,mask:c})}else b.matches.splice(e++,0,{fn:null,cardinality:0,
optionality:b.isOptional,newBlockMarker:void 0===m||m.def!==c,casing:null,def:a.staticDefinitionSymbol||c,placeholder:void 0!==a.staticDefinitionSymbol?c:void 0,mask:c}),z=!1}function g(b,c){b.isGroup&&(b.isGroup=!1,e(b,a.groupmarker.start,0),!0!==c&&e(b,a.groupmarker.end))}function m(a,b,c,d){0<b.matches.length&&(void 0===d||d)&&(c=b.matches[b.matches.length-1],g(c));e(b,a)}function f(){if(0<p.length){if(u=p[p.length-1],m(n,u,A,!u.isAlternator),u.isAlternator){w=p.pop();for(var a=0;a<w.matches.length;a++)w.matches[a].isGroup=
!1;0<p.length?(u=p[p.length-1],u.matches.push(w)):k.matches.push(w)}}else m(n,k,A)}function q(b){b.matches=b.matches.reverse();for(var c in b.matches){var d=parseInt(c);if(b.matches[c].isQuantifier&&b.matches[d+1]&&b.matches[d+1].isGroup){var e=b.matches[c];b.matches.splice(c,1);b.matches.splice(d+1,0,e)}if(void 0!==b.matches[c].matches)b.matches[c]=q(b.matches[c]);else{var d=b.matches,e=c,g=b.matches[c];g===a.optionalmarker.start?g=a.optionalmarker.end:g===a.optionalmarker.end?g=a.optionalmarker.start:
g===a.groupmarker.start?g=a.groupmarker.end:g===a.groupmarker.end&&(g=a.groupmarker.start);d[e]=g}}return b}for(var h=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,z=!1,k=new c,l,n,p=[],r=[],t,u,w,A,y;l=h.exec(b);)if(n=l[0],z)f();else switch(n.charAt(0)){case a.escapeChar:z=!0;break;case a.optionalmarker.end:case a.groupmarker.end:t=p.pop();if(void 0!==t)if(0<p.length){if(u=p[p.length-1],u.matches.push(t),u.isAlternator){w=p.pop();for(t=0;t<w.matches.length;t++)w.matches[t].isGroup=
!1;0<p.length?(u=p[p.length-1],u.matches.push(w)):k.matches.push(w)}}else k.matches.push(t);else f();break;case a.optionalmarker.start:p.push(new c(!1,!0));break;case a.groupmarker.start:p.push(new c(!0));break;case a.quantifiermarker.start:t=new c(!1,!1,!0);n=n.replace(/[{}]/g,"");y=n.split(",");l=isNaN(y[0])?y[0]:parseInt(y[0]);y=1===y.length?l:isNaN(y[1])?y[1]:parseInt(y[1]);if("*"===y||"+"===y)l="*"===y?0:1;t.quantifier={min:l,max:y};if(0<p.length){var D=p[p.length-1].matches;l=D.pop();l.isGroup||
(y=new c(!0),y.matches.push(l),l=y);D.push(l);D.push(t)}else l=k.matches.pop(),l.isGroup||(y=new c(!0),y.matches.push(l),l=y),k.matches.push(l),k.matches.push(t);break;case a.alternatormarker:0<p.length?(u=p[p.length-1],A=u.matches.pop()):A=k.matches.pop();A.isAlternator?p.push(A):(w=new c(!1,!1,!1,!0),w.matches.push(A),p.push(w));break;default:f()}for(;0<p.length;)t=p.pop(),g(t,!0),k.matches.push(t);0<k.matches.length&&(A=k.matches[k.matches.length-1],g(A),r.push(k));a.numericInput&&q(r[0]);return r}
function e(e,g){if(null!==e&&""!==e){1===e.length&&!1===a.greedy&&0!==a.repeat&&(a.placeholder="");if(0<a.repeat||"*"===a.repeat||"+"===a.repeat)e=a.groupmarker.start+e+a.groupmarker.end+a.quantifiermarker.start+("*"===a.repeat?0:"+"===a.repeat?1:a.repeat)+","+a.repeat+a.quantifiermarker.end;var m;void 0===p.prototype.masksCache[e]||!0===b?(m={mask:e,maskToken:c(e),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:g},!0!==b&&(p.prototype.masksCache[a.numericInput?e.split("").reverse().join(""):
e]=m,m=d.extend(!0,{},p.prototype.masksCache[a.numericInput?e.split("").reverse().join(""):e]))):m=d.extend(!0,{},p.prototype.masksCache[a.numericInput?e.split("").reverse().join(""):e]);return m}}function g(a){return a=a.toString()}var m;d.isFunction(a.mask)&&(a.mask=a.mask(a));if(d.isArray(a.mask)){if(1<a.mask.length){a.keepStatic=null===a.keepStatic?!0:a.keepStatic;var f="(";d.each(a.numericInput?a.mask.reverse():a.mask,function(a,b){1<f.length&&(f+=")|(");f=void 0===b.mask||d.isFunction(b.mask)?
f+g(b):f+g(b.mask)});f+=")";return e(f,a.mask)}a.mask=a.mask.pop()}a.mask&&(m=void 0===a.mask.mask||d.isFunction(a.mask.mask)?e(g(a.mask),a.mask):e(g(a.mask.mask),a.mask));return m}function E(a,b,c){function e(a,d,e){d=d||0;var g=[],f,q=0,h,z=m();do{if(!0===a&&b.validPositions[q]){var k=b.validPositions[q];h=k.match;f=k.locator.slice();g.push(!0===e?k.input:O(q,h))}else f=I(q,f,q-1),h=f.match,f=f.locator.slice(),(!1===c.jitMasking||q<z||isFinite(c.jitMasking)&&c.jitMasking>q)&&g.push(O(q,h));q++}while((void 0===
la||q-1<la)&&null!==h.fn||null===h.fn&&""!==h.def||d>=q);""===g[g.length-1]&&g.pop();return g}function g(a){var c=b;c.buffer=void 0;!0!==a&&(c.tests={},c._buffer=void 0,c.validPositions={},c.p=0)}function m(a,c,d){var e=-1,g=-1;d=d||b.validPositions;void 0===a&&(a=-1);for(var m in d){var f=parseInt(m);d[f]&&(c||null!==d[f].match.fn)&&(f<=a&&(e=f),f>=a&&(g=f))}return-1!==e&&1<a-e||g<a?e:g}function q(a,e,f,q){if(q||c.insertMode&&void 0!==b.validPositions[a]&&void 0===f){f=d.extend(!0,{},b.validPositions);
q=m();var h;for(h=a;h<=q;h++)delete b.validPositions[h];b.validPositions[a]=e;e=!0;var z,I=b.validPositions;for(h=z=a;h<=q;h++){a=f[h];if(void 0!==a)for(var k=z,v=-1;k<G()&&(null==a.match.fn&&I[h]&&(!0===I[h].match.optionalQuantifier||!0===I[h].match.optionality)||null!=a.match.fn);)if(null===a.match.fn||!c.keepStatic&&I[h]&&(void 0!==I[h+1]&&1<T(h+1,I[h].locator.slice(),h).length||void 0!==I[h].alternation)?k++:k=F(z),l(k,a.match.def)){if(z=A(k,a.input,!0,!0),e=!1!==z,z=z.caret||z.insert?m():k,e)break}else{e=
null==a.match.fn;if(v===k)break;v=k}if(!e)break}if(!e)return b.validPositions=d.extend(!0,{},f),g(!0),!1}else b.validPositions[a]=e;g(!0);return!0}function h(a,d,e,f){var q=a;b.p=a;for(a=d-1;a>=q;a--)if(void 0!==b.validPositions[a]){if(!(d=!0===e)){d=a;var h=b.validPositions[d];void 0!==h&&null===h.match.fn?(h=b.validPositions[d+1],d=void 0!==b.validPositions[d-1]&&void 0!==h):d=!1;d=!d&&!1!==c.canClearPosition(b,a,m(),f,c)}d&&delete b.validPositions[a]}g(!0);for(a=q+1;a<=m();){for(;void 0!==b.validPositions[q];)q++;
e=b.validPositions[q];a<q&&(a=q+1);void 0===b.validPositions[a]&&D(a)||void 0!==e?a++:(e=I(a),l(q,e.match.def)?!1!==A(q,e.input||O(a),!0)&&(delete b.validPositions[a],a++):D(a)||(a++,q--),q++)}g(!0)}function I(a,d,e){var g=b.validPositions[a];if(void 0===g){a=T(a,d,e);d=m();d=b.validPositions[d]||T(0)[0];e=void 0!==d.alternation?d.locator[d.alternation].toString().split(","):[];for(var f=0;f<a.length&&!(g=a[f],g.match&&(c.greedy&&!0!==g.match.optionalQuantifier||(!1===g.match.optionality||!1===g.match.newBlockMarker)&&
!0!==g.match.optionalQuantifier)&&(void 0===d.alternation||d.alternation!==g.alternation||void 0!==g.locator[d.alternation]&&y(g.locator[d.alternation].toString().split(","),e)));f++);}return g}function k(a){return b.validPositions[a]?b.validPositions[a].match:T(a)[0].match}function l(a,b){for(var c=!1,d=T(a),e=0;e<d.length;e++)if(d[e].match&&d[e].match.def===b){c=!0;break}return c}function n(a,c){var e,g;(b.tests[a]||b.validPositions[a])&&d.each(b.tests[a]||[b.validPositions[a]],function(a,b){var d=
b.alternation?b.locator[b.alternation].toString().indexOf(c):-1;(void 0===g||d<g)&&-1!==d&&(e=b,g=d)});return e}function T(a,c,e){function g(c,e,m,k){function v(m,k,x){function l(a,b){var c=0===d.inArray(a,b.matches);c||d.each(b.matches,function(d,e){if(!0===e.isQuantifier&&(c=l(a,b.matches[d-1])))return!1});return c}function p(a,b){var c=n(a,b);return c?c.locator.slice(c.alternation+1):[]}if(1E4<f)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+
b.mask;if(f===a&&void 0===m.matches)return q.push({match:m,locator:k.reverse(),cd:I}),!0;if(void 0!==m.matches)if(m.isGroup&&x!==m){if(m=v(c.matches[d.inArray(m,c.matches)+1],k))return!0}else if(m.isOptional){var B=m;if(m=g(m,e,k,x))if(z=q[q.length-1].match,l(z,B))h=!0,f=a;else return!0}else if(m.isAlternator){var B=m,T=[],M,t=q.slice(),J=k.length,qa=0<e.length?e.shift():-1;if(-1===qa||"string"===typeof qa){var r=f,u=e.slice(),xa=[];if("string"==typeof qa)xa=qa.split(",");else for(M=0;M<B.matches.length;M++)xa.push(M);
for(var w=0;w<xa.length;w++){M=parseInt(xa[w]);q=[];e=p(f,M);m=v(B.matches[M]||c.matches[M],[M].concat(k),x)||m;!0!==m&&void 0!==m&&xa[xa.length-1]<B.matches.length&&(M=d.inArray(m,c.matches)+1,c.matches.length>M&&(m=v(c.matches[M],[M].concat(k.slice(1,k.length)),x)))&&(xa.push(M.toString()),d.each(q,function(a,b){b.alternation=k.length-1}));M=q.slice();f=r;q=[];for(var ga=0;ga<u.length;ga++)e[ga]=u[ga];for(ga=0;ga<M.length;ga++){var Ka=M[ga];Ka.alternation=Ka.alternation||J;for(var da=0;da<T.length;da++){var ja=
T[da];if(Ka.match.def===ja.match.def&&("string"!==typeof qa||-1!==d.inArray(Ka.locator[Ka.alternation].toString(),xa))){Ka.match.mask===ja.match.mask&&(M.splice(ga,1),ga--);-1===ja.locator[Ka.alternation].toString().indexOf(Ka.locator[Ka.alternation])&&(ja.locator[Ka.alternation]=ja.locator[Ka.alternation]+","+Ka.locator[Ka.alternation],ja.alternation=Ka.alternation);break}}}T=T.concat(M)}"string"==typeof qa&&(T=d.map(T,function(a,b){if(isFinite(b)){var c,e=a.alternation,g=a.locator[e].toString().split(",");
a.locator[e]=void 0;a.alternation=void 0;for(var m=0;m<g.length;m++)if(c=-1!==d.inArray(g[m],xa))void 0!==a.locator[e]?(a.locator[e]+=",",a.locator[e]+=g[m]):a.locator[e]=parseInt(g[m]),a.alternation=e;if(void 0!==a.locator[e])return a}}));q=t.concat(T);f=a;h=0<q.length}else m=v(B.matches[qa]||c.matches[qa],[qa].concat(k),x);if(m)return!0}else if(m.isQuantifier&&x!==c.matches[d.inArray(m,c.matches)-1])for(x=m,B=0<e.length?e.shift():0;B<(isNaN(x.quantifier.max)?B+1:x.quantifier.max)&&f<=a;B++){if(T=
c.matches[d.inArray(x,c.matches)-1],m=v(T,[B].concat(k),T))if(z=q[q.length-1].match,z.optionalQuantifier=B>x.quantifier.min-1,l(z,T))if(B>x.quantifier.min-1){h=!0;f=a;break}else return!0;else return!0}else{if(m=g(m,e,k,x))return!0}else f++}for(var x=0<e.length?e.shift():0;x<c.matches.length;x++)if(!0!==c.matches[x].isQuantifier){var l=v(c.matches[x],[x].concat(m),k);if(l&&f===a)return l;if(f>a)break}}var m=b.maskToken,f=c?e:0;e=c||[0];var q=[],h=!1,z,I=c?c.join(""):"";if(-1<a){if(void 0===c){c=a-
1;for(var k;void 0===(k=b.validPositions[c]||b.tests[c])&&-1<c;)c--;void 0!==k&&-1<c&&(e=(k[0]||k).locator.slice(),I=e.join(""),k=k[0]||k,f=c)}if(b.tests[a]&&b.tests[a][0].cd===I)return b.tests[a];for(c=e.shift();c<m.length&&!(g(m[c],e,[c])&&f===a||f>a);c++);}(0===q.length||h)&&q.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]});b.tests[a]=d.extend(!0,[],q);return b.tests[a]}function r(){void 0===b._buffer&&(b._buffer=e(!1,1));return b._buffer}function t(a){if(void 0===
b.buffer||!0===a){if(!0===a)for(var c in b.tests)void 0===b.validPositions[c]&&delete b.tests[c];b.buffer=e(!0,m(),!0)}return b.buffer}function u(a,d,e){var m;if(!0===a)g(),a=0,d=e.length;else for(m=a;m<d;m++)delete b.validPositions[m],delete b.tests[m];for(m=a;m<d;m++)g(!0),e[m]!==c.skipOptionalPartCharacter&&A(m,e[m],!0,!0)}function Ga(a,b){switch(b.casing){case "upper":a=a.toUpperCase();break;case "lower":a=a.toLowerCase()}return a}function y(a,b){for(var e=c.greedy?b:b.slice(0,1),g=!1,m=0;m<a.length;m++)if(-1!==
d.inArray(a[m],e)){g=!0;break}return g}function A(a,e,f,z){function k(a){return ba?1<a.begin-a.end||1===a.begin-a.end&&c.insertMode:1<a.end-a.begin||1===a.end-a.begin&&c.insertMode}function v(e,f,z,I){var v=!1;d.each(T(e),function(x,l){for(var n=l.match,p=f?1:0,B="",M=n.cardinality;M>p;M--)B+=P(e-(M-1));f&&(B+=f);t(!0);v=null!=n.fn?n.fn.test(B,b,e,z,c,k(a)):f!==n.def&&f!==c.skipOptionalPartCharacter||""===n.def?!1:{c:n.placeholder||n.def,pos:e};if(!1!==v){p=void 0!==v.c?v.c:f;p=p===c.skipOptionalPartCharacter&&
null===n.fn?n.placeholder||n.def:p;M=e;B=t();void 0!==v.remove&&(d.isArray(v.remove)||(v.remove=[v.remove]),d.each(v.remove.sort(function(a,b){return b-a}),function(a,b){h(b,b+1,!0)}));void 0!==v.insert&&(d.isArray(v.insert)||(v.insert=[v.insert]),d.each(v.insert.sort(function(a,b){return a-b}),function(a,b){A(b.pos,b.c,!1,I)}));if(v.refreshFromBuffer){M=v.refreshFromBuffer;z=!0;u(!0===M?M:M.start,M.end,B);if(void 0===v.pos&&void 0===v.c)return v.pos=m(),!1;M=void 0!==v.pos?v.pos:e;if(M!==e)return v=
d.extend(v,A(M,p,!0,I)),!1}else if(!0!==v&&void 0!==v.pos&&v.pos!==e&&(M=v.pos,u(e,M,t().slice()),M!==e))return v=d.extend(v,A(M,p,!0)),!1;if(!0!==v&&void 0===v.pos&&void 0===v.c)return!1;0<x&&g(!0);q(M,d.extend({},l,{input:Ga(p,n)}),I,k(a))||(v=!1);return!1}});return v}function x(a,e,f,q){for(var h=d.extend(!0,{},b.validPositions),z=d.extend(!0,{},b.tests),k,v,x,l,p,B=m();0<=B&&(!(l=b.validPositions[B])||void 0===l.alternation||(k=B,v=b.validPositions[k].alternation,I(k).locator[l.alternation]===
l.locator[l.alternation]));B--);if(void 0!==v){k=parseInt(k);for(var M in b.validPositions)if(M=parseInt(M),l=b.validPositions[M],M>=k&&void 0!==l.alternation){var T;0===k?(T=[],d.each(b.tests[k],function(a,b){void 0!==b.locator[v]&&(T=T.concat(b.locator[v].toString().split(",")))})):T=b.validPositions[k].locator[v].toString().split(",");k=void 0!==l.locator[v]?l.locator[v]:T[0];0<k.length&&(k=k.split(",")[0]);for(l=0;l<T.length;l++){var t=[],J=B=0;if(k<T[l]){var qa,r;for(x=M;0<=x;x--)if(qa=b.validPositions[x],
void 0!==qa){r=n(x,T[l]);b.validPositions[x].match.def!==r.match.def&&(t.push(b.validPositions[x].input),b.validPositions[x]=r,b.validPositions[x].input=O(x),null===b.validPositions[x].match.fn&&J++,qa=r);r=qa.locator[v];qa.locator[v]=parseInt(T[l]);break}if(k!==qa.locator[v]){for(x=M+1;x<m(void 0,!0)+1;x++)(p=b.validPositions[x])&&null!=p.match.fn?t.push(p.input):x<a&&B++,delete b.validPositions[x],delete b.tests[x];g(!0);c.keepStatic=!c.keepStatic;for(x=!0;0<t.length&&(p=t.shift(),p===c.skipOptionalPartCharacter||
(x=A(m(void 0,!0)+1,p,!1,q))););qa.alternation=v;qa.locator[v]=r;if(x){t=m(a)+1;for(x=M+1;x<m()+1;x++)p=b.validPositions[x],(void 0===p||null==p.match.fn)&&x<a&&J++;a+=J-B;x=A(a>t?t:a,e,f,q)}c.keepStatic=!c.keepStatic;if(x)return x;g();b.validPositions=d.extend(!0,{},h);b.tests=d.extend(!0,{},z)}}}break}}return!1}function l(a,c){for(var e=b.validPositions[c].locator,g=e.length,m=a;m<c;m++)if(void 0===b.validPositions[m]&&!D(m,!0)){var f=T(m),h=f[0],z=-1;d.each(f,function(a,b){for(var c=0;c<g;c++)if(void 0!==
b.locator[c]&&y(b.locator[c].toString().split(","),e[c].toString().split(",")))z<c&&(z=c,h=b);else break});q(m,d.extend({},h,{input:h.match.placeholder||h.match.def}),!0)}}f=!0===f;var B=a;void 0!==a.begin&&(B=ba&&!k(a)?a.end:a.begin);for(var M=!1,qa=d.extend(!0,{},b.validPositions),J=B-1;-1<J&&!b.validPositions[J];J--);var r;for(J++;J<B;J++)void 0===b.validPositions[J]&&(!1===c.jitMasking||c.jitMasking>J)&&((r=I(J)).match.def===c.radixPointDefinitionSymbol||!D(J,!0)||d.inArray(c.radixPoint,t())<
J&&r.match.fn&&r.match.fn.test(O(J),b,J,!1,c))&&v(m(J,!0)+1,r.match.placeholder||(null==r.match.fn?r.match.def:""!==O(J)?O(J):t()[J]),!0,z);k(a)&&(aa(void 0,p.keyCode.DELETE,a),B=b.p);if(B<G()&&(M=v(B,e,f,z),(!f||!0===z)&&!1===M))if((J=b.validPositions[B])&&null===J.match.fn&&(J.match.def===e||e===c.skipOptionalPartCharacter))M={caret:F(B)};else if((c.insertMode||void 0===b.validPositions[F(B)])&&!D(B,!0))for(J=I(B).match,J=J.placeholder||J.def,v(B,J,f,z),J=B+1,r=F(B);J<=r;J++)if(M=v(J,e,f,z),!1!==
M){l(B,J);B=J;break}!1===M&&c.keepStatic&&(M=x(B,e,f,z));!0===M&&(M={pos:B});d.isFunction(c.postValidation)&&!1!==M&&!f&&!0!==z&&(M=c.postValidation(t(!0),M,c)?M:!1);!1!==M&&void 0===M.pos&&(M.pos=B);!1===M&&(g(!0),b.validPositions=d.extend(!0,{},qa));return M}function D(a,d){var e;d?(e=I(a).match,""===e.def&&(e=k(a))):e=k(a);return null!=e.fn?e.fn:!0!==d&&-1<a&&!c.keepStatic&&void 0===b.validPositions[a]?2<T(a).length:!1}function G(){var a;la=void 0!==Q?Q.maxLength:void 0;-1===la&&(la=void 0);var c;
c=m();a=b.validPositions[c];var d=void 0!==a?a.locator.slice():void 0;for(c+=1;void 0===a||null!==a.match.fn||null===a.match.fn&&""!==a.match.def;c++)a=I(c,d,c-1),d=a.locator.slice();a=""!==k(c-1).def?c:c-1;return void 0===la||a<la?a:la}function F(a,b){var d=G();if(a>=d)return d;for(var e=a;++e<d&&(!0===b&&(!0!==k(e).newBlockMarker||!D(e))||!0!==b&&!D(e)&&(!0!==c.nojumps||c.nojumpsThreshold>e)););return e}function K(a,b){var c=a;if(0>=c)return 0;for(;0<--c&&(!0===b&&!0!==k(c).newBlockMarker||!0!==
b&&!D(c)););return c}function P(a){return void 0===b.validPositions[a]?O(a):b.validPositions[a].input}function H(a,b,e,g,m){if(g&&d.isFunction(c.onBeforeWrite)){var f=c.onBeforeWrite(g,b,e,c);if(f){if(f.refreshFromBuffer){var q=f.refreshFromBuffer;u(!0===q?q:q.start,q.end,f.buffer||b);b=t(!0)}void 0!==e&&(e=void 0!==f.caret?f.caret:e)}}a.inputmask._valueSet(b.join(""));void 0===e||void 0!==g&&"blur"===g.type||N(a,e);!0===m&&(pa=!0,d(a).trigger("input"))}function O(a,d){d=d||k(a);if(void 0!==d.placeholder)return d.placeholder;
if(null===d.fn){if(-1<a&&!c.keepStatic&&void 0===b.validPositions[a]){var e=T(a),g=0,m;if(2<e.length)for(var f=0;f<e.length;f++)if(!0!==e[f].match.optionality&&!0!==e[f].match.optionalQuantifier&&(null===e[f].match.fn||void 0===m||!1!==e[f].match.fn.test(m.match.def,b,a,!0,c))&&(g++,null===e[f].match.fn&&(m=e[f]),1<g))return c.placeholder.charAt(a%c.placeholder.length)}return d.def}return c.placeholder.charAt(a%c.placeholder.length)}function L(a,e,f,q){q=q.slice();var h="",z=0,k;g();b.p=F(-1);if(!f)if(!0!==
c.autoUnmask){var x=r().slice(0,F(-1)).join(""),v=q.join("").match(new RegExp("^"+p.escapeRegex(x),"g"));v&&0<v.length&&(q.splice(0,v.length*x.length),z=F(z))}else z=F(z);d.each(q,function(e,q){if(void 0!==q){var x=new d.Event("keypress");x.which=q.charCodeAt(0);h+=q;var v=m(void 0,!0),l=b.validPositions[v],l=I(v+1,l?l.locator.slice():void 0,v),n=!1,p=r().slice(z,F(z)).join("").indexOf(h);if(-1!==p&&!D(z))for(var n=!0,p=r().slice(z,z+p),M=0;M<p.length;M++)if(" "!==p[M]){n=!1;break}!n||f||c.autoUnmask?
(v=f?e:null==l.match.fn&&l.match.optionality&&v+1<b.p?v+1:b.p,k=Z.call(a,x,!0,!1,f,v),z=v+1,h=""):k=Z.call(a,x,!0,!1,!0,v+1);!f&&d.isFunction(c.onBeforeWrite)&&(k=c.onBeforeWrite(x,t(),k.forwardPosition,c))&&k.refreshFromBuffer&&(x=k.refreshFromBuffer,u(!0===x?x:x.start,x.end,k.buffer),g(!0),k.caret&&(b.p=k.caret))}});e&&H(a,t(),document.activeElement===a?F(m(0)):void 0,new d.Event("checkval"))}function U(a){if(a&&void 0===a.inputmask)return a.value;a=[];var e=b.validPositions,g;for(g in e)e[g].match&&
null!=e[g].match.fn&&a.push(e[g].input);g=0===a.length?null:(ba?a.reverse():a).join("");null!==g&&(a=(ba?t().slice().reverse():t()).join(""),d.isFunction(c.onUnMask)&&(g=c.onUnMask(a,g,c)||g));return g}function N(a,b,d,e){function g(a){!0===e||!ba||"number"!==typeof a||c.greedy&&""===c.placeholder||(a=t().join("").length-a);return a}var m;if("number"===typeof b)if(b=g(b),d=g(d),d="number"==typeof d?d:b,m=parseInt(((a.ownerDocument.defaultView||f).getComputedStyle?(a.ownerDocument.defaultView||f).getComputedStyle(a,
null):a.currentStyle).fontSize)*d,a.scrollLeft=m>a.scrollWidth?m:0,Qb||!1!==c.insertMode||b!==d||d++,a.setSelectionRange)a.selectionStart=b,a.selectionEnd=d;else if(f.getSelection){m=document.createRange();if(void 0===a.firstChild||null===a.firstChild){var q=document.createTextNode("");a.appendChild(q)}m.setStart(a.firstChild,b<a.inputmask._valueGet().length?b:a.inputmask._valueGet().length);m.setEnd(a.firstChild,d<a.inputmask._valueGet().length?d:a.inputmask._valueGet().length);m.collapse(!0);a=
f.getSelection();a.removeAllRanges();a.addRange(m)}else a.createTextRange&&(m=a.createTextRange(),m.collapse(!0),m.moveEnd("character",d),m.moveStart("character",b),m.select());else{if(a.setSelectionRange)b=a.selectionStart,d=a.selectionEnd;else if(f.getSelection){if(m=f.getSelection().getRangeAt(0),m.commonAncestorContainer.parentNode===a||m.commonAncestorContainer===a)b=m.startOffset,d=m.endOffset}else document.selection&&document.selection.createRange&&(m=document.selection.createRange(),b=0-m.duplicate().moveStart("character",
-a.inputmask._valueGet().length),d=b+m.text.length);return{begin:g(b),end:g(d)}}}function R(a){var c=t(),e=c.length,g,f=m(),q={},h=b.validPositions[f],z=void 0!==h?h.locator.slice():void 0,k;for(g=f+1;g<c.length;g++)k=I(g,z,g-1),z=k.locator.slice(),q[g]=d.extend(!0,{},k);z=h&&void 0!==h.alternation?h.locator[h.alternation]:void 0;for(g=e-1;g>f;g--)if(k=q[g],(k.match.optionality||k.match.optionalQuantifier||z&&(z!==q[g].locator[h.alternation]&&null!=k.match.fn||null===k.match.fn&&k.locator[h.alternation]&&
y(k.locator[h.alternation].toString().split(","),z.toString().split(","))&&""!==T(g)[0].def))&&c[g]===O(g,k.match))e--;else break;return a?{l:e,def:q[e]?q[e].match:void 0}:e}function S(a){for(var b=R(),c=a.length-1;c>b&&!D(c);c--);a.splice(b,c+1-b);return a}function V(a){if(d.isFunction(c.isComplete))return c.isComplete(a,c);if("*"!==c.repeat){var e=!1,g=R(!0),m=K(g.l);if(void 0===g.def||g.def.newBlockMarker||g.def.optionality||g.def.optionalQuantifier)for(e=!0,g=0;g<=m;g++){var f=I(g).match;if(null!==
f.fn&&void 0===b.validPositions[g]&&!0!==f.optionality&&!0!==f.optionalQuantifier||null===f.fn&&a[g]!==O(g,f)){e=!1;break}}return e}}function W(a){function b(a){if(d.valHooks&&(void 0===d.valHooks[a]||!0!==d.valHooks[a].inputmaskpatch)){var b=d.valHooks[a]&&d.valHooks[a].get?d.valHooks[a].get:function(a){return a.value},e=d.valHooks[a]&&d.valHooks[a].set?d.valHooks[a].set:function(a,b){a.value=b;return a};d.valHooks[a]={get:function(a){if(a.inputmask){if(a.inputmask.opts.autoUnmask)return a.inputmask.unmaskedvalue();
var d=b(a);return-1!==m(void 0,void 0,a.inputmask.maskset.validPositions)||!0!==c.nullable?d:""}return b(a)},set:function(a,b){var c=d(a),g;g=e(a,b);a.inputmask&&c.trigger("setvalue");return g},inputmaskpatch:!0}}}function e(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==m()||!0!==c.nullable?document.activeElement===this&&c.clearMaskOnLostFocus?(ba?S(t().slice()).reverse():S(t().slice())).join(""):q.call(this):"":q.call(this)}function g(a){h.call(this,a);
this.inputmask&&d(this).trigger("setvalue")}function f(a){sa.on(a,"mouseenter",function(a){a=d(this);this.inputmask._valueGet()!==t().join("")&&a.trigger("setvalue")})}var q,h;if(!a.inputmask.__valueGet){if(Object.getOwnPropertyDescriptor){var z=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(a),"value"):void 0;z&&z.get&&z.set?(q=z.get,h=z.set,Object.defineProperty(a,"value",{get:e,set:g,configurable:!0})):"INPUT"!==a.tagName&&(q=function(){return this.textContent},h=function(a){this.textContent=
a},Object.defineProperty(a,"value",{get:e,set:g,configurable:!0}))}else document.__lookupGetter__&&a.__lookupGetter__("value")&&(q=a.__lookupGetter__("value"),h=a.__lookupSetter__("value"),a.__defineGetter__("value",e),a.__defineSetter__("value",g));void 0===q&&(q=function(){return a.value},h=function(b){a.value=b},b(a.type),f(a));a.inputmask.__valueGet=q;a.inputmask._valueGet=function(a){return ba&&!0!==a?q.call(this.el).split("").reverse().join(""):q.call(this.el)};a.inputmask.__valueSet=h;a.inputmask._valueSet=
function(a,b){h.call(this.el,null===a||void 0===a?"":!0!==b&&ba?a.split("").reverse().join(""):a)}}}function aa(a,e,f,q){if(c.numericInput||ba)if(e===p.keyCode.BACKSPACE?e=p.keyCode.DELETE:e===p.keyCode.DELETE&&(e=p.keyCode.BACKSPACE),ba){var z=f.end;f.end=f.begin;f.begin=z}e===p.keyCode.BACKSPACE&&(1>f.end-f.begin||!1===c.insertMode)?(f.begin=K(f.begin),void 0===b.validPositions[f.begin]||b.validPositions[f.begin].input!==c.groupSeparator&&b.validPositions[f.begin].input!==c.radixPoint||f.begin--):
e===p.keyCode.DELETE&&f.begin===f.end&&(f.end=D(f.end)?f.end+1:F(f.end)+1,void 0===b.validPositions[f.begin]||b.validPositions[f.begin].input!==c.groupSeparator&&b.validPositions[f.begin].input!==c.radixPoint||f.end++);h(f.begin,f.end,!1,q);if(!0!==q&&c.keepStatic){g(!0);e=[];for(var k=d.extend(!0,{},b.validPositions),z=m();0<=z;z--){var x=b.validPositions[z];if(x&&(null!=x.match.fn&&e.push(x.input),delete b.validPositions[z],void 0!==x.alternation&&x.locator[x.alternation]===I(z).locator[x.alternation]))break}if(-1<
z)for(;0<e.length;)b.p=F(m()),z=new d.Event("keypress"),z.which=e.pop().charCodeAt(0),Z.call(a,z,!0,!1,!1,b.p);else b.validPositions=d.extend(!0,{},k)}a=m(f.begin);a<f.begin?(-1===a&&g(),b.p=F(a)):!0!==q&&(b.p=f.begin)}function ca(a){var e=this,g=d(e),f=a.keyCode,q=N(e);f===p.keyCode.BACKSPACE||f===p.keyCode.DELETE||Yb&&f===p.keyCode.BACKSPACE_SAFARI||a.ctrlKey&&f===p.keyCode.X&&!w("cut")?(a.preventDefault(),aa(e,f,q),H(e,t(),b.p,a,za!==t().join("")),e.inputmask._valueGet()===r().join("")?g.trigger("cleared"):
!0===V(t())&&g.trigger("complete"),c.showTooltip&&(e.title=c.tooltip||b.mask)):f===p.keyCode.END||f===p.keyCode.PAGE_DOWN?(a.preventDefault(),g=F(m()),c.insertMode||g!==G()||a.shiftKey||g--,N(e,a.shiftKey?q.begin:g,g,!0)):f===p.keyCode.HOME&&!a.shiftKey||f===p.keyCode.PAGE_UP?(a.preventDefault(),N(e,0,a.shiftKey?q.begin:0,!0)):(c.undoOnEscape&&f===p.keyCode.ESCAPE||90===f&&a.ctrlKey)&&!0!==a.altKey?(L(e,!0,!1,za.split("")),g.trigger("click")):f!==p.keyCode.INSERT||a.shiftKey||a.ctrlKey?!0===c.tabThrough&&
f===p.keyCode.TAB?(!0===a.shiftKey?(null===k(q.begin).fn&&(q.begin=F(q.begin)),q.end=K(q.begin,!0),q.begin=K(q.end,!0)):(q.begin=F(q.begin,!0),q.end=F(q.begin,!0),q.end<G()&&q.end--),q.begin<G()&&(a.preventDefault(),N(e,q.begin,q.end))):!1!==c.insertMode||a.shiftKey||(f===p.keyCode.RIGHT?setTimeout(function(){var a=N(e);N(e,a.begin)},0):f===p.keyCode.LEFT&&setTimeout(function(){var a=N(e);N(e,ba?a.begin+1:a.begin-1)},0)):(c.insertMode=!c.insertMode,N(e,c.insertMode||q.begin!==G()?q.begin:q.begin-
1));c.onKeyDown.call(this,a,t(),N(e).begin,c);ta=-1!==d.inArray(f,c.ignorables)}function Z(a,e,m,f,q){var h=d(this),z=a.which||a.charCode||a.keyCode;if(!(!0===e||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||ta))return z===p.keyCode.ENTER&&za!==t().join("")&&(za=t().join(""),setTimeout(function(){h.trigger("change")},0)),!0;if(z){46===z&&!1===a.shiftKey&&","===c.radixPoint&&(z=44);q=e?{begin:q,end:q}:N(this);var k,I=String.fromCharCode(z);b.writeOutBuffer=!0;var x=A(q,I,f);!1!==x&&(f=x.pos,g(!0),void 0!==
x.caret?k=x.caret:(k=b.validPositions,k=!c.keepStatic&&(void 0!==k[f+1]&&1<T(f+1,k[f].locator.slice(),f).length||void 0!==k[f].alternation)?f+1:F(f)),b.p=k);if(!1!==m){var l=this;setTimeout(function(){c.onKeyValidation.call(l,z,x,c)},0);if(b.writeOutBuffer&&!1!==x){var n=t();H(this,n,c.numericInput&&void 0===x.caret?K(k):k,a,!0!==e);!0!==e&&setTimeout(function(){!0===V(n)&&h.trigger("complete")},0)}}c.showTooltip&&(this.title=c.tooltip||b.mask);a.preventDefault();if(e)return"boolean"!==typeof x&&
(x.forwardPosition=k),x}}function ha(a){var b=a.originalEvent||a,e=d(this),g=this.inputmask._valueGet(!0),q=N(this),h;ba&&(h=q.end,q.end=q.begin,q.begin=h);var z=g.substr(0,q.begin),k=g.substr(q.end,g.length);z===(ba?r().reverse():r()).slice(0,q.begin).join("")&&(z="");k===(ba?r().reverse():r()).slice(q.end).join("")&&(k="");ba&&(h=z,z=k,k=h);f.clipboardData&&f.clipboardData.getData?g=z+f.clipboardData.getData("Text")+k:b.clipboardData&&b.clipboardData.getData&&(g=z+b.clipboardData.getData("text/plain")+
k);b=g;if(d.isFunction(c.onBeforePaste)){b=c.onBeforePaste(g,c);if(!1===b)return a.preventDefault();b||(b=g)}L(this,!1,!1,ba?b.split("").reverse():b.toString().split(""));H(this,t(),F(m()),a,!0);!0===V(t())&&e.trigger("complete");return a.preventDefault()}function fa(a){var c=this.inputmask._valueGet();if(t().join("")!==c){var e=N(this),c=c.replace(new RegExp("("+p.escapeRegex(r().join(""))+")*"),"");if(Gb){var g=c.replace(t().join(""),"");if(1===g.length)return a=new d.Event("keypress"),a.which=
g.charCodeAt(0),Z.call(this,a,!0,!0,!1,b.validPositions[e.begin-1]?e.begin:e.begin-1),!1}e.begin>c.length&&(N(this,c.length),e=N(this));if(1!==t().length-c.length||c.charAt(e.begin)===t()[e.begin]||c.charAt(e.begin+1)===t()[e.begin]||D(e.begin)){e=m()+1;for(e=t().slice(e).join("");null===c.match(p.escapeRegex(e)+"$");)e=e.slice(1);c=c.replace(e,"");c=c.split("");L(this,!0,!1,c);!0===V(t())&&d(this).trigger("complete")}else a.keyCode=p.keyCode.BACKSPACE,ca.call(this,a);a.preventDefault()}}function va(a){a=
this.inputmask._valueGet();L(this,!0,!1,(d.isFunction(c.onBeforeMask)?c.onBeforeMask(a,c)||a:a).split(""));za=t().join("");(c.clearMaskOnLostFocus||c.clearIncomplete)&&this.inputmask._valueGet()===r().join("")&&this.inputmask._valueSet("")}function ea(a){var b=this;a=b.inputmask._valueGet();c.showMaskOnFocus&&(!c.showMaskOnHover||c.showMaskOnHover&&""===a)?b.inputmask._valueGet()!==t().join("")&&H(b,t(),F(m())):!1===na&&N(b,F(m()));!0===c.positionCaretOnTab&&setTimeout(function(){N(b,F(m()))},0);
za=t().join("")}function rb(a){na=!1;if(c.clearMaskOnLostFocus&&document.activeElement!==this){a=t().slice();var b=this.inputmask._valueGet();b!==this.getAttribute("placeholder")&&""!==b&&(-1===m()&&b===r().join("")?a=[]:S(a),H(this,a))}}function Fb(a){function e(a){if(c.radixFocus&&""!==c.radixPoint){var e=b.validPositions;if(void 0===e[a]||e[a].input===O(a)){if(a<F(-1))return!0;a=d.inArray(c.radixPoint,t());if(-1!==a){for(var g in e)if(a<g&&e[g].input!==O(g))return!1;return!0}}}return!1}var g=this;
setTimeout(function(){if(document.activeElement===g){var a=N(g);if(a.begin===a.end)if(e(a.begin))N(g,c.numericInput?F(d.inArray(c.radixPoint,t())):d.inArray(c.radixPoint,t()));else{var a=a.begin,b=m(a,!0),b=F(b);if(a<b)N(g,D(a)||D(a-1)?a:F(a));else{a=O(b);if(""!==a&&t()[b]!==a||!D(b,!0)&&k(b).def===a)b=F(b);N(g,b)}}}},0)}function nb(a){var b=this;setTimeout(function(){N(b,0,F(m()))},0)}function bc(a){var e=d(this),g=N(this),m=a.originalEvent||a,m=f.clipboardData||m.clipboardData,q=ba?t().slice(g.end,
g.begin):t().slice(g.begin,g.end);m.setData("text",ba?q.reverse().join(""):q.join(""));document.execCommand&&document.execCommand("copy");aa(this,p.keyCode.DELETE,g);H(this,t(),b.p,a,za!==t().join(""));this.inputmask._valueGet()===r().join("")&&e.trigger("cleared");c.showTooltip&&(this.title=c.tooltip||b.mask)}function Cb(a){var b=d(this);if(this.inputmask){var e=this.inputmask._valueGet(),f=t().slice();za!==f.join("")&&setTimeout(function(){b.trigger("change");za=f.join("")},0);""!==e&&(c.clearMaskOnLostFocus&&
(-1===m()&&e===r().join("")?f=[]:S(f)),!1===V(f)&&(setTimeout(function(){b.trigger("incomplete")},0),c.clearIncomplete&&(g(),f=c.clearMaskOnLostFocus?[]:r().slice())),H(this,f,void 0,a))}}function ra(a){na=!0;document.activeElement!==this&&c.showMaskOnHover&&this.inputmask._valueGet()!==t().join("")&&H(this,t())}function ia(a){za!==t().join("")&&ka.trigger("change");c.clearMaskOnLostFocus&&-1===m()&&Q.inputmask._valueGet&&Q.inputmask._valueGet()===r().join("")&&Q.inputmask._valueSet("");c.removeMaskOnSubmit&&
(Q.inputmask._valueSet(Q.inputmask.unmaskedvalue(),!0),setTimeout(function(){H(Q,t())},0))}function oa(a){setTimeout(function(){ka.trigger("setvalue")},0)}function cc(a){Q=a;ka=d(Q);c.showTooltip&&(Q.title=c.tooltip||b.mask);if("rtl"===Q.dir||c.rightAlign)Q.style.textAlign="right";if("rtl"===Q.dir||c.numericInput)Q.dir="ltr",Q.removeAttribute("dir"),ba=Q.inputmask.isRTL=!0;sa.off(Q);W(Q);var e=Q,f=c;a=e.getAttribute("type");f="INPUT"===e.tagName&&-1!==d.inArray(a,f.supportsInputType)||e.isContentEditable||
"TEXTAREA"===e.tagName;f||"INPUT"!==e.tagName||(e=document.createElement("input"),e.setAttribute("type",a),f="text"===e.type);f&&(sa.on(Q,"submit",ia),sa.on(Q,"reset",oa),sa.on(Q,"mouseenter",ra),sa.on(Q,"blur",Cb),sa.on(Q,"focus",ea),sa.on(Q,"mouseleave",rb),sa.on(Q,"click",Fb),sa.on(Q,"dblclick",nb),sa.on(Q,"paste",ha),sa.on(Q,"dragdrop",ha),sa.on(Q,"drop",ha),sa.on(Q,"cut",bc),sa.on(Q,"complete",c.oncomplete),sa.on(Q,"incomplete",c.onincomplete),sa.on(Q,"cleared",c.oncleared),sa.on(Q,"keydown",
ca),sa.on(Q,"keypress",Z),sa.on(Q,"input",fa));sa.on(Q,"setvalue",va);if(""!==Q.inputmask._valueGet()||!1===c.clearMaskOnLostFocus||document.activeElement===Q)a=d.isFunction(c.onBeforeMask)?c.onBeforeMask(Q.inputmask._valueGet(),c)||Q.inputmask._valueGet():Q.inputmask._valueGet(),L(Q,!0,!1,a.split("")),a=t().slice(),za=a.join(""),!1===V(a)&&c.clearIncomplete&&g(),c.clearMaskOnLostFocus&&document.activeElement!==Q&&(-1===m()?a=[]:S(a)),H(Q,a),document.activeElement===Q&&N(Q,F(m()))}var ba=!1,za,Q,
ka,Ca=!1,pa=!1,ta=!1,la,na=!0,sa={on:function(a,b,e){var g=function(a){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var b=d.data(this,"_inputmask_opts");b?(new p(b)).mask(this):sa.off(this)}else{if("setvalue"===a.type||!this.disabled&&(!this.readOnly||"keydown"===a.type&&a.ctrlKey&&67===a.keyCode||!1===c.tabThrough&&a.keyCode===p.keyCode.TAB)){switch(a.type){case "input":if(!0===pa)return pa=!1,a.preventDefault();break;case "keydown":pa=Ca=!1;break;case "keypress":if(!0===Ca)return a.preventDefault();
Ca=!0;break;case "click":if(Gb){var g=this;setTimeout(function(){e.apply(g,arguments)},0);return!1}}b=e.apply(this,arguments);!1===b&&(a.preventDefault(),a.stopPropagation());return b}a.preventDefault()}};a.inputmask.events[b]=a.inputmask.events[b]||[];a.inputmask.events[b].push(g);if(-1!==d.inArray(b,["submit","reset"])){if(null!=a.form)d(a.form).on(b,g)}else d(a).on(b,g)},off:function(a,b){if(a.inputmask&&a.inputmask.events){var c;b?(c=[],c[b]=a.inputmask.events[b]):c=a.inputmask.events;d.each(c,
function(b,c){for(;0<c.length;){var e=c.pop();-1!==d.inArray(b,["submit","reset"])?null!=a.form&&d(a.form).off(b,e):d(a).off(b,e)}delete a.inputmask.events[b]})}}},wa;if(void 0!==a)switch(a.action){case "isComplete":return Q=a.el,V(t());case "unmaskedvalue":Q=a.el;if(void 0!==Q&&void 0!==Q.inputmask)b=Q.inputmask.maskset,c=Q.inputmask.opts,ba=Q.inputmask.isRTL;else if(wa=a.value,c.numericInput&&(ba=!0),wa=(d.isFunction(c.onBeforeMask)?c.onBeforeMask(wa,c)||wa:wa).split(""),L(void 0,!1,!1,ba?wa.reverse():
wa),d.isFunction(c.onBeforeWrite))c.onBeforeWrite(void 0,t(),0,c);return U(Q);case "mask":Q=a.el;b=Q.inputmask.maskset;c=Q.inputmask.opts;ba=Q.inputmask.isRTL;za=t().join("");cc(Q);break;case "format":c.numericInput&&(ba=!0);wa=(d.isFunction(c.onBeforeMask)?c.onBeforeMask(a.value,c)||a.value:a.value).split("");L(void 0,!1,!1,ba?wa.reverse():wa);if(d.isFunction(c.onBeforeWrite))c.onBeforeWrite(void 0,t(),0,c);return a.metadata?{value:ba?t().slice().reverse().join(""):t().join(""),metadata:E({action:"getmetadata"},
b,c)}:ba?t().slice().reverse().join(""):t().join("");case "isValid":c.numericInput&&(ba=!0);a.value?(wa=a.value.split(""),L(void 0,!1,!0,ba?wa.reverse():wa)):a.value=t().join("");wa=t();for(var xa=R(),da=wa.length-1;da>xa&&!D(da);da--);wa.splice(xa,da+1-xa);return V(wa)&&a.value===t().join("");case "getemptymask":return r().join("");case "remove":Q=a.el;ka=d(Q);b=Q.inputmask.maskset;c=Q.inputmask.opts;Q.inputmask._valueSet(U(Q));sa.off(Q);Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(a=
Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Q),"value"))&&Q.inputmask.__valueGet&&Object.defineProperty(Q,"value",{get:Q.inputmask.__valueGet,set:Q.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&Q.__lookupGetter__("value")&&Q.inputmask.__valueGet&&(Q.__defineGetter__("value",Q.inputmask.__valueGet),Q.__defineSetter__("value",Q.inputmask.__valueSet));Q.inputmask=void 0;break;case "getmetadata":if(d.isArray(b.metadata)){for(a=m(void 0,!0);0<=a;a--)if(b.validPositions[a]&&
void 0!==b.validPositions[a].alternation){wa=b.validPositions[a].alternation;break}return void 0!==wa?b.metadata[b.validPositions[a].locator[wa]]:[]}return b.metadata}}function H(a,b){function c(a,b){var c=e.activeTarget;e.refresh();c=d.inArray(c,e.targets);e.ignoreScroll=!0;!0===b||-1>=c?(c=d.inArray(a,e.targets),-1>=c?(c=d.inArray(a,e.childtargets),-1>=c?!0!==b&&e.activate(e.targets[0]):(e.$scrollElement.scrollTop(e.childoffsets[c]),e.activate(e.childtargets[c]))):(e.$scrollElement.scrollTop(e.offsets[c]),
e.activate(e.targets[c]))):!0!==b&&(e.$scrollElement.scrollTop(e.offsets[c]),e.activate(e.targets[c]));e.ignoreScroll=!1}var e=this,g=d.proxy(this.process,this),m=d(a).is("body")?d(f):d(a),q,h;this.clickScrollPosition=0;this.options=d.extend({},d.fn.scrollspy.defaults,b);this.$scrollElement=m.on("scroll.scroll-spy.data-api",g);q=d(a).data("target");this.selector=(this.options.target||(h=d(a).attr("href"))&&h.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=d("body");this.$body.on("click",
q+","+q+" > span ",g);this.refresh();this.process(null,!0);m.addClass("ui-scrollspy");m.on("inlineviewupdateview",function(){e.ignoreScroll=!0;e.refresh();e.ignoreScroll=!1});m.closest(".ui-viewstack").on("viewstackload",function(a,b){c(f.location.hash.split("/")[0],!0);c(b.selectedroute,!0)});_fiber&&_fiber.topic("resize").subscribe(function(){e.refresh()});c(f.location.hash,!1)}if("undefined"!==typeof _fiber&&_fiber.require)var N=_fiber.require,V=_fiber.requirejs,W=_fiber.define;else(function(a,
b){function c(a,b){return b||""}function d(a){return"[object Function]"===S.call(a)}function g(a){return"[object Array]"===S.call(a)}function m(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function q(a,b){if(a){var c;for(c=a.length-1;-1<c&&(!a[c]||!b(a[c],c,a));--c);}}function h(a,b){return aa.call(a,b)}function k(a,b){return h(a,b)&&a[b]}function x(a,b){for(var c in a)if(h(a,c)&&b(a[c],c))break}function l(a,b,c,e){b&&x(b,function(b,m){if(c||!h(a,m))!e||"object"!==typeof b||
!b||g(b)||d(b)||b instanceof RegExp?a[m]=b:(a[m]||(a[m]={}),l(a[m],b,c,e))});return a}function n(a,b){return function(){return b.apply(a,arguments)}}function p(a){throw a;}function t(b){if(!b)return b;var c=a;m(b.split("."),function(a){c=c[a]});return c}function r(a,b,c,d){b=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);b.requireType=a;b.requireModules=d;c&&(b.originalError=c);return b}function u(){if(K&&"interactive"===K.readyState)return K;q(document.getElementsByTagName("script"),function(a){if("interactive"===
a.readyState)return K=a});return K}var w,A,y,D,F,G,K,E,H,P,O=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,L=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,U=/\.js$/,R=/^\.\//;A=Object.prototype;var S=A.toString,aa=A.hasOwnProperty,Z=!("undefined"===typeof f||"undefined"===typeof navigator||!f.document),ca=!Z&&"undefined"!==typeof importScripts,ha=Z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,fa="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),va={},ea={},ka=
[],la=!1;if("undefined"===typeof W){if("undefined"!==typeof V){if(d(V))return;ea=V;V=void 0}"undefined"===typeof N||d(N)||(ea=N,N=void 0);w=V=function(a,b,c,d){var e,m="_";g(a)||"string"===typeof a||(e=a,g(b)?(a=b,b=c,c=d):a=[]);e&&e.context&&(m=e.context);(d=k(va,m))||(d=va[m]=w.s.newContext(m));e&&d.configure(e);return d.require(a,b,c)};w.config=function(a){return w(a)};w.nextTick="undefined"!==typeof b?function(a){b(a,4)}:function(a){a()};N||(N=w);w.version="2.3.5";w.jsExtRegExp=/^\/|:|\?|\.js$/;
w.isBrowser=Z;A=w.s={contexts:va,newContext:function(c){function e(a,b,c){var d,e,g,m,f,q,h,z;b=b&&b.split("/");var I=da.map,x=I&&I["*"];if(a){a=a.split("/");e=a.length-1;da.nodeIdCompat&&U.test(a[e])&&(a[e]=a[e].replace(U,""));"."===a[0].charAt(0)&&b&&(e=b.slice(0,b.length-1),a=e.concat(a));e=a;for(g=0;g<e.length;g++)m=e[g],"."===m?(e.splice(g,1),--g):".."===m&&0!==g&&(1!==g||".."!==e[2])&&".."!==e[g-1]&&0<g&&(e.splice(g-1,2),g-=2);a=a.join("/")}if(c&&I&&(b||x)){e=a.split("/");g=e.length;a:for(;0<
g;--g){f=e.slice(0,g).join("/");if(b)for(m=b.length;0<m;--m)if(c=k(I,b.slice(0,m).join("/")))if(c=k(c,f)){d=c;q=g;break a}!h&&x&&k(x,f)&&(h=k(x,f),z=g)}!d&&h&&(d=h,q=z);d&&(e.splice(0,q,d),a=e.join("/"))}return(d=k(da.pkgs,a))?d:a}function f(a){Z&&m(document.getElementsByTagName("script"),function(b){if(b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===E.contextName)return b.parentNode.removeChild(b),!0})}function z(a){var b=k(da.paths,a);if(b&&g(b)&&1<b.length)return b.shift(),
E.require.undef(a),E.makeRequire(null,{skipMap:!0})([a]),!0}function I(a){var b,c=a?a.indexOf("!"):-1;-1<c&&(b=a.substring(0,c),a=a.substring(c+1,a.length));return[b,a]}function M(a,b,c,d){var g,m,f=null,q=b?b.name:null,h=a,z=!0,x="";a||(z=!1,a="_@r"+(N+=1));a=I(a);f=a[0];a=a[1];f&&(f=e(f,q,d),m=k(ma,f));a&&(f?x=c?a:m&&m.normalize?m.normalize(a,function(a){return e(a,q,d)}):-1===a.indexOf("!")?e(a,q,d):a:(x=e(a,q,d),a=I(x),f=a[0],x=a[1],c=!0,g=E.nameToUrl(x)));c=!f||m||c?"":"_unnormalized"+(L+=1);
return{prefix:f,name:x,parentMap:b,unnormalized:!!c,url:g,originalName:h,isDefine:z,id:(f?f+"!"+x:x)+c}}function T(a){var b=a.id,c=k(v,b);c||(c=v[b]=new E.Module(a));return c}function qa(a,b,c){var d=a.id,e=k(v,d);if(!h(ma,d)||e&&!e.defineEmitComplete)if(e=T(a),e.error&&"error"===b)c(e.error);else e.on(b,c);else"defined"===b&&c(ma[d])}function u(a,b){var c=a.requireModules,d=!1;if(b)b(a);else if(m(c,function(b){if(b=k(v,b))b.error=a,b.events.error&&(d=!0,b.emit("error",a))}),!d)w.onError(a)}function ja(){ka.length&&
(m(ka,function(a){var b=a[0];"string"===typeof b&&(E.defQueueMap[b]=!0);ga.push(a)}),ka=[])}function A(a){delete v[a];delete B[a]}function y(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,m(a.depMaps,function(d,e){var g=d.id,m=k(v,g);!m||a.depMatched[e]||c[g]||(k(b,g)?(a.defineDep(e,ma[g]),a.check()):y(m,b,c))}),c[d]=!0)}function D(){var a,c,d=(a=1E3*da.waitSeconds)&&E.startTime+a<(new Date).getTime(),e=[],g=[],q=!1,h=!0;if(!La){La=!0;x(B,function(a){var b=a.map,m=b.id;if(a.enabled&&
(b.isDefine||g.push(a),!a.error))if(!a.inited&&d)z(m)?q=c=!0:(e.push(m),f(m));else if(!a.inited&&a.fetched&&b.isDefine&&(q=!0,!b.prefix))return h=!1});if(d&&e.length)return a=r("timeout","Load timeout for modules: "+e,null,e),a.contextName=E.contextName,u(a);h&&m(g,function(a){y(a,{},{})});d&&!c||!q||!Z&&!ca||xa||(xa=b(function(){xa=0;D()},50));La=!1}}function Ga(a){h(ma,a[0])||T(M(a[0],null,!0)).init(a[1],a[2])}function F(a){a=a.currentTarget||a.srcElement;var b=E.onScriptLoad;a.detachEvent&&!fa?
a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);b=E.onScriptError;a.detachEvent&&!fa||a.removeEventListener("error",b,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function G(){var a;for(ja();ga.length;){a=ga.shift();if(null===a[0])return u(r("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));Ga(a)}E.defQueueMap={}}var La,Pa,E,H,xa,da={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},v={},B={},J={},ga=[],ma={},P={},
O={},N=1,L=1;H={require:function(a){return a.require?a.require:a.require=E.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?ma[a.map.id]=a.exports:a.exports=ma[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return k(da.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}};Pa=function(a){this.events=k(J,a.id)||{};this.map=a;this.shim=k(da.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=
[];this.pluginMaps={};this.depCount=0};Pa.prototype={init:function(a,b,c,d){d=d||{};if(!this.inited){this.factory=b;if(c)this.on("error",c);else this.events.error&&(c=n(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=!0;this.ignore=d.ignore;d.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,--this.depCount,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;E.startTime=
(new Date).getTime();var a=this.map;if(this.shim)E.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],n(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;P[a]||(P[a]=!0,E.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var e=this.exports,g=this.factory;if(!this.inited)h(E.defQueueMap,c)||this.fetch();else if(this.error)this.emit("error",
this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(d(g)){if(this.events.error&&this.map.isDefine||w.onError!==p)try{e=E.execCb(c,g,b,e)}catch(oc){a=oc}else e=E.execCb(c,g,b,e);this.map.isDefine&&void 0===e&&((b=this.module)?e=b.exports:this.usingExports&&(e=this.exports));if(a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",u(this.error=a)}else e=g;this.exports=e;if(this.map.isDefine&&
!this.ignore&&(ma[c]=e,w.onResourceLoad)){var f=[];m(this.depMaps,function(a){f.push(a.normalizedMap||a)});w.onResourceLoad(E,this.map,f)}A(c);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var a=this.map,b=a.id,c=M(a.prefix);this.depMaps.push(c);qa(c,"defined",n(this,function(c){var d,g,m=k(O,this.map.id),f=this.map.name,q=this.map.parentMap?this.map.parentMap.name:null,
z=E.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(c.normalize&&(f=c.normalize(f,function(a){return e(a,q,!0)})||""),g=M(a.prefix+"!"+f,this.map.parentMap,!0),qa(g,"defined",n(this,function(a){this.map.normalizedMap=g;this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),c=k(v,g.id)){this.depMaps.push(g);if(this.events.error)c.on("error",n(this,function(a){this.emit("error",a)}));c.enable()}}else m?(this.map.url=E.nameToUrl(m),this.load()):(d=n(this,function(a){this.init([],
function(){return a},null,{enabled:!0})}),d.error=n(this,function(a){this.inited=!0;this.error=a;a.requireModules=[b];x(v,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&A(a.map.id)});u(a)}),d.fromText=n(this,function(c,e){var g=a.name,m=M(g),f=la;e&&(c=e);f&&(la=!1);T(m);h(da.config,b)&&(da.config[g]=da.config[b]);try{w.exec(c)}catch(fc){return u(r("fromtexteval","fromText eval for "+b+" failed: "+fc,fc,[b]))}f&&(la=!0);this.depMaps.push(m);E.completeLoad(g);z([g],d)}),c.load(a.name,z,d,da))}));
E.enable(c,this);this.pluginMaps[c.id]=c},enable:function(){B[this.map.id]=this;this.enabling=this.enabled=!0;m(this.depMaps,n(this,function(a,b){var c,d;if("string"===typeof a){a=M(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[b]=a;if(c=k(H,a.id)){this.depExports[b]=c(this);return}this.depCount+=1;qa(a,"defined",n(this,function(a){this.undefed||(this.defineDep(b,a),this.check())}));this.errback?qa(a,"error",n(this,this.errback)):this.events.error&&qa(a,"error",n(this,
function(a){this.emit("error",a)}))}c=a.id;d=v[c];h(H,c)||!d||d.enabled||E.enable(a,this)}));x(this.pluginMaps,n(this,function(a){var b=k(v,a.id);b&&!b.enabled&&E.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){m(this.events[a],function(a){a(b)});"error"===a&&delete this.events[a]}};E={config:da,contextName:c,registry:v,defined:ma,urlFetched:P,defQueue:ga,defQueueMap:{},Module:Pa,makeModuleMap:M,nextTick:w.nextTick,
onError:u,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");if("string"===typeof a.urlArgs){var b=a.urlArgs;a.urlArgs=function(a,c){return(-1===c.indexOf("?")?"?":"&")+b}}var c=da.shim,d={paths:!0,bundles:!0,config:!0,map:!0};x(a,function(a,b){d[b]?(da[b]||(da[b]={}),l(da[b],a,!0,!0)):da[b]=a});a.bundles&&x(a.bundles,function(a,b){m(a,function(a){a!==b&&(O[a]=b)})});a.shim&&(x(a.shim,function(a,b){g(a)&&(a={deps:a});!a.exports&&!a.init||a.exportsFn||(a.exportsFn=
E.makeShimExports(a));c[b]=a}),da.shim=c);a.packages&&m(a.packages,function(a){var b;a="string"===typeof a?{name:a}:a;b=a.name;a.location&&(da.paths[b]=a.location);da.pkgs[b]=a.name+"/"+(a.main||"main").replace(R,"").replace(U,"")});x(v,function(a,b){a.inited||a.map.unnormalized||(a.map=M(b,null,!0))});(a.deps||a.callback)&&E.require(a.deps||[],a.callback)},makeShimExports:function(b){return function(){var c;b.init&&(c=b.init.apply(a,arguments));return c||b.exports&&t(b.exports)}},makeRequire:function(a,
b){function g(e,m,f){var q,z;b.enableBuildCallback&&m&&d(m)&&(m.__requireJsBuild=!0);if("string"===typeof e){if(d(m))return u(r("requireargs","Invalid require call"),f);if(a&&h(H,e))return H[e](v[a.id]);if(w.get)return w.get(E,e,a,g);q=M(e,a,!1,!0);q=q.id;return h(ma,q)?ma[q]:u(r("notloaded",'Module name "'+q+'" has not been loaded yet for context: '+c+(a?"":". Use require([])")))}G();E.nextTick(function(){G();z=T(M(null,a));z.skipMap=b.skipMap;z.init(e,m,f,{enabled:!0});D()});return g}b=b||{};l(g,
{isBrowser:Z,toUrl:function(b){var c,d=b.lastIndexOf("."),g=b.split("/")[0];-1!==d&&("."!==g&&".."!==g||1<d)&&(c=b.substring(d,b.length),b=b.substring(0,d));return E.nameToUrl(e(b,a&&a.id,!0),c,!0)},defined:function(b){return h(ma,M(b,a,!1,!0).id)},specified:function(b){b=M(b,a,!1,!0).id;return h(ma,b)||h(v,b)}});a||(g.undef=function(b){ja();var c=M(b,a,!0),d=k(v,b);d.undefed=!0;f(b);delete ma[b];delete P[c.url];delete J[b];q(ga,function(a,c){a[0]===b&&ga.splice(c,1)});delete E.defQueueMap[b];d&&
(d.events.defined&&(J[b]=d.events),A(b))});return g},enable:function(a){k(v,a.id)&&T(a).enable()},completeLoad:function(a){var b,c,d=k(da.shim,a)||{},e=d.exports;for(ja();ga.length;){c=ga.shift();if(null===c[0]){c[0]=a;if(b)break;b=!0}else c[0]===a&&(b=!0);Ga(c)}E.defQueueMap={};c=k(v,a);if(!b&&!h(ma,a)&&c&&!c.inited)if(!da.enforceDefine||e&&t(e))Ga([a,d.deps||[],d.exportsFn]);else return z(a)?void 0:u(r("nodefine","No define call for "+a,null,[a]));D()},nameToUrl:function(a,b,c){var d,e,m,f;(d=k(da.pkgs,
a))&&(a=d);if(d=k(O,a))return E.nameToUrl(d,b,c);if(w.jsExtRegExp.test(a))d=a+(b||"");else{d=da.paths;e=a.split("/");for(m=e.length;0<m;--m)if(f=e.slice(0,m).join("/"),f=k(d,f)){g(f)&&(f=f[0]);e.splice(0,m,f);break}d=e.join("/");d+=b||(/^data\:|^blob\:|\?/.test(d)||c?"":".js");d=("/"===d.charAt(0)||d.match(/^[\w\+\.\-]+:/)?"":da.baseUrl)+d}return da.urlArgs&&!/^blob\:/.test(d)?d+da.urlArgs(a,d):d},load:function(a,b){w.load(E,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===
a.type||ha.test((a.currentTarget||a.srcElement).readyState))K=null,a=F(a),E.completeLoad(a.id)},onScriptError:function(a){var b=F(a);if(!z(b.id)){var c=[];x(v,function(a,d){0!==d.indexOf("_@r")&&m(a.depMaps,function(a){if(a.id===b.id)return c.push(d),!0})});return u(r("scripterror",'Script error for "'+b.id+(c.length?'", needed by: '+c.join(", "):'"'),a,[b.id]))}}};E.require=E.makeRequire();return E}};w({});m(["toUrl","undef","defined","specified"],function(a){w[a]=function(){var b=va._;return b.require[a].apply(b,
arguments)}});Z&&(y=A.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(y=A.head=D.parentNode);w.onError=p;w.createNode=function(a,b,c){b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");b.type=a.scriptType||"text/javascript";b.charset="utf-8";b.async=!0;return b};w.load=function(a,c,d){var e=a&&a.config||{},g;if(Z){g=w.createNode(e,c,d);g.setAttribute("data-requirecontext",a.contextName);g.setAttribute("data-requiremodule",
c);!g.attachEvent||g.attachEvent.toString&&0>g.attachEvent.toString().indexOf("[native code")||fa?(g.addEventListener("load",a.onScriptLoad,!1),g.addEventListener("error",a.onScriptError,!1)):(la=!0,g.attachEvent("onreadystatechange",a.onScriptLoad));g.src=d;if(e.onNodeCreated)e.onNodeCreated(g,e,c,d);E=g;D?y.insertBefore(g,D):y.appendChild(g);E=null;return g}if(ca)try{b(function(){},0),importScripts(d),a.completeLoad(c)}catch(ra){a.onError(r("importscripts","importScripts failed for "+c+" at "+d,
ra,[c]))}};Z&&!ea.skipDataMain&&q(document.getElementsByTagName("script"),function(a){y||(y=a.parentNode);if(F=a.getAttribute("data-main"))return H=F,ea.baseUrl||-1!==H.indexOf("!")||(G=H.split("/"),H=G.pop(),P=G.length?G.join("/")+"/":"./",ea.baseUrl=P),H=H.replace(U,""),w.jsExtRegExp.test(H)&&(H=F),ea.deps=ea.deps?ea.deps.concat(H):[H],!0});W=function(a,b,e){var m,f;"string"!==typeof a&&(e=b,b=a,a=null);g(b)||(e=b,b=null);!b&&d(e)&&(b=[],e.length&&(e.toString().replace(O,c).replace(L,function(a,
c){b.push(c)}),b=(1===e.length?["require"]:["require","exports","module"]).concat(b)));la&&(m=E||u())&&(a||(a=m.getAttribute("data-requiremodule")),f=va[m.getAttribute("data-requirecontext")]);f?(f.defQueue.push([a,b,e]),f.defQueueMap[a]=!0):ka.push([a,b,e])};W.amd={jQuery:!0};w.exec=function(a){return eval(a)};w(ea)}})(this,"undefined"===typeof setTimeout?void 0:setTimeout);W("css",[],function(a){return{version:"0.1",load:function(a,c,e,g){c=c.toUrl(-1===a.search(/\.(css|less|scss)$/i)?a+".css":
a);c=c.replace("-js","-css");g=document.getElementsByTagName("link");for(var b=!1,f=0;f<g.length;f++)if(void 0!==g[f].rel&&"stylesheet"==g[f].rel&&-1!==g[f].href.indexOf(a)){b=!0;break}!0!==b?d.utils.loadCSSFile(c,e):e()}}});f.Promise||function(a){function b(){}function c(a,b){return function(){a.apply(b,arguments)}}function d(a){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this._state=0;this._handled=
!1;this._value=void 0;this._deferreds=[];x(a,this)}function g(a,b){for(;3===a._state;)a=a._value;0===a._state?a._deferreds.push(b):(a._handled=!0,d._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)(1===a._state?m:q)(b.promise,a._value);else{var d;try{d=c(a._value)}catch(Pa){q(b.promise,Pa);return}m(b.promise,d)}}))}function m(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"===typeof b||"function"===typeof b)){var e=
b.then;if(b instanceof d){a._state=3;a._value=b;h(a);return}if("function"===typeof e){x(c(e,b),a);return}}a._state=1;a._value=b;h(a)}catch(La){q(a,La)}}function q(a,b){a._state=2;a._value=b;h(a)}function h(a){2===a._state&&0===a._deferreds.length&&d._immediateFn(function(){a._handled||d._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)g(a,a._deferreds[b]);a._deferreds=null}function k(a,b,c){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof b?
b:null;this.promise=c}function x(a,b){var c=!1;try{a(function(a){c||(c=!0,m(b,a))},function(a){c||(c=!0,q(b,a))})}catch(La){c||(c=!0,q(b,La))}}var l=setTimeout;d.prototype["catch"]=function(a){return this.then(null,a)};d.prototype.then=function(a,c){var d=new this.constructor(b);g(this,new k(a,c,d));return d};d.all=function(a){var b=Array.prototype.slice.call(a);return new d(function(a,c){function d(g,m){try{if(m&&("object"===typeof m||"function"===typeof m)){var f=m.then;if("function"===typeof f){f.call(m,
function(a){d(g,a)},c);return}}b[g]=m;0===--e&&a(b)}catch(vb){c(vb)}}if(0===b.length)return a([]);for(var e=b.length,g=0;g<b.length;g++)d(g,b[g])})};d.resolve=function(a){return a&&"object"===typeof a&&a.constructor===d?a:new d(function(b){b(a)})};d.reject=function(a){return new d(function(b,c){c(a)})};d.race=function(a){return new d(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})};d._immediateFn="function"===typeof setImmediate&&function(a){setImmediate(a)}||function(a){l(a,0)};d._unhandledRejectionFn=
function(a){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};d._setImmediateFn=function(a){d._immediateFn=a};d._setUnhandledRejectionFn=function(a){d._unhandledRejectionFn=a};f.Promise=d}(this);"undefined"!==typeof N&&(void 0===f.basePath&&(f.basePath=""),f.revision||(f.revision=document.currentScript&&document.currentScript.src?document.currentScript.src.replace(/.*r=([^&]+).*(v=[^&]+).*/i,"$1&$2"):(new Date).getDay()+""+(new Date).getMonth()+""+(new Date).getFullYear()),
N.config({baseUrl:f.basePath+"include-js.cfm?r="+f.revision+"&lib=",skipDataMain:!0}));var Z="fiber_source",K=K||{},aa={},ha={},eb={},Eb=!1,va,tb=!0,ob,Ba={},Ca="ui-",ua=!1,Va=!1,fb=!1,Ea=/Mac/.test(navigator.userAgent);f.navigator.userAgent.indexOf("MSIE ");var ib=!document.all,gb=16,ya=Ea?91:17,Xa=Ea?18:17,Aa=null;f.basePath=f.basePath||"";var u=f._fiber=K;u._debuggingEnabled=!1;if("1.8.3"!==jQuery.fn.jquery&&"1.9.1"!==jQuery.fn.jquery&&"1.10.2"!==jQuery.fn.jquery&&"1.11.0"!==jQuery.fn.jquery&&
"2.1.4"!==jQuery.fn.jquery&&"2.2.0"!==jQuery.fn.jquery&&"2.2.3"!==jQuery.fn.jquery&&"2.2.4"!==jQuery.fn.jquery&&"3.1.1"!==jQuery.fn.jquery&&"3.2.1"!==jQuery.fn.jquery&&"3.4.1"!==jQuery.fn.jquery&&"3.5.1"!==jQuery.fn.jquery)throw Error("Incorrect jQuery version. "+jQuery.fn.jquery);jQuery.ui&&jQuery.ui.version&&"1.9.2"===jQuery.ui.version&&(Ca="");try{var Na=function(a,b,c,e){try{var g=[],m=[];e?(g=e,b=b||e[0].filename):b&&(g=[{filename:b,lineno:c}]);var q=document.getElementsByTagName("script");m.push("Loaded Scripts:");
e=0;for(var h=q.length;e<h;e++)m.push(q[e].src);d.ajax({url:f.basePath?f.basePath+"error.cfm":"error.cfm",type:"POST",data:{errorMsg:"object"==typeof a?a.message:a,errorLine:c,errorDetail:m.join(","),errorType:"javascript",fileUrl:b,stackTrace:JSON.stringify(g),queryString:document.location.search,url:f.location.href||document.location.pathname,referrer:document.referrer,userAgent:navigator.userAgent}});return!1}catch(I){}return!0};f.onerror=Na}catch(a){}var Fa=!1,Qa=function(a,b){var c=decodeURIComponent(location.hash.replace(/^#+/,
"")),d;c&&""!==c||(c="default/");for(d in eb)if(!1===eb[d].init(c,location.search,b)){if(a&&a.type&&-1!==a.type.indexOf("hashchange"))return f.history.replaceState(void 0,void 0,a.oldURL),!1;if(a&&a.type&&-1!==a.type.indexOf("popstate"))return f.history.replaceState(void 0,void 0,"#"+eb[d].lastvalidhash),!1}ob=c};d.extend({fiber:K,ctrl:function(a,b,c){h();c||(c={});Aa.push({ctrl:!0,shift:!1,cmd:!1,key:a,args:c,callback:b})},cmd:function(a,b,c){h();c||(c={});Aa.push({ctrl:!1,shift:!1,cmd:!0,key:a,
args:c,callback:b})}});d(f).resize(function(){ea("resize").publish()});var Ra=function(a,b){var c="";if(a&&(a.ADDR_NAME||a.addr_name||a.NAME_TEXT||a.name_text||a.ADDR1_TEXT||a.addr1_text)){var e=a.ADDR_NAME||a.addr_name||a.NAME_TEXT||a.name_text||"";""!==e&&(c+=e);e=a.ADDR_NAME2||a.addr_name2||a.NAME_TEXT2||a.name_text2||"";""!==e&&(c+=" "+e);""!==c&&(c+=b);e=a.ADDR1_TEXT||a.addr1_text||"";""!==e&&(c+=e+b);e=a.ADDR2_TEXT||a.addr2_text||"";""!==e&&(c+=e+b);e=a.ADDR3_TEXT||a.addr3_text||"";""!==e&&
(c+=e+b);c+=d.trim((a.CITY_TEXT||a.city_text||"")+" "+(a.STATE_CODE||a.state_code||"")+" "+(a.POST_CODE||a.post_code||""))+b;c+=a.COUNTRY_TEXT||a.country_text||""}else c="string"===typeof a?a:"";return c},pb=function(a){var b=[];if("string"===typeof a&&null!==a){a=a.split(",");for(var c=0,d=0,g,m,f=function(){},d=a.length,c=0;c<d;c++)1<(a[c]+"").split("|").length?(g=(a[c]+"").split("|")[0],m=(a[c]+"").split("|")[1],b.push({text:g.charAt(0).toUpperCase()+g.slice(1),event:m,click:f,buttonClass:-1!==
"save,yes,go,ok".indexOf(m)?"btn btn-primary":"btn btn-secondary"})):b.push({text:a[c].charAt(0).toUpperCase()+a[c].slice(1),click:f,buttonClass:-1!=="save,yes,go,ok".indexOf(a[c])?"btn btn-primary":"btn btn-secondary"})}return b},ia=function(a,b){var c=d.extend({labelfield:"label",valuefield:"value",valuetmpl:null,labeltmpl:null},b);a.dataOptions(c,{list:["!valuefield","!labelfield","!valuetmpl","!labeltmpl"]});return{valuetemplate:ka(a,"valuetemplate",c.valuetmpl,c.valuefield),labeltemplate:ka(a,
"labeltemplate",c.labeltmpl,c.labelfield)}},ka=function(a,b,c,d){var e=a.data(b);if(void 0===e||null===e)e=void 0===c||null===c?new Function(["item"],"return (item."+d+" !== undefined ? item."+d+" : item."+d.toUpperCase()+");"):"string"==typeof c?Handlebars.compile(c):c,a.data(b,e);return e},pa=function(a){return"object"!==typeof a&&"function"!==typeof a||!("[object Array]"==Object.prototype.toString.call(a)||"[object NodeList]"==Object.prototype.toString.call(a)||"[object HTMLCollection]"==Object.prototype.toString.call(a)||
void 0!==a.length&&"number"===typeof a.length&&0<a.length&&a[0])?!1:!0},jb=function(a,b){var c={required:"",viewstate:""},d=[],g,m,f,h,k,x,l,n,p,t=[{name:"source",attr:"data-fiber_source"},{name:"readonly",attr:"data-fiber_readonly"},{name:"disabled",attr:"data-fiber_disabled"},{name:"original",attr:"data-originalvalue"},{name:"previous",attr:"data-previousvalue"}],r=t.length,u;k=0;for(x=a.length;k<x;k++)if(h=a[k],g=h.id,f=h.getAttribute("name"),void 0!==g&&null!==g&&""!==g||void 0===f||(g=f),m=h.type||
h.tagName&&h.tagName.toLowerCase()||h.tagName,void 0!==g&&null!==g)for("textarea"===m&&(u=h.getAttribute("data-role")),"radio"===m||"textarea"===m&&("richtext"===u||"froala"===u)?void 0!==f&&null!==f?(c[f]=P(h,b),null===c[f]&&(c[f]="")):(c[g]=P(h,b),null===c[g]&&(c[g]="")):(c[g]=P(h,b),null===c[g]&&(c[g]="")),-1!==(" "+h.className+" ").indexOf(" data-fiber_required ")&&d.push(g),l=0;l<r;l++)if(n=t[l].name,void 0===c[g+"_"+n]||null===c[g+"_"+n])if(p=h.getAttribute(t[l].attr),void 0!==p&&null!==p)c[g+
"_"+n]=p,"radio"===m&&void 0!==f&&null!==f&&(c[f+"_"+n]=p);else if("previous"===n&&-1===(" "+h.className+" ").indexOf(" exclude-previousvalue ")){p=c[g];if(void 0===p||null===p)p="";h.setAttribute(t[l].attr,p);c[g+"_"+n]=p;"radio"===m&&void 0!==f&&null!==f&&(c[f+"_"+n]=p)}c.required=d.toString();return c},Ya=function(a){a=void 0!==a.selector||void 0!==a.jquery?a:d(a);var b,c,e,g,m,f=a.data();if(!0!==ib)for(b=a[0].attributes,e=b.length,g=0;g<e;g++)c=b[g].nodeName,void 0===aa.isdataprop&&(aa.isdataprop=
/^data-/i),"string"===typeof c&&aa.isdataprop.test(c)&&(c=c.replace(aa.isdataprop,"").toLowerCase(),void 0===f[c]&&(f[c]=b[g].nodeValue));for(m in f)(!f.hasOwnProperty||f.hasOwnProperty(m))&&"string"===typeof m&&""!==m&&-1==m.indexOf("fiber")&&2<m.length&&(b=m.substring(0,2),"__"===b&&(b=m.substring(0,3),"__i"===b?a.attr("data-"+m,""):"__c"===b&&a.attr("data-"+m,"")))},P=function(a,b,c){var e,g,m,f,h;e=!0;var k,x,l,n;g=null;m="";k=void 0!==b&&null!==b&&void 0!==b.setup&&null!==b.setup&&!0===b.setup?
!0:!1;var p=void 0!==b&&null!==b&&void 0!==b.preservemodified&&!0===b.preservemodified?!0:!1;if(a&&(void 0!==a.selector||void 0!==a.jquery))a=a[0];else if(a&&void 0===a.tagName&&void 0!==a.length&&1<a.length){x=a.length;for(h=0;h<x;h++)g=P(a[h],b,c);return g}if(a&&"string"!==typeof a){x=a.getAttribute("data-role");void 0!==x&&null!==x||void 0===b||null===b||!b.checkvaluerole||!0!==b.checkvaluerole||(x=a.getAttribute("data-valuerole"));!0!==k&&a.className&&-1!==a.className.indexOf("uncommitted-edit")&&
(f=a.getAttribute("data-fiber_target"),void 0!==f&&null!==f&&(f=f.replace(/\./gi,"-"),f=d("#"+f),0<f.length&&(n=f.attr("data-role"),u.requireRoleCall(f,n,"commitedit",b?b.intent:void 0))));f=a.id;void 0!==f&&null!==f&&""!==f||a.getAttribute("name");f=a.type||a.tagName&&a.tagName.toLowerCase()||a.tagName;if(x)switch(x){case "richtext":f="richtext";e=!1;break;case "richtextfroala":f="richtextfroala";e=!1;break;case "richtextprosemirror":f="richtextprosemirror";e=!1;break;case "wysiwyg":f="wysiwyg";
e=!1;break;case "dateinput":m="dateinput";break;case "urlinput":m="urlinput";break;case "listinput":f="listinput";break;case "togglebutton":f="togglebutton";break;case "timeinput":m="timeinput";f="selectize";break;case "searchinput":m="searchinput";f="selectize";break;case "model":f="model";e=!1;break;case "codemirror":f="codemirror";e=!1;break;case "currencyinput":m="currencyinput";break;case "decimalinput":m="decimalinput";break;case "numberinput":m="numberinput";break;case "address":m="address";
break;case "cloudfile":f="cloudfile"}if(3>arguments.length){e=a.getAttribute("data-fiber_default");if(void 0!==e&&null!==e)g=e;else switch(f){case "text":case "hidden":g=a.value;void 0!==g&&null!==g&&""!==g&&(!d.support.placeholder&&a.getAttribute("placeholder")&&a.getAttribute("placeholder")===a.value?g="":null!==m&&""!==m&&("dateinput"==m||-1!==a.className.indexOf("input-datepicker")?g=!0!==/^([\s/-]+)$/i.test(g)?d.dateutils.intlDateFormat(g):"":"timeinput"==m&&""!==g?g=d.dateutils.timeInputFormat(g):
"currencyinput"==m&&""!==g&&!0===d.utils.isValidDecimal(g)?g=d.utils.parseDecimal(g):"decimalinput"==m&&""!==g&&!0===d.utils.isValidDecimal(g)?g=d.utils.parseDecimal(g):"numberinput"==m&&""!==g&&(g=d.utils.isValidDecimal(g)?d.utils.parseDecimal(g):"")));break;case "select-one":case "select-multiple":case "select":if("select-one"===f)g="",-1<a.selectedIndex&&(g=a.options[a.selectedIndex].value);else{g=[];x=a.options.length;for(m=0;m<x;m++)a.options[m].selected&&g.push(a.options[m].value);g=0<g.length?
g.toString():null}if(void 0===g||null===g||""===g&&(1>a.options.length||0<a.options.length&&""===a.options[0].value)||0<a.options.length&&""!==a.options[0].value)l=a.getAttribute("data-default");void 0!==l&&null!==l&&(g=l);l=void 0===g||null===g||""===g&&(1>a.options.length||1===a.options.length&&""===a.options[0].value)?a.getAttribute("data-value"):void 0;void 0!==l&&(g=l);if("select-one"===f&&0<a.options.length)if(-1<a.selectedIndex&&a.options[a.selectedIndex].value===g)a.selectedIndex=a.selectedIndex,
a.removeAttribute("data-default");else for(x=a.options.length,m=0;m<x;m++)if(a.options[m].value===g){a.selectedIndex=m;a.removeAttribute("data-default");break}break;case "button":g=a.value;l=void 0===g||null===g||""===g&&a.getAttribute("data-value")?a.getAttribute("data-value"):void 0;void 0!==l&&(g=l);void 0!==g&&null!==g&&""!==g||null!==a.getAttribute("value")||null!==a.getAttribute("data-value")||void 0===a.getAttribute("data-default")||null===a.getAttribute("data-default")||(g=a.getAttribute("data-default"));
break;case "file":if(void 0!==d.ui.upload&&-1!==a.className.indexOf("ui-upload"))try{g=d(a).upload("fieldvalue")}catch(ja){g=a.getAttribute("data-fileid")}else g=a.getAttribute("data-fileid");break;case "listinput":k=d(a);e=ia(k);f=k.data("listdata");if(void 0===f||null===f)f={data:[]};g=[];for(m=0;m<f.data.length;m++)g.push(e.valuetemplate(f.data[m]));g=g.join(",");break;case "checkbox":if(k=a.form?a.form[a.getAttribute("name")]:document.getElementsByName(a.getAttribute("name"))){!0!==pa(k)&&(k=
[k]);g=[];for(m=0;m<k.length;m++)"checkbox"==k[m].type&&("checked"==k[m].checked||!0===k[m].checked?""!==k[m].value&&g.push(k[m].value):(e=a.getAttribute("data-default"),void 0!==e&&null!==e&&""!==e&&g.push(e)));g=g.join(",")}else g="";break;case "radio":if("checked"==a.checked||!0===a.checked)g=a.value;else if(e=a.form?a.form[a.getAttribute("name")]:document.getElementsByName(a.getAttribute("name")))a:for(!0!==pa(e)&&(e=[e]),m=0;m<e.length;m++){if("radio"==e[m].type&&"checked"==e[m].checked||!0===
e[m].checked){g=e[m].value;break a}}else g="";break;case "richtext":try{g=d(a).richtext("fieldvalue")}catch(ja){g=a.value}break;case "richtextfroala":try{g=d(a).richtextfroala("fieldvalue")}catch(ja){g=a.value}break;case "richtextprosemirror":try{g=d(a).richtextprosemirror("fieldvalue")}catch(ja){g=a.value}break;case "togglebutton":g=d(a).togglebutton("fieldvalue");break;case "codemirror":try{g=-1!==a.className.indexOf("ui-codemirror")?d(a).codemirror("fieldvalue"):a.value}catch(ja){g=a.value}break;
case "selectize":d.fn.selectize&&-1!==a.className.indexOf("selectized")?(g=a.selectize.getValue(),"string"!==typeof g&&d.isArray(g)&&(g=g.join(","))):g="timeinput"==m||"hidden"===(a.type||a.tagName&&a.tagName.toLowerCase()||a.tagName)?a.value:a.getAttribute("data-value");"timeinput"==m&&""!==g&&(g=d.dateutils.timeInputFormat(g));break;case "model":try{g=d(a).model("fieldvalue")}catch(ja){g=[]}break;case "wysiwyg":g=d(a).val();break;default:g=a.value,l=void 0===g||null===g||""===g&&a.getAttribute("data-value")?
a.getAttribute("data-value"):void 0,void 0!==l&&(g=l)}void 0===g&&(g=null);a=null;return g}l=!1;g=c;if(void 0!==g&&null!==g&&"object"==typeof g)if(!0===g instanceof Date)c=d.dateutils.intlDateFormat(g);else if("[object Object]"==Object.prototype.toString.call(g)&&void 0!==g.value&&null!==g.value)for(h in c=g.value,delete g.value,g)g.hasOwnProperty&&!g.hasOwnProperty(h)||a.setAttribute("data-"+h,g[h]);else c="";void 0===c||null===c||"string"!==typeof c||""===c||"richtext"===f||"richtextfroala"===f||
"richtextprosemirror"===f||"wysiwyg"===f||a&&a.className&&-1!==a.className.indexOf("preservehtmlentities")||(c=u.unescapeHtmlEntities(c));!0===k&&a.setAttribute("fiber-preventdefault","true");if(m)switch(m){case "dateinput":l=!0;null!==c&&""!==c&&("date"===a.getAttribute("type")?(c=d.dateutils.intlDateFormat(c),l=!1):c=d.dateutils.inputFormat(c));break;case "urlinput":l=!0;break;case "timeinput":l=!0;null!==c&&""!==c&&("time"===a.getAttribute("type")?(c=d.dateutils.timeInput24Format(c),l=!1):c=d.dateutils.timeInputFormat(c));
break;case "currencyinput":l=!0;null!==c&&""!==c?(h=a.getAttribute("data-digits")||a.getAttribute("data-scale"),h=void 0===h||null===h||isNaN(parseInt(h,10))?2:parseInt(h),c=d.utils.formatDecimal(c,h)):c="";break;case "address":c=Ra(g,"\n");break;case "decimalinput":l=!0;""!==c&&(h=a.getAttribute("data-digits")||a.getAttribute("data-scale"),h=void 0===h||null===h||isNaN(parseInt(h,10))?2:parseInt(h),c=d.utils.formatDecimal(c,h));break;default:-1!==a.className.indexOf("input-datepicker")&&(l=!0,null!==
c&&""!==c&&(c=d.dateutils.inputFormat(c)))}h=a.getAttribute("data-fiber_premodified");if(!0===p||h){n=P(a,b);if(!0===p&&""!==n&&n!==(null!==h?h:""))return this;a.setAttribute("data-fiber_premodified",null!==c&&""!==c?c:"")}switch(f){case "text":case "time":case "date":null!==c&&""!==c?(g=a&&"text"===f?a.selectionStart||0:0,m=a&&"text"===f?a.selectionEnd||0:0,!0===l?d(a).val(c):a.value=c,0===g&&m>g&&document.activeElement===a&&(a.focus(),a.select())):!0===l?d(a).val(""):a.value="";d.support.placeholder||
(g=a.getAttribute("placeholder"))&&""!==g&&""===a.value&&(a.className.indexOf("placeholder-shim")||(a.className+=" placeholder-shim"),a.value=a.getAttribute("placeholder"));break;case "hidden":null!==c&&""!==c?!0===l?d(a).val(c):a.value=c:!0===l?d(a).val(""):a.value="";break;case "select-multiple":case "select":case "select-one":p=[];h=[];f=void 0!==g&&null!==g&&"object"===typeof g&&"[object Array]"==Object.prototype.toString.call(g)?g:(c+"").split(",");""===f+""&&(1>a.options.length||""!==a.options[0].value)&&
(g=new Option("",""),g.value="",g.text="",g.appendChild(document.createTextNode("")),0<a.options.length?a.insertBefore(g,a.firstChild):a.appendChild(g));for(m=0;m<a.options.length;m++)a:for(!0===a.options[m].selected&&p.push(a.options[m].value),a.options[m].selected=!1,g=0,x=f.length;g<x;g++)if(a.options[m].value==f[g]){a.options[m].selected=!0;a.removeAttribute("data-fiber_default");h.push(a.options[m].value);break a}!0===k&&a.removeAttribute("data-fiber_default");m=0;for(x=f.length;m<x;m++)if(g=
d.inArray(f[m].toString(),h),-1===g){!0===k?(a.setAttribute("data-fiber_default",f.toString()),0<a.options.length&&""===f.toString()&&(a.selectedIndex=0)):""===f[m]&&0<a.options.length&&(null===a.getAttribute("multiple")||""===a.getAttribute("multiple"))&&(a.selectedIndex=0,d(a).trigger("change"));break}break;case "radio":h=c.toString()===(void 0!==a.value?a.value:"")?!0:!1;a.checked!==h&&(!0===h?(a.setAttribute("checked","checked"),a.checked=!0):(a.checked=!1,a.removeAttribute("checked")),d(a).trigger("change"));
break;case "checkbox":h=c.toString()===(void 0!==a.value?a.value:"")||!0===c||void 0!==g&&null!==g&&("object"==typeof g&&-1!==d.inArray(void 0!==a.value?a.value:"",g)||"string"==typeof g&&0<g.split(",").length&&-1!==d.inArray(void 0!==a.value?a.value:"",g.split(",")))?!0:!1;a.checked!==h&&(!0===h?(a.setAttribute("checked","checked"),a.checked=!0):(a.checked=!1,a.removeAttribute("checked")),d(a).trigger("change"));break;case "listinput":void 0!==g&&null!==g&&"object"===typeof g&&"[object Array]"==
Object.prototype.toString.call(g)&&K.populateselect(a,g);break;case "richtext":try{d(a).richtext("fieldvalue",c)}catch(ja){a.value=c}break;case "richtextfroala":try{d(a).richtextfroala("fieldvalue",c)}catch(ja){a.value=c}break;case "richtextprosemirror":try{d(a).richtextprosemirror("fieldvalue",c)}catch(ja){a.value=c}break;case "codemirror":try{-1!==a.className.indexOf("ui-codemirror")?d(a).codemirror("fieldvalue",c):a.value=c}catch(ja){a.value=c}break;case "selectize":d.fn.selectize&&-1!==a.className.indexOf("selectized")?
void 0!==g&&null!==g&&"object"===typeof g&&"[object Array]"==Object.prototype.toString.call(g)?a.selectize.setValue(g,!0):a.selectize.setValue(c,!0):"timeinput"==m||"hidden"===(a.type||a.tagName&&a.tagName.toLowerCase()||a.tagName)?void 0!==g&&null!==g&&"object"===typeof g&&"[object Array]"==Object.prototype.toString.call(g)?a.value=JSON.stringify(g):a.value=c:void 0!==g&&null!==g&&"object"===typeof g&&"[object Array]"==Object.prototype.toString.call(g)?a.setAttribute("data-value",JSON.stringify(g)):
a.setAttribute("data-value",c);break;case "model":try{d(a).model("fieldvalue",g)}catch(ja){a.value=JSON.stringify(g)}break;case "togglebutton":d(a).togglebutton("fieldvalue",c);break;case "wysiwyg":a.value=null!==c&&""!==c?c:"";d(a).trigger("resync");break;case "button":case "submit":"link"==x||"file"==x?(a.setAttribute("data-"+x,c),void 0!==c&&null!==c&&""!==c?-1===a.className.indexOf("data-fiber_disabled")&&a.removeAttribute("disabled"):a.setAttribute("disabled","disabled")):a.value=c;break;case "label":case "span":a.getAttribute("data-noformatting")||
(c=(c+"").replace(/\n/gi,"<br />"));a.innerHTML=c;break;case "address":a.innerHTML=Ra(g,"<br />");break;case "cloudfile":if(void 0!==a.getAttribute("multiple")&&null!==a.getAttribute("multiple"))if(f=void 0!==g&&null!==g&&"object"===typeof g&&"[object Array]"==Object.prototype.toString.call(g)?g:c.toString().split(","),void 0!==d.ui.cloudfile&&-1!==a.className.indexOf("ui-cloudfile"))try{d(a).cloudfile("fieldvalue",f)}catch(ja){d(a).data("files",f)}else d(a).data("files",f);else if(void 0!==d.ui.cloudfile&&
-1!==a.className.indexOf("ui-cloudfile"))try{d(a).cloudfile("fieldvalue",c)}catch(ja){a.setAttribute("data-fileid",c)}else a.setAttribute("data-fileid",c);break;case "file":if(void 0!==a.getAttribute("multiple")&&null!==a.getAttribute("multiple"))if(f=void 0!==g&&null!==g&&"object"===typeof g&&"[object Array]"==Object.prototype.toString.call(g)?g:c.toString().split(","),void 0!==d.ui.upload&&-1!==a.className.indexOf("ui-upload"))try{d(a).upload("fieldvalue",f)}catch(ja){d(a).data("files",f)}else d(a).data("files",
f);else if(void 0!==d.ui.upload&&-1!==a.className.indexOf("ui-upload"))try{d(a).upload("fieldvalue",c)}catch(ja){a.setAttribute("data-fileid",c)}else a.setAttribute("data-fileid",c);break;case "a":null===c||""===c?a.removeAttribute("href"):a.setAttribute("href",c);break;default:null!==c&&""!==c?!0===l?d(a).val(c):a.value=c:a.value=""}if(!0===k){k="";if(!0===e&&-1===(" "+a.className+" ").indexOf(" exclude-previousvalue ")){try{if(k=P(a,b),void 0===k||null===k)k=""}catch(ja){k=""}a.setAttribute("data-previousvalue",
k)}a.removeAttribute("fiber-preventdefault")}a=null;return this}},na=[],ta=null,$a=function(){if(!0===tb){for(var a={topics:na.toString()},b=0;b<na.length;b++)ha[na[b]]&&ha[na[b]].options&&ha[na[b]].options.data&&(a[na[b]]=JSON.stringify(ha[na[b]].options.data));d.ajax({type:"POST",url:u.tsURL(u.options.jsonURL+"ui.web.messaging.channel"),data:u.packdata(a),dataFilter:u.ajaxDataFilter,error:function(a,b,d){0===a.status||"parsererror"==b?(ta=clearTimeout(ta),ta=setTimeout(function(){$a()},1E4)):u.ajaxError(a,
b,d)},success:function(a,b){if("success"==b){var c=u.unpackdata(a),d;for(d in c)-1==d.indexOf("__")&&ea(d).publish(c[d]);ta=clearTimeout(ta);ta=setTimeout(function(){$a()},1E4)}},dataType:"json"})}else ta=clearTimeout(ta),ta=setTimeout(function(){$a()},1E4)},ea=function(a,b){var c,e=a&&ha[a],g={server:!1,data:null};b&&d.extend(g,b);e||(c=jQuery.Callbacks("stopOnFalse memory"),e={options:g,publish:function(b){var e={type:"publish",originator:"manual",topicid:a};b&&d.extend(e,b);c.fire(e);return this},
refresh:function(b){var e={type:"refresh",originator:"manual",topicid:a};b&&d.extend(e,b);c.fire(e);return this},update:function(b){var e={type:"update",originator:"manual",topicid:a};b&&d.extend(e,b);c.fire(e);return this},subscribe:function(a){c.add(a)},on:function(a,b){"function"==typeof a?c.add(a):"string"==typeof a&&void 0!==b&&"function"==typeof b&&c.add(function(c){if(c.type==a||-1!=a.indexOf(" ")&&-1!==d.inArray(c.type,a.split(" "))){var e=[arguments[0],arguments[0]?arguments[0].data:null];
if(1<arguments.length)for(var g=1;g<arguments.length;g++)e.push(arguments[g]);b.apply(this,e)}});return this},unsubscribe:function(a){c.remove(a);return this},has:c.has},a&&(ha[a]=e,!0===g.server&&(na.push(a),1===na.length&&d.ctrl("m",function(){!0===tb?(tb=!1,u.notification({message:"Polling disabled"})):(tb=!0,u.notification({message:"Polling enabled"}))}),ta=clearTimeout(ta),$a())));return e};d.extend(K,{cmd:d.cmd,elemcache:{},ctrl:d.ctrl,topic:ea,defaultOptList:"read view report viewurl readurl reporturl !listproperty topic process processurl loaddelay ?cache ?forceupdate ?autoupdate classname ?chain ?loadingparent viewstate #readinterval *models targetproperties ?autoLoad".split(" "),
constants:{invalidStatusText:"Error Processing Form: Status was not returned from Function. ( Possible cause: Function may not exist )"},require:"undefined"!==typeof N?N:f.require,requirejs:"undefined"!==typeof V?V:f.requirejs,define:"undefined"!==typeof W?W:f.define,options:{jsonURL:f.basePath+"remote-json.cfm?do=",remoteURL:f.basePath+"remote-html.cfm?do=",reportURL:f.basePath+"remote-report.cfm?do=",downloadURL:f.basePath+"download-file.cfm?do=",inlineURL:f.basePath+"inline-file.cfm?do=",baseURL:f.basePath+
"index.cfm?do="},cform:function(a){return a&&0<a.length?a[0].form?d(a[0].form):a.closest("form"):a&&a.form?d(a.form):d()},createhiddenfield:function(a,b,c,d,g,f){var e;K.elemcache.hiddenfield?e=K.elemcache.hiddenfield:(e=document.createElement("input"),e.setAttribute("type","hidden"),K.elemcache.hiddenfield=e);e=e.cloneNode(!1);e.className=f||"";e.setAttribute("id",b);e.setAttribute("name",b);void 0!==c&&e.setAttribute("value",c);if(void 0!==d&&null!==d)for(b=Object.keys(d),c=b.length,f=0;f<c;f++)e.setAttribute("data-"+
b[f],d[b[f]]);void 0!==g&&!0!==g||a[0].appendChild(e);return e},packdata:function(a){var b;f._enablejsoncompression&&!0===f._enablejsoncompression&&f.pako?(b={__:f.btoa(f.pako.deflate(JSON.stringify(a),{to:"string"}))},void 0!==a.__token&&(b.__token=a.__token),void 0!==a.intent&&(b.intent=a.intent),void 0!==a.rawdata&&(b.rawdata=a.rawdata)):b=a;return b},unpackdata:function(a){return f.pako&&a.__?JSON.parse(f.pako.inflate(f.atob(a.__),{to:"string"})):a},alert:function(a,b,c,e){b="object"===typeof a?
a:"string"==typeof b?{message:b}:b;b=d.extend({},e,{title:a&&"string"==typeof a?a:b.type?b.type:"Alert",message:"Something happened",width:340,height:"auto",buttons:c?c:"ok"},b);"string"==typeof b.buttons&&(b.buttons=pb(b.buttons));return l(a&&"string"==typeof a?a:b.type?b.type:"information",b)},error:function(a,b){return u.alert("error",a,"close",b)},invalid:function(a,b){return u.alert("invalid",a,"close",b)},success:function(a,b){return u.alert("success",a,"close",b)},warning:function(a,b){return u.alert("warning",
a,"close",b)},message:function(a,b,c){var d={};"string"===typeof a?d={title:a,message:b}:"object"===typeof a&&(d=a);return u.alert("message",d,"close",c)},question:function(a,b){return u.alert("question",a,"no,yes",b)},locking:function(a,b){return u.alert("locking",a,"close",b)},paramObj:function(a){var b,c,d,g={};if(a)for(a=(a+"").split("&"),c=0,d=a.length;c<d;c++)void 0!==a[c]&&""!==a[c]&&(b=a[c].split("="),2===b.length&&(g[(b[0]+"").toLowerCase()]=b[1]));return g},getUrlParamValue:function(a,b){var c=
f.location.href,d="",g=new RegExp("(.*)[?&]?"+a+"=([^##&]*)(.*)");g.test(c)?d=c.replace(g,"$2"):b&&!0===b&&(d=void 0);return d},createPreviousRoute:function(a,b,c){var d=u.getUrlParamValue("previousRoute"),g=u.getUrlParamValue("previousCriteria"),f,q,h,k="",x=0,l,n,p;null!==d&&""!==d?d=encodeURIComponent(a)+"|"+d:null!==a&&""!==a&&(d=encodeURIComponent(a));null!==g&&""!==g?g=b+"|"+g:null!==b&&""!==b&&(g=b);b=g.split("|");f=b.length;for(l=0;l<f;l++)for(x+=1,q=b[l].split(","),h=q.length,n=0;n<h;n++)p=
q[n],"none"!==p&&-1===k.indexOf("&_"+x+""+p+"=")&&(""===a?c&&void 0!==c["_"+l+""+p]?k+="&_"+x+""+p+"="+c["_"+l+""+p]:void 0!==u.getUrlParamValue("_"+l+""+p,!0)?k+="&_"+x+""+p+"="+u.getUrlParamValue("_"+l+""+p):c&&void 0!==c[p]&&(k+="&_"+x+""+p+"="+c[p]):0<l?c&&void 0!==c["_"+(l-1)+""+p]?k+="&_"+x+""+p+"="+c["_"+(l-1)+""+p]:void 0!==u.getUrlParamValue("_"+(l-1)+""+p,!0)?k+="&_"+x+""+p+"="+u.getUrlParamValue("_"+(l-1)+""+p):c&&void 0!==c[p]&&(k+="&_"+x+""+p+"="+c[p]):c&&void 0!==c[p]?k+="&_"+x+""+p+
"="+c[p]:void 0!==u.getUrlParamValue("_"+l+""+p,!0)&&(k+="&_"+x+""+p+"="+u.getUrlParamValue("_"+l+""+p)));return"&previousRoute="+d+"&previousCriteria="+g+""+k},pushRoute:function(a,b,c,d){var e=f.location.href,m=u.getUrlParamValue("previousRoute"),q=u.getUrlParamValue("previousCriteria");d=d?d:{};if(null!==m&&""!==m){m=encodeURIComponent(b)+"|"+m;if(""!==q||c){if(""!==q)for(d=q.split("|").length,b=0;b<d;b++)e=e.replace("&_"+(b+1),"&_"+(b+2));q=encodeURIComponent(c?c:"none")+"|"+(""!==q?q:"none")}d=
{previousRoute:m,previousCriteria:q}}else null!==b&&(m=encodeURIComponent(b),c&&(q=encodeURIComponent(c)),d={previousRoute:m,previousCriteria:q});u.pushState(e,d,a)},updateParams:function(a,b){if(f.history&&f.history.replaceState){var c=f.location.href,d="",g,m;1<c.split("#").length&&(d="#"+c.split("#")[1],c=c.split("#")[0]);for(g in a)if(!a.hasOwnProperty||a.hasOwnProperty(g))m=new RegExp(g+"(.+?)(&|$)","g"),c=m.test(c)?c.replace(m,g+"="+a[g]+"$2"):c+("&"+g+"="+a[g]);b&&!0===b?f.history.replaceState(a,
document.title,c+""+d):f.history.pushState(a,document.title,c+""+d)}},pushState:function(a,b,c){if(f.history&&f.history.replaceState){var d="",g,m;1<a.split("#").length&&(d="#"+a.split("#")[1],a=a.split("#")[0]);for(m in b)void 0!==b[m]&&null!==b[m]&&(g=new RegExp(m+"(.+?)(&|$)","g"),g.test(a)?a=void 0===b[m]||null===b[m]?a.replace(g,""):a.replace(g,m+"="+b[m]+"$2"):void 0!==b[m]&&null!==b[m]&&(a+="&"+m+"="+b[m]));c&&(d="#"+c);f.history.pushState(b,document.title,a+""+d)}},log:function(){va=va||[];
va.push(arguments);if("object"===typeof console){var a=console[console.warn?"warn":"log"],b=Array.prototype.slice.call(arguments);"string"===typeof arguments[0]&&(b[0]="Log: "+b[0]);a.apply?a.apply(console,b):a(b)}},setinputstate:function(a,b,c,d,g,f){var e,m=a.length,h,k,l={layoutchanged:!1};b&&(h=b.toLowerCase());for(e=0;e<m;e++)(k=u.setinputstateitem(a[e],b,c,d,g,f,h))&&k.layoutchanged&&!0===k.layoutchanged&&(l.layoutchanged=!0);return l},setinputstatesource:function(a,b,c,e){var g;a.setAttribute("data-"+
Z,b?b.sourceid:null);g=a.type||a.tagName&&a.tagName.toLowerCase()||a.tagName;-1!==a.className.indexOf("selectized")?(a.selectize.clearOptions(a.getAttribute("data-create")?!0:!1,!0,!0),a.selectize.addOption(c,!0,!0)):"select-one"!==g||"select-multiple"!==g||"select"!==g?(b=b?b.sourcemulti:void 0,void 0!==b&&("true"==b||!0===b?(a.setAttribute("multiple","multiple"),b=a.getAttribute("data-multiplesize"),void 0!==b&&null!==b&&a.setAttribute("size",b)):(a.removeAttribute("multiple"),b=a.getAttribute("data-multiplesize"),
void 0!==b&&null!==b&&a.removeAttribute("size"))),K.populateselect(a,c)):(e||(e=d(a)),e.setSingleDataAttr("source",JSON.stringify(c)))},setinputstaterequired:function(a,b,c,d,g){a.setAttribute("data-fiber_required",c);b=a.id||null;void 0!==b&&null!==b&&""!==b&&(!0===c?(g=(g?g:u.cform(a)).find('[for="'+b+'"]').not(".required"),K.elemcache.requiredstate||(a=document.createElement("span"),a.className="required",c=document.createElement("i"),c.className="icon icon-asterisk",a.appendChild(c),K.elemcache.requiredstate=
a),a=K.elemcache.requiredstate.cloneNode(!0),g.addClass("required").prepend(a)):(g=(g?g:u.cform(a)).find('.required[for="'+b+'"]'),g.removeClass("required").children(".required").remove()))},dataOptions:function(a,b,c){c=d.extend({prefix:{readurl:u.options.jsonURL,viewurl:u.options.remoteURL,processurl:u.options.jsonURL,reporturl:u.options.reportURL},list:u.defaultOptList,alias:{readurl:"read",viewurl:"view",reporturl:"report",processurl:"process"}},c);var e,g,f,q,h=/^[\!|\?|#|\*]{1}/i,k=/^\?{1}/i,
x=/^true$/i,l=/^false$/i,n=/^#{1}/i,p=/^\*{1}/i;if(void 0!==a&&null!==a)for(f=0,q=c.list.length;f<q;f++)g=c.list[f].replace(h,""),void 0===b[g]||null!==b[g]&&!0!==h.test(c.list[f])||(e=a.getAttribute("data-"+g),void 0!==e&&null!==e&&""!==e?b[g]=e:c.alias[g]&&void 0!==b[c.alias[g]]&&null!==b[c.alias[g]]&&(b[g]=(c.prefix&&void 0!==c.prefix[g]&&null!==c.prefix[g]?c.prefix[g]:"")+b[c.alias[g]]),e="string"===typeof b[g]?!0:!1,!0===k.test(c.list[f])?void 0!==b[g]&&(!0===b[g]||e&&!0===x.test(b[g]+""))?b[g]=
!0:void 0!==b[g]&&(!1===b[g]||e&&!0===l.test(b[g]+""))&&(b[g]=!1):!0===n.test(c.list[f])&&void 0!==b[g]&&e?b[g]=parseInt(b[g],10):!0===p.test(c.list[f])&&void 0!==b[g]&&e&&(b[g]=b[g].split(",")));return b},setinputstatereadonlydisabled:function(a,b,c,e,g,f,q,h){b=a.id||null;!0===c?(g?g:u.cform(a)).find('label[for="'+b+'"]').addClass("control-label-"+f):(g?g:u.cform(a)).find('label[for="'+b+'"]').removeClass("control-label-"+f);b=a?a.getAttribute("data-role"):null;void 0!==b&&null!==b&&""!==b&&u.requireRoleCall(a,
b,"updatestate",f,c);a&&a.className&&(-1!==a.className.indexOf("dateinput")||-1!==a.className.indexOf("input-datepicker"))&&""===u.mobileos()&&(e||(e=d(a)),e.not(".input-datepicker-rangeto,.input-datepicker-rangefrom").datepicker("option","beforeShowDay",!0===c?function(){return[!1]}:null),e.not(".input-datepicker-rangeto,.input-datepicker-rangefrom").datepicker("refresh"),"readonly"==f&&!0!==e.hasClass("data-fiber_disabled")||"disabled"==f)&&(b=e.next("a"),!0===c||"true"===c||"TRUE"===c?(e.not(".input-datepicker-rangeto,.input-datepicker-rangefrom").datepicker("hide"),
0<b.length&&b[0].setAttribute("disabled","disabled")):0<b.length&&b[0].removeAttribute("disabled"));if(a&&a.className&&-1!==a.className.indexOf("ui-autocomplete-input")){if("readonly"!=f&&"disabled"!=f||e||(e=d(a)),"readonly"==f&&!0!==e.hasClass("data-fiber_disabled")||"disabled"==f)e||(e=d(a)),!0===c||"true"===c||"TRUE"===c?e.siblings(".add-on").attr("disabled","disabled"):e.siblings(".add-on").removeAttr("disabled")}else a&&a.className&&-1!==a.className.indexOf("selectized")&&("readonly"==f&&-1===
(" "+a.className+" ").indexOf(" data-fiber_disabled ")||"disabled"==f)&&(!0===c||"true"===c||"TRUE"===c?a.selectize.disable():a.selectize.enable());"readonly"==f&&-1===(" "+a.className+" ").indexOf(" data-fiber_disabled ")?(e=a.type||a.tagName&&a.tagName.toLowerCase()||a.tagName,"text"===e||"select-one"!==e&&"select-multiple"!==e&&"select"!==e&&"checkbox"!==e&&"radio"!==e&&"file"!==e&&"button"!==e?!0===c||"true"===c||"TRUE"===c?a.getAttribute(q)||a.setAttribute(q,q):a.getAttribute(q)&&a.removeAttribute(q):
!0===c||"true"===c||"TRUE"===c?a.getAttribute("disabled")||a.setAttribute("disabled","disabled"):a.getAttribute("disabled")&&a.removeAttribute("disabled")):!0===c||"true"===c||"TRUE"===c?a.getAttribute(q)||a.setAttribute(q,q):void 0!==a.getAttribute(q)&&null!==a.getAttribute(q)&&a.removeAttribute(q);if(h&&!0===h&&!0===c&&a.getAttribute("autofocus")){a=(g?g:u.cform(a)).find("[autofocus]").not("[readonly],[disabled]").first();a.focus();try{a.select()}catch(I){}}},setinputstatevisible:function(a,b,c,
e){b={layoutchanged:!1};!0===c||"true"===c||"TRUE"===c?(a.className&&-1===(" "+a.className+" ").indexOf(" include-hidden ")&&-1===a.className.indexOf("btn-hidden")||(a.className=(a.className||"").replace("btn-hidden","").replace("include-hidden",""),b.layoutchanged=!0),e||(e=d(a)),e.trigger("show")):a.className&&-1!==(" "+a.className+" ").indexOf(" include-hidden ")||(a.className=(a.className||"")+" include-hidden",b.layoutchanged=!0,e||(e=d(a)),e.trigger("hide"));return b},setinputstateitem:function(a,
b,c,d,g,f,q){var e,m={layoutchanged:!1};d&&void 0!==d.viewstate&&null!==d.viewstate&&(e=a.getAttribute(b+"."+d.viewstate),void 0!==e&&null!==e&&(c=e==b||"true"==e?!0:!1));"readonly"!==b&&"disabled"!==b||!0!==c&&d&&!0===d.readonly&&-1===a.className.indexOf("own-state")?"required"===b?u.setinputstaterequired(a,d,c,null,f):"source"===b?u.setinputstatesource(a,d,c,null):"visible"===b&&(b=u.setinputstatevisible(a,d,c,null))&&b.layoutchanged&&!0===b.layoutchanged&&(m.layoutchanged=!0):u.setinputstatereadonlydisabled(a,
d,c,null,f,b,q,g);void 0===aa["state_"+q]&&(aa["state_"+q]=new RegExp("(^| )data-fiber_"+q+"","i"));!0===c||"true"===c||"TRUE"===c?a.className&&!0===aa["state_"+q].test(a.className)||(a.className=(a.className||"")+" data-fiber_"+q+" "+q):!0===aa["state_"+q].test(a.className||"")&&(void 0===aa["state_"+q+"_class"]&&(aa["state_"+q+"_class"]=new RegExp("(^| )"+q+"","i")),a.className=(a.className||"").replace(aa["state_"+q],"").replace(aa["state_"+q+"_class"],""));return m},populateselect:function(a,
b,c){if(a){var e,g=P(a),f,q=0;f=[];var h,k,x=[],l=q=null,n={},p,t=null,r="group";if(c&&void 0!==c.groupby)r=c.groupby;else if(r=a.getAttribute("data-groupby"),void 0===r||null===r)r="group";void 0!==b&&null!==b&&(f=d.isArray(b)?b:void 0,void 0===f&&(f=void 0!==b.data?b.data:b.DATA,null!==r&&"group"===r?l=void 0!==b.groups?b.groups:b.GROUPS:null!==r&&""!==r&&(l=void 0!==b[r]?b[r]:b[(r+"").toUpperCase()]),void 0===l&&(l=null),void 0===f&&(f=void 0!==b.types||void 0!==b.TYPES?void 0!==b.types?b.types:
b.TYPES:b)));if("listinput"===a.getAttribute("data-role")&&(e||(e=d(a)),e.data("listdata",{data:f,groups:l}),!1===e.trigger("listinputupdate")))return this;a.removeAttribute("data-default");a.setAttribute("fiber-preventdefault","true");e||(e=d(a));c=ia(e);p=function(a,b){var c=b.valuetemplate(a),d=b.labeltemplate(a),e=new Option("",c),c=(c+"").replace(/(&amp;)/gi,"&"),d=(d+"").replace(/(&amp;)/gi,"&");e.value=c;e.text="";c=void 0!==a.data?a.data:a.DATA;void 0!==c&&c.substring&&"{"===c.substring(0,
1)&&e.setAttribute("data-data",c);e.appendChild(document.createTextNode(d));return e};-1==a.className.indexOf("blankRowCreated")&&void 0!==a.options&&0<a.options.length&&void 0!==a.options[0]&&""===a.options[0].value&&(q={value:a.options[0].value,text:void 0!==a.options[0].text&&null!==a.options[0].text?a.options[0].text:""});try{a.length=0}catch(Pa){}for(;a.firstChild;)a.removeChild(a.firstChild);if(void 0!==b&&null!==b){null!==q&&(h=new Option("",q.value),h.value=q.value,h.text="",h.appendChild(document.createTextNode(q.text)),
x.push(h));if(void 0!==f.length&&0<f.length)for(q=0,b=f.length;q<b;q++)k=null!==r&&""!==r?void 0!==f[q][r]?f[q][r]:f[q][(r+"").toUpperCase()]:void 0,void 0!==k?(void 0===n[k]&&(n[k]=document.createElement("optgroup"),n[k].setAttribute("label",null!==l&&void 0!==l[k]?l[k]:k),x.push(n[k])),k=n[k],h=p(f[q],c),k.appendChild(h)):(h=p(f[q],c),-1===a.className.indexOf("blankRowCreated")&&0===h.value.length&&1>x.length&&(a.className+=" blankRowCreated"),0<q?x.push(h):0<x.length&&h.value===x[0].value&&x[0].text!==
h.text?x[0]=h:(1>x.length||h.value!==x[0].value)&&x.push(h));f=document.createDocumentFragment();q=0;for(b=x.length;q<b;q++)f.appendChild(x[q]);a.appendChild(f.cloneNode(!0))}a.removeAttribute("fiber-preventdefault");null===g&&(t=a.getAttribute("multiple"));null!==g||null!==t&&""!==t?(null===g&&(g=""),P(a,{},g)):(g=0<a.options.length?a.options[0].value:"",P(a,{},g),e||(e=d(a)),e.trigger("change"));e||(e=d(a));e.trigger("selectpopulated")}},setdata:function(a,b,c){var e,g,f=void 0!==a.selector||void 0!==
a.jquery?a[0]:a,q,h,k,x,l,n,p,t,r;c&&void 0!==c.diff&&f.setAttribute("data-fiber_diff","");c&&void 0!==c.diffinherited&&f.setAttribute("data-fiber_diff_i","");if(void 0!==b&&null!==b&&(c&&(x=void 0!==c.diff&&null!==c.diff&&!0===c.diff?!0:!1,l=void 0!==c.diffinherited&&null!==c.diffinherited&&!0===c.diffinherited?!0:!1,n=void 0!==c.inheritprivate&&null!==c.inheritprivate&&!0===c.inheritprivate?!0:!1,p=void 0!==c.checkId&&null!==c.checkId?c.checkId:!1,t=void 0!==c.chain&&null!==c.chain?c.chain:!0),
c=[],r=[],q=void 0!==a.selector||void 0!==a.jquery?a:d(a),!(1>q.length))){var u=Object.keys(b),w=u.length;for(g=0;g<w;g++)if(a=u[g],e=(a||"").toLowerCase(),2<e.length&&"__i"===e.substring(0,3)&&(e=e.substring(3,e.length)),"data-fiber_id"!==e){h=null;if("object"!==typeof b[a]||!0===b[a]instanceof Date)h=b[a]+"";null!==h&&(k=q.attr("data-"+e),void 0!==k&&null!==k||!0===n&&-1==="|refresh|lastupdate|intent|rawdata|sessionid|sessiontoken|refreshcookies|resetbootstrap|resetbootstrapitems|contextversion|usersettings|do|diff|process|read|processurl|readurl|idprefix|".indexOf("|"+
e+"|")||!0===p&&""!==e&&0<q.find("#"+e).length?(void 0===q.data(e)&&q.data(e,null),!0===x&&"value"!==e&&"selectedroute"!==e&&void 0!==k&&h!=k+""&&c.push(e),""===h?f.setAttribute("data-"+e,h):q.attr("data-"+e,h)):3<a.length&&"__c"===a.substring(0,3)||!0!==t||-1!=="|refresh|lastupdate|intent|rawdata|sessionid|sessiontoken|refreshcookies|resetbootstrap|resetbootstrapitems|contextversion|usersettings|do|diff|process|read|processurl|readurl|idprefix|".indexOf("|"+e+"|")||(k=q.attr("__i"+e),void 0===q.data(e)&&
q.data("__i"+e,null),!0===l&&"lastupdate"!==e&&"selectedroute"!==e&&(void 0!==k&&h!=k+""?r.push(e):void 0!==h&&null!==h&&void 0===k&&r.push(e)),""===h?f.setAttribute("data-__i"+e,h):q.attr("data-__i"+e,h)))}0<c.length&&f.setAttribute("data-fiber_diff",c.toString());0<r.length&&f.setAttribute("data-fiber_diff_i",r.toString())}},requireRoleCall:function(a,b,c,e,g,m){var q,h=void 0!==a.selector||void 0!==a.jquery?a[0]:a,h=h?h.getAttribute("data-fiber_require"):void 0,k;if(void 0!==h&&null!==h)try{if("undefined"!==
typeof N){f.define||(f.define=W,f.define.amd={jQuery:!0},f.define("jquery",[],function(){return jQuery}));try{N(h.toLowerCase().split(","),function(){var f=void 0!==a.selector||void 0!==a.jquery?a:d(a);(k=f.data(Ca+b))||(k=q.data(b));void 0!==d.ui[b]&&k&&k[c]&&"function"===typeof k[c]?d.fn[b].call(q,c,e,g):k&&k[c]&&"function"===typeof k[c]?k[c].apply(k,[e,g]):f.trigger(c+"."+b.toLowerCase(),[e,g])})}catch(x){if(!0===m)throw x;setTimeout(function(){u.requireRoleCall(a,b,c,e,g,!0)},400)}}else if(void 0!==
f[f.moduleloader])try{f[f.moduleloader]((h.toLowerCase()+(f.require?"":".js")).split(","),function(){var f=void 0!==a.selector||void 0!==a.jquery?a:d(a);(k=f.data(Ca+b))||(k=q.data(b));void 0!==d.ui[b]&&k&&k[c]&&"function"===typeof k[c]?d.fn[b].call(q,c,e,g):k&&k[c]&&"function"===typeof k[c]?k[c].apply(k,[e,g]):f.trigger(c+"."+b.toLowerCase(),[e,g])})}catch(x){if(!0===m)throw x;setTimeout(function(){u.requireRoleCall(a,b,c,e,g,!0)},400)}else throw Error("Javascript lib for "+h.split(",")+" is missing and require is disabled.");
}catch(x){}else q=void 0!==a.selector||void 0!==a.jquery?a:d(a),(k=q.data(Ca+b))||(k=q.data(b)),void 0!==d.ui[b]&&k&&k[c]&&"function"===typeof k[c]?d.fn[b].call(q,c,e,g):k&&k[c]&&"function"===typeof k[c]?k[c].apply(k,[e,g]):q.trigger(c+"."+b.toLowerCase(),[e,g])},charCodeToString:function(a,b){return b?String.fromCharCode(parseInt(b,10)):""},unescapeHtmlEntities:function(a){var b;if(a)if("string"===typeof a)a=a.replace(/(&lt;)/gi,"<").replace(/(&gt;)/gi,">").replace(/(&amp;)/gi,"&").replace(/(&pound;)/gi,
String.fromCharCode(8482)).replace(/(&reg;)/gi,String.fromCharCode(174)).replace(/(&copy;)/gi,String.fromCharCode(169)).replace(/(&trade;)/gi,String.fromCharCode(8482)).replace(/(&deg;)/gi,String.fromCharCode(176)).replace(/&#([0-9]+);?/gi,u.charCodeToString);else if("object"==typeof a)for(b in a)"string"==typeof a[b]&&(a[b]=a[b].replace(/(&lt;)/gi,"<").replace(/(&gt;)/gi,">").replace(/(&amp;)/gi,"&").replace(/(&pound;)/gi,String.fromCharCode(8482)).replace(/(&reg;)/gi,String.fromCharCode(174)).replace(/(&copy;)/gi,
String.fromCharCode(169)).replace(/(&trade;)/gi,String.fromCharCode(8482)).replace(/(&deg;)/gi,String.fromCharCode(176)).replace(/&#([0-9]+);?/gi,u.charCodeToString));return a},notification:function(a,b){var c=void 0!==a.id?a.id:a.ID,e=void 0!==a.type?a.type:a.TYPE,g=void 0!==a.message?a.message:a.MESSAGE,f,q;void 0===c&&(c="notification-"+u.createUUID());void 0===e&&(e="notification");void 0!==g&&null!==g&&""!==g?(f=document.createElement("div"),f.setAttribute("id",c),"notification"===e||"copy"===
e?(q="copy"===e?'<div class="action-copy-content">'+g+"</div>":g,f.className="notification-wrapper",g=document.createElement("div"),g.className="notification action-"+e,g.innerHTML='<div class="notification-header">Notification <i class="icon icon-bell-o" style="font-size: 18px; float: right;"></i></div><div class="notification-content">'+q+"</div>",f.appendChild(g),document.body.appendChild(f),setTimeout(function(){d(f).remove();void 0!==b&&"function"===typeof b&&d.proxy(b,this)({id:c})},1500),"copy"===
e&&d(f).find(".action-copy-content").selectText()):"dialog"===e&&(f.className="modal",f.innerHTML='<div class="modal-body">'+g+'</div><div class="modal-footer"><button class="btn" type="button">OK</button></div>',document.body.appendChild(f),d(f).dialogForm({destroyOnClose:!0,title:"Notification"}).on("dialogformclose",function(){d.proxy(b,this)({id:c})}))):void 0!==b&&"function"===typeof b&&d.proxy(b,this)({id:c})},jsError:Na,ajaxDataFilter:function(a,b){if(void 0!==f._debugoutput&&!0===f._debugoutput){var c=
/\x3c!-- \/\/ end-of-template --\x3e/i.exec(a);if(c&&0<c.index){var d=a.substring(c.index);-1===this.url.indexOf("messaging.channel")&&u.adddebugoutput(d,this.url,this.data,b);return a.substring(0,c.index)}}return a},ajaxError:function(a,b){if(0!==a.status)if(401==a.status)ea("user.unauthorized").publish({message:"Request Unauthorized"});else if(403==a.status)u.error("An element on this page has failed to Authenticate.");else if(404==a.status)u.error("Requested URL not found.");else if(500==a.status)if(void 0!==
a.responseText&&""!==d.trim(a.responseText)){var c=a.responseText.match(/(\x3c!-- tasserror \/\/){1}([\s\S]*)(\/\/ --\x3e){1}/i);c&&1<c.length&&c[2]?u.error(c[2]):u.error("<strong>Internal Server Error:</strong><br />"+a.statusText)}else u.error("<strong>Internal Server Error:</strong><br />"+a.statusText);else 503==a.status?(tb=!1,u.error("Service Temporarily Unavailable.").on("dialogformbeforeclose",function(){u.location(f.location.href+(f.location.hash?"#"+f.location.hash.replace(/^#+/,""):""))})):
"parsererror"==b?void 0!==a.responseText&&-1!==a.responseText.indexOf("login")?(u.warning("You have been logged out and will be redirected to the Login page."),setTimeout(function(){f.location.reload()},2E3)):u.error("<strong>Error:</strong><br />Parsing JSON Request failed."+a.responseText):"timeout"==b?u.error("Request Time out."):"success"==b&&200==a.status||u.error("<strong>Unknown Error:</strong><br />"+a.responseText)},tsURL:function(a){return a+((-1===a.indexOf("?")?"?":"&")+"tstamp="+(new Date).getTime())},
resolveURL:function(a,b){var c=a;-1!==c.indexOf("{{")&&(c=Handlebars.compile(c)(b));return c=u.tsURL(c)},redirect:function(a,b,c){"back"===a?f.history.back():u.location(u.responsiveURL(u.options.baseURL+""+a),b,d.extend({},c))},post:function(a,b,c,e){var g=function(){},f=function(){};void 0!==c&&(g=c);void 0!==e&&(f=e);return d.ajax({type:"POST",url:u.tsURL(u.options.jsonURL+""+a),data:u.packdata(b),dataFilter:u.ajaxDataFilter,cache:!1,error:function(a,b,c){u.ajaxError(a,b,c);try{f(a,b,c)}catch(x){}},
success:function(a,b,c){a=u.unpackdata(a);var d;"success"==b&&(d=a?void 0!==a.__status?a.__status:a.__STATUS:void 0,void 0===d&&u.error(u.constants.invalidStatusText),a&&u.updatemodel(void 0!==a.__model?a.__model:a.__MODEL,!0));try{g(a,b,c)}catch(M){f(c,b,M)}},dataType:"json"})},updatemodel:function(a,b){var c,d,g;if(void 0!==a&&null!==a)for(c in a)if(!a.hasOwnProperty||a.hasOwnProperty(c)){g=u.model(c);for(d in a[c])(!a[c].hasOwnProperty||a[c].hasOwnProperty(d)&&"data"!==d&&"DATA"!==d)&&g.setModelProperty(d,
a[c][d]);g.updateItems(a[c],!1,b)}},download:function(a){f.location.href=u.options.downloadURL+""+a+""+(d.support.iOS?"&ios=true":"")},print:function(a,b,c){var e=document.createElement("div");d(e).print(d.extend({report:a},b)).print("run",b,c)},throttle:function(a,b,c){var d=!1,g;return function(){d?c&&!0===c&&(g&&(clearTimeout(g),g=null),g=setTimeout(function(){a.call();d=!1},b)):(a.call(),d=!0,g=setTimeout(function(){a.call();d=!1},b))}},inlineFile:function(a,b){var c="",e="_blank";void 0!==b&&
null!==b&&(void 0!==b.target&&null!==b.target&&(e=b.target),void 0!==b.ext&&null!==b.ext&&(c=b.ext));d.support.iOS&&"swf"===c?u.error({title:"Unsupported file type",message:"WARNING! - Cannot access this type of file on this device."}):u.location(u.options.inlineURL+""+a+""+(d.support.iOS?"&ios=true":""),e)},responsiveURL:function(a){return a},mobileos:function(){var a=navigator.userAgent||navigator.vendor||f.opera;return/windows phone/i.test(a)?"windowsphone":/android/i.test(a)?"android":/iPad|iPhone|iPod/.test(a)&&
!f.MSStream?"ios":""},sendemail:function(a){var b=d("#fiber_sendemail");b.hasClass(".ui-dialogform")?b.dialogForm("load",a):d('<div id="fiber_sendemail"></div>').dialogForm({autoLoad:!0,data:a,view:"ui.web.general.dialog.email",destroyOnClose:!0,removeOnClose:!0,close:function(){}})},sendsms:function(a){var b=d("#fiber_sendsms");b.hasClass(".ui-dialogform")?b.dialogForm("load",a):d('<div id="fiber_sendsms"></div>').dialogForm({autoLoad:!0,data:a,view:"ui.web.general.dialog.sms",destroyOnClose:!0,
removeOnClose:!0,close:function(){}})},location:function(a,b,c){if(void 0!==b&&null!==b&&("string"===typeof b&&""!==b&&"_self"!==b||"string"!==typeof b&&b.metaKey&&!0===b.metaKey||b.ctrlKey&&!0===b.ctrlKey)){"string"===typeof b||!0!==b.metaKey&&!0!==b.ctrlKey||(b="_blank");var e=c?d.param(c):"",g=f;"_top"==b?g=f.top:"_parent"==b&&(g=f.parent);a=g.open(a,b,e.split("&").join(","));c&&c.focus&&a.focus()}else"back"===a?f.history.back():f.location.href=u.responsiveURL(a)},indefiniteArticle:function(a){if(a=
/\w+/.exec(a))a=a[0];else return"an";var b=a.toLowerCase(),c=["honest","hour","hono"],d;for(d in c)if(0==b.indexOf(c[d]))return"an";if(1==b.length)return 0<="aedhilmnorsx".indexOf(b)?"an":"a";if(a.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";c=[/^e[uw]/,/^onc?e\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(d in c)if(b.match(c[d]))return"a";return a.match(/^U[NK][AIEO]/)?"a":a==a.toUpperCase()?0<="aedhilmnorsx".indexOf(b[0])?
"an":"a":0<="aeiou".indexOf(b[0])||b.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"},url:function(a,b){-1===a.search("http:")&&-1===a.search("https:")?u.location("http://"+a,b):u.location(a,b)},configure:function(a,b){if("string"==typeof a)Ba[a]=b;else if("object"==typeof a)for(var c in a)Ba[c]=a[c]},routeutils:{build:function(a,b,c,d,g){a="string"===typeof a?a.split("/"):a;var e,f,h=[],k;e=0;for(f=a.length;e<f;e++)if(h[e]=a[e],0===e&&b&&b.fiber_currentpage&&b.fiber_currentpage!==h[e]&&
-1!==b.fiber_currentpage.indexOf(h[e])&&(h[e]=b.fiber_currentpage),0<a[e].length&&":"===a[e].split("")[0]){k=a[e].replace(/^:/i,"");if("empty"===k)h[e]="";else if(void 0!==c&&null!==c&&void 0!==c[k]&&null!==c[k]&&void 0!==b[c[k]]&&null!==b[c[k]])h[e]=b[c[k]];else if(void 0!==b[k]&&null!==b[k])h[e]=b[k];else{if(!0===/^:/i.test(a[e])&&!0===g)return;h[e]=a[e].replace(/^:{1}[^/:]*/i,"")}void 0!==d&&null!==d&&-1<d&&(h[e]=h[e].split("|").slice(0,d+1).join("|"))}return h=h.join("/")},compareToCurrent:function(a){var b=
"";1<a.split("#").length&&(b=a.split("#")[1]);return f.location.hash.replace(/^#+/,"")==b?!0:!1},segments:function(a,b){var c=a.split("/"),d,g;d=0;for(g=c.length;d<g;d++)1<c[d].length&&":"===c[d].split("")[0]&&b(d,c[d].replace(/^:/i,""))}},contextURI:function(){return encodeURIComponent(f.location.search.replace(/^\?do=/i,"")+"#"+f.location.hash.replace(/^#+/,""))},contextParam:function(a){var b=f.location.search;return void 0!==b?(a=new RegExp("(&"+a+"=)([^&]*)","i"),(b=b.match(a))&&0<b.length&&
b[2]?decodeURIComponent(b[2]):""):""},route:function(a){var b;b=a&&eb[a];!0!==Eb&&(Eb=!0,!0!==Fa&&f.addEventListener&&(Fa=!0,f.addEventListener("popstate",Qa,!1),f.addEventListener("hashchange",Qa,!1)),Qa(null,!0));b||(b=jQuery.Callbacks("stopOnFalse"),b={add:function(a,b,g){var c=a.split("/");this.pages[c[0]]?d.extend(this.pages[c[0]],{url:c,properties:this.deriveproperties(a),name:b,callback:g}):(this.pages[c[0]]={url:c,name:b,properties:this.deriveproperties(a),callback:g},ob&&(c[0]===ob.split("/")[0]||
(new RegExp(c[0].replace("*","[.*]"))).test(ob.split("/")[0]))&&this.init(ob,location.search,!0))},setOptions:function(a){if(a)for(var b in a)if(!a.hasOwnProperty||a.hasOwnProperty(b))this[b]=a[b]},deriveproperties:function(a){var b=[];a=a.split("/");var c,d,f;c=1;for(d=a.length;c<d;c++)f=a[c].replace(":",""),void 0!==f&&null!==f&&""!==f&&b.push(f);return b},findpage:function(a,b){var c,d,e;if(void 0!==a)for(d in this.pages)if(d==a){c=this.pages[d];break}else if(e=new RegExp(d+"".replace("*","[.*]"),
"gi"),e.test(a)&&(!b||!0===b&&a.split("/").length<this.pages[d].url.length))return this.pages[d];return c},subscribe:b.add,unsubscribe:b.remove,publish:b.fire,pages:{},historyEnabled:!1,pushrouteparam:null,rewriteOnly:!1,lastvalidhash:"",lastvalidproperties:{},init:function(a,b,g,m){var c=a?a.split("&"):[];b=!1;var e,h,k=!0,c=(1<c.length?c[0]:a?a:"").split("/");e=c[0];var l=this.pages[e]||this.findpage(e),n={},p;l&&(l.fiber_currentpage=e);if(l&&(this.lastvalidhash!==decodeURIComponent(a)||void 0!==
m&&!0===m)){e=l.fiber_currentpage;g&&!0===g&&(n.fiber_isonload=!0);n.fiber_currentpage=l.fiber_currentpage;n.fiber_replacedhash=l.fiber_currentpage;n.properties=l.properties;n.resolvedproperties=[];void 0!==m&&(n.forceload=m);p=1;for(g=c.length;p<g;p++)void 0!==l.url[p]&&(h=l.url[p].replace(":",""),void 0!==h&&null!==h&&""!==h&&(h=c[p].replace(/[^a-z0-9:_\-\s.|=,%]/gi,""),c[p]!==h&&(b=!0),/^:/gi.test(h)&&this.lastvalidproperties[h.replace(/^:/gi,"")]&&(b=!0,h=this.lastvalidproperties[h.replace(/^:/gi,
"")]),e+="/"+h,n[l.url[p].replace(":","")]=h,n.resolvedproperties.push(h)));!0!==this.rewriteOnly?(l.callback&&"function"===typeof l.callback&&(k=d.proxy(l.callback,this)(n)),void 0!==m&&!0===m&&(n.forceload=!0),!1!==k&&(this.lastvalidhash=decodeURIComponent(a),this.lastvalidproperties=n,this.publish(l.name,n),!0===b&&f.history&&f.history.replaceState&&(this.pushrouteparam||f.history.replaceState(void 0,void 0,"#"+e)))):!1!==k&&(this.lastvalidhash=decodeURIComponent(a),this.lastvalidproperties=n,
!0===b&&f.history&&f.history.replaceState&&(this.pushrouteparam||f.history.replaceState(void 0,void 0,"#"+e)))}this.rewriteOnly=!1;return k},rewrite:function(a){this.load(a,!0,null,!1)},replace:function(a){f.history&&f.history.replaceState?(this.lastvalidhash=decodeURIComponent(a),f.history.replaceState(void 0,void 0,"#"+a)):this.load(a,!0,null,!1)},loadurl:function(a,b,d,m){b=a.replace(/([^#]*#(.*))/,"$2");if(f.history&&f.history.replaceState&&(this.lastvalidhash!==decodeURIComponent(b)||void 0!==
m&&!0===m)&&!0===this.historyEnabled){var c=a.split("&");1>=c.length&&(c="");this.lastvalidhash!==decodeURIComponent(b)&&f.history.pushState(d,document.title,a);this.init(b,c,!1,void 0!==m&&!0===m?!0:!1)}},load:function(a,b,d,m,q){if(this.lastvalidhash!==decodeURIComponent(a)){var c=a.split("&"),e={};1<c.length?a=c.splice(0,1):c="";if(!0===this.historyEnabled)this.rewriteOnly=void 0!==b&&!0===b?!0:!1,f.history&&f.history.replaceState&&(!0===q||null!==this.pushrouteparam)?(null!==this.pushrouteparam&&
(e[this.pushrouteparam]=a),u.pushRoute(null===this.pushrouteparam?a:null,d&&d.previousroute?d.previousroute:null,d&&d.previouscriteria?d.previouscriteria:null,e),this.init(a,c,!1,void 0!==m&&!0===m?!0:!1)):f.location.hash="#"+a;else if(void 0===b||!0!==b)this.rewriteOnly=!1,this.init(a,c,!1,void 0!==m&&!0===m?!0:!1)}}},a&&(eb[a]=b));return b}});d.fn.extend({hasAttr:function(a){return 0<this.length?(a=this[0].getAttribute(a),void 0!==a&&null!==a?!0:!1):!1},isTag:function(a){return 0<this.length&&!0===
this.is(a)?!0:!1},hasDataAttr:function(a){return 0<this.length?(a=this[0].getAttribute("data-"+a),void 0!==a&&null!==a?!0:!1):!1},dataAttrContains:function(a,b){if(0<this.length){var c=this[0].getAttribute("data-"+a);return void 0!==c&&null!==c&&-1!==c.indexOf(b)?!0:!1}return!1},dataAttrEq:function(a,b){if(0<this.length){var c=this[0].getAttribute("data-"+a);return void 0!==c&&null!==c&&c===b?!0:!1}return!1},hasRole:function(a){if(0<this.length){var b=this[0].getAttribute("data-role");return void 0===
b||null===b||0!==arguments.length&&b!==a?!1:!0}return!1},reverse:function(){return this.pushStack(this.get().reverse(),arguments)},reverseEvents:function(a){return this.each(function(){var b=d(this).attr("data-events"),c=a.split(".")[0],e,g;if(void 0!==b&&null!==b&&void 0!==b[c]&&null!==b[c]){e=[];for(g in b[c])e.unshift(b[c][g]);b[c]=e}})},selectText:function(){if(document.createRange){var a=this[0],b=document.createRange();b.selectNodeContents(a);a=f.getSelection();a.removeAllRanges();a.addRange(b)}},
clearSelection:function(){document.createRange&&(document.selection?document.selection.empty():f.getSelection&&f.getSelection().removeAllRanges())},fieldValue:function(a,b){if(void 0!==this&&void 0!==this[0]){if(arguments.length){if(1<this.length)for(var c=0,d=this.length;c<d;c++)P(this[c],b,a);else P(this[0],b,a);return this}c=P(this[0],{});return null!==c?c:""}},packageFields:function(a,b){var c,e,g,f=this,q;if(void 0!==a)if(f=[],q=d(this),g,d.isArray(a))for(c=0,e=a.length;c<e;c++)g=q.find(a[c]),
0<g.length&&d.merge(f,g);else f=q.find(a);return jb(f,b)},packageForm:function(a){var b={},c=[],e=this;e&&e.length&&(e=e[0]);e&&(c=c.concat(Array.prototype.slice.call(e.getElementsByTagName("input"))),c=c.concat(Array.prototype.slice.call(e.getElementsByTagName("select"))),c=c.concat(Array.prototype.slice.call(e.getElementsByTagName("textarea"))),c=c.concat(Array.prototype.slice.call(e.getElementsByTagName("file"))),c=c.concat(Array.prototype.slice.call(e.getElementsByTagName("submit"))),c=c.concat(Array.prototype.slice.call(e.getElementsByClassName("faux-input"))),
a&&a.filter&&(c=d(c).filter(a.filter)),b=jb(c,a),b.viewstate=e.getAttribute("data-viewstate"));return b},content:function(){var a=d(this);a.getDataAttr("configure")&&a.configure();return this},address:function(){var a=d(this),b,c,e;a.addClass("address");c=0;for(e=a.length;c<e;c++)b=a[c].type||a[c].tagName&&a[c].tagName.toLowerCase()||a[c].tagName,"textarea"===b?n(a[c],"textarea",null,null,{},a):(b=d(a[c]).getDataAttr("configure"))&&d(a[c]).configure();return this},configure:function(){var a=this,
b=void 0!==a.selector||void 0!==a.jquery?a[0]:a,c,e;return new Promise(function(g,f){b?(e=b.getAttribute("data-configure"),-1!==(" "+b.className+" ").indexOf(" configured ")?g():(b.className+=" configured",void 0!==e&&null!==e&&""!==e?("?"==e.substring(0,1)&&(e=e.replace(/^\?/i,"")),"function"===typeof Ba[e]?(c=Ba[e].call(void 0!==a.selector||void 0!==a.jquery?a:d(a),"configure"),g(c)):setTimeout(function(){Ba[e]?(c=Ba[e].call(void 0!==a.selector||void 0!==a.jquery?a:d(a),"configure"),g(c)):(b.className=
b.className.replace(/(^|\s)configured($|\s)/i,""),g())},100)):g())):g()})},stack:function(a,b,c){if(2===arguments.length||!1===b)c=b,b=void 0;return this.reverseEvents(a).on(a,b,c).reverseEvents(a)},dataAttr:function(a){var b={},c=void 0!==this.selector||void 0!==this.jquery?this:d(this),e,g=c.data(),f=a&&!0===a.expublic?!0:!1,q=a&&a.exclude?a.exclude:"read,view,role,rel,includein,excludefrom,configure,historyenabled,defaultselected,route,filter,forceupdate,hasqtip,classname,animate,inheritfilters,filterchildren,loading,autofocus,prerendered,cache,chain,idprefix",
h=a&&!0===a.inherit?!0:!1,k=a&&!0===a.client?!0:!1,l=a&&!0===a.dynamic?!0:!1,n,p,t,r;if(!0!==ib)for(r=c[0].attributes,p=r.length,e=0;e<p;e++)t=r[e].nodeName,void 0===aa.isdataprop&&(aa.isdataprop=/^data-/i),"string"===typeof t&&aa.isdataprop.test(t)&&(t=t.replace(aa.isdataprop,"").toLowerCase(),void 0===g[t]&&(g[t]=r[e].nodeValue));void 0===aa["exclude_"+q]&&(aa["exclude_"+q]=new RegExp("^("+q.split(",").join("|")+")$","i"));r=aa["exclude_"+q];for(n in g)if(!g.hasOwnProperty||g.hasOwnProperty(n)){e=
!1;p="";if("string"===typeof n&&""!==n&&-1==n.indexOf("fiber")&&(!q||-1==q.indexOf(n)||-1!==q.indexOf(n)&&!0!==r.test(n)))if(3>n.length&&!0!==f)e=!0;else if(t=n.substring(0,2),"__"===t){if(!0===h||!0===k)p=n.substring(0,3),!0===h&&"__i"===p?e=!0:!0===k&&"__c"===p&&(e=!0)}else!0!==f&&(e=!0);if(!0===e&&0<c.length){e=c.attr("data-"+n);if(void 0===e||null===e)e=c.attr("data-"+(n+"").toUpperCase());void 0!==e&&null!==e&&(p=""!==p?n.replace(p,""):n,b[p]=e+"",!0===l&&2<b[p].length&&"{{"==b[p].substring(0,
2)&&(e=b[p],"{{uuid}}"==e||"{{UUID}}"==e?b[p]=u.createUUID():"{{tstamp}}"==e||"{{TSTAMP}}"==e?b[p]=(new Date).getTime():-1!==e.indexOf("{{selectedtext}}")||-1!==e.indexOf("{{SELECTEDTEXT}}")?b[p]=e.replace(/\{\{selectedtext\}\}/gi,d.utils.getSelectedText(!0)):a&&void 0!==a.data&&null!==a.data&&(e=Handlebars.compile(e),b[p]=e(a.data))))}}return b},getClientAttr:function(){return this.dataAttr({inherit:!1,client:!0,expublic:!0})},setClientAttr:function(a){var b,c,e,g=d(this);if(void 0!==a&&null!==a)for(b in a){c=
b.replace(/^[_]{2}[c]{1}/,"").toLowerCase();e=null;if("object"!==typeof a[b]||!0===a[b]instanceof Date)e=a[b];void 0===g.data("__c"+c)&&g.data("__c"+c,null);g.attr("data-__c"+c,e)}},getDataAttr:function(a){return this.attr("data-"+a)},setSingleDataAttr:function(a,b){return this.attr("data-"+a,b)},removeDataAttr:function(a){return this.removeAttr("data-"+a)},setDataAttr:function(a,b){K.setdata(this,a,b);return this},serializeDataAttr:function(a){return"&"+d.param(d(this).dataAttr(a))},populateSelect:function(a,
b){1===this.length&&K.populateselect(this[0],a,b);return this}});d.extend(d.support,{touch:"ontouchend"in document,webapp:"standalone"in f.navigator&&f.navigator.standalone,iOS:null!==navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)?!0:!1,android:null!==navigator.userAgent.toLowerCase().match(/Android/)?!0:!1,placeholder:"placeholder"in document.createElement("input")});d.utils={};d.extend(d.utils,{parseDecimal:function(a,b){var c=parseFloat((a+"").replace(/([^0-9\-.]*)/gi,""));isNaN(c)&&
void 0!==b&&(c=b);return c},isValidDecimal:function(a){return/^(?:[^\-0-9,.\n\r]{0,6}(?=[-0-9.]))(-[0-9,]+|[0-9,]*)(\.?)([0-9]*)$/i.test(a)},formatDecimal:function(a,b,c,e,g){var f="";b=b?"number"===typeof b?b:parseFloat(b):0;c=c?c:0;e=e&&!0===e?!0:!1;""!==a&&!0===/^(?:[^\-0-9,.\n\r]{0,6}(?=[-0-9.]))(-[0-9,]+|[0-9,]*)(\.?)([0-9]*)$/i.test(a)?(a=d.utils.parseDecimal(a),0<c&&(a=Math.round(a/c)*c),!0===e&&(a=Math.round(a*Math.pow(10,b))/Math.pow(10,b))):a=g?g:0;if((g=/^(?:[^\-0-9,.\n\r]{0,6}(?=[-0-9.]))(-?[0-9,]*)(\.?)([0-9]*)$/i.exec(a))&&
0<g.length)if(0<b)for(f=(""!==g[1]?g[1]:0)+".",a=0;a<b;a++)f=a<g[3].length?f+g[3].substring(a,a+1):f+"0";else f=g[1];return f},formatMoney:function(a,b){var c=b?parseFloat(b):2,d=",",g=".",f,q,h,c=isNaN(c=Math.abs(c))?2:c,g=void 0===g?".":g,d=void 0===d?",":d;f=0>a?"-":"";q=parseInt(a=Math.abs(+a||0).toFixed(c),10)+"";h=3<(h=q.length)?h%3:0;return f+(h?q.substr(0,h)+d:"")+q.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+d)+(c?g+Math.abs(a-q).toFixed(c).slice(2):"")},getSelectedText:function(a){var b="";
f.getSelection?(b=f.getSelection(),""===b.toString()&&document.activeElement&&(b=document.activeElement,b=b.value?b.value.substring(b.selectionStart,b.selectionEnd):"")):document.selection&&(b=document.all?document.selection.createRange().text:document.getSelection());b=b.toString();a&&(b=b.replace(RegExp("\\n","g"),"<br />").replace(RegExp("\\r","g"),"<br />"));return b},loadCSSFile:function(a,b){var c=function(a){var c=document.createElement("style");c.type="text/css";c.rel="stylesheet";document.getElementsByTagName("head")[0].appendChild(c);
if(c.styleSheet)try{c.styleSheet.cssText=a,b()}catch(m){throw Error("Couldn't reassign styleSheet.cssText.");}else a=document.createTextNode(a),0<c.childNodes.length?c.firstChild.nodeValue!==a.nodeValue&&c.replaceChild(a,c.firstChild):c.appendChild(a),b()};d.ajax({url:a,dataType:"text",success:function(a){f.less?(new less.Parser({paths:["include-css.cfm?lib=bootstrap.less&tstamp="+(new Date).getTime()+"&file="]})).parse(a||"",function(a,b){c(b.toCSS())}):c(a)}})}});d(function(){var a=d.support,b;
a:{b=document.createElement("div");var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},e;for(e in c)if(void 0!==b.style[e]){b=c[e];break a}b=void 0}a.transition=b&&{end:b}});var Ua=function(a,b){this.$element=d(a);this.options=d.extend({},d.fn.collapse.defaults,b);this.options.parent&&(this.$parent=d(this.options.parent));this.options.toggle&&this.toggle()};Ua.prototype={constructor:Ua,dimension:function(){return this.$element.hasClass("width")?
"width":"height"},show:function(){var a,b,c,e;if(!this.transitioning&&!this.$element.hasClass("in")){a=this.dimension();b=d.camelCase(["scroll",a].join("-"));if((c=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&c.length){if((e=c.data("collapse"))&&e.transitioning)return;c.collapse("hide");e||c.data("collapse",null)}this.$element[a](0);this.transition("addClass",d.Event("show"),"shown");d.support.transition&&this.$element[a](this.$element[0][b])}},hide:function(){var a;!this.transitioning&&
this.$element.hasClass("in")&&(a=this.dimension(),this.reset(this.$element[a]()),this.transition("removeClass",d.Event("hide"),"hidden"),this.$element[a](0))},reset:function(a){var b=this.dimension();this.$element.removeClass("collapse")[b](a||"auto");this.$element[null!==a?"addClass":"removeClass"]("collapse");return this},transition:function(a,b,c){var e=this,g=function(){"show"==b.type&&e.reset();e.transitioning=0;e.$element.trigger(c)};this.$element.trigger(b);b.isDefaultPrevented()||(this.transitioning=
1,this.$element[a]("in"),d.support.transition&&this.$element.hasClass("collapse")?this.$element.one(d.support.transition.end,g):g())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var Ia=d.fn.collapse;d.fn.collapse=function(a){return this.each(function(){var b=d(this),c=b.data("collapse"),e=d.extend({},d.fn.collapse.defaults,b.data(),"object"==typeof a&&a);c||b.data("collapse",c=new Ua(this,e));if("string"==typeof a)c[a]()})};d.fn.collapse.defaults={toggle:!0};d.fn.collapse.Constructor=
Ua;d.fn.collapse.noConflict=function(){d.fn.collapse=Ia;return this};!function(a){var b=function(a,b){this.init(a,b)};b.prototype={constructor:b,init:function(b,d){var c=this;this.options=d;this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote,function(){var b=a.Event("loaded");c.$element.trigger(b)});var e="function"===typeof this.options.manager?this.options.manager.call(this):
this.options.manager,e=e.appendModal?e:a(e).modalmanager().data("modalmanager");e.appendModal(this)},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=a.Event("show");this.isShown||(this.$element.trigger(b),b.isDefaultPrevented()||this.escape())},hide:function(b){b&&b.preventDefault();b=a.Event("hide");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").removeClass("animated").removeClass("modal-overflow").attr("aria-hidden",
!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},layout:function(){var b=this.options.height?"height":"max-height",d=this.options.height||this.options.maxHeight;this.$element.find(".modal-body").css("overflow","").css(b,"");d&&this.$element.find(".modal-body").css("overflow","auto").css(b,d);a(f).height()-100<this.$element.height()||this.options.modalOverflow?this.$element.css("margin-top",0).addClass("modal-overflow"):this.$element.css("margin-top",
0-this.$element.height()/2).removeClass("modal-overflow")},escape:function(){var a=this;this.isShown&&this.options.keyboard?(this.$element.attr("tabindex")||this.$element.attr("tabindex",-1),this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,d=setTimeout(function(){b.$element.off(a.support.transition.end);b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(d);
b.hideModal()})},hideModal:function(){var a=this.options.height?"height":"max-height";(this.options.height||this.options.maxHeight)&&this.$element.find(".modal-body").css("overflow","").css(a,"");this.$element.hide().trigger("hidden")},focus:function(){var a=this.$element.find(this.options.focusOn),a=a.length?a:this.$element;a.focus();this.$element.trigger("enforcefocus")},attention:function(){this.focus()},destroy:function(){var b=a.Event("destroy");this.$element.trigger(b);b.isDefaultPrevented()||
(this.$element.off(".modal").removeData("modal").removeClass("in").attr("aria-hidden",!0),this.$parent!==this.$element.parent()?this.$element.appendTo(this.$parent):this.$parent.length||(this.$element.remove(),this.$element=null),this.$element.trigger("destroyed"))}};a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("modal"),q=a.extend({},a.fn.modal.defaults,e.data(),"object"==typeof c&&c);f||e.data("modal",f=new b(this,q));"string"==typeof c?f[c].apply(f,[].concat(d)):q.show&&
f.show()})};a.fn.modal.defaults={keyboard:!1,backdrop:!0,loading:!1,show:!0,width:null,height:null,maxHeight:null,modalOverflow:!1,consumeTab:!1,focusOn:null,replace:!1,resize:!1,manager:"body",backdropTemplate:'<div class="modal-backdrop" />'};a.fn.modal.Constructor=b}(f.jQuery);!function(a){function b(a){return function(b){if(b&&this===b.target)return a.apply(this,arguments)}}var c=function(a,b){this.init(a,b)};c.prototype={constructor:c,init:function(b,c){this.$element=a(b);this.options=a.extend({},
a.fn.modalmanager.defaults,this.$element.data(),"object"==typeof c&&c);this.stack=[];this.backdropCount=0;if(this.options.resize){var d,e=this;a(f).on("resize.modal",function(){d&&clearTimeout(d);d=setTimeout(function(){for(var a=0;a<e.stack.length;a++)e.stack[a].isShown&&e.stack[a].layout()},10)})}},createModal:function(b,c){a(b).modal(a.extend({manager:this},c))},appendModal:function(c){this.stack.push(c);var d=this;c.$element.on("show.modalmanager",b(function(b){b=function(){c.isShown=!0;var b=
a.support.transition&&c.$element.hasClass("fade");c.$parent=c.$element.parent();c.$container=d.createContainer(c);c.$element.appendTo(c.$container);d.backdrop(c,function(){c.$element.show();b&&c.$element[0].offsetWidth;c.layout();c.$element.addClass("in").attr("aria-hidden",!1);var e=function(){d.setFocus();c.$element.trigger("shown")};b?c.$element.one(a.support.transition.end,e):e()})};c.options.replace?d.replace(b):b()}));c.$element.on("hidden.modalmanager",b(function(b){d.backdrop(c);c.$element.parent().length?
c.$backdrop?(a.support.transition&&c.$element.hasClass("fade")&&c.$element[0].offsetWidth,a.support.transition&&c.$element.hasClass("fade")?c.$backdrop.one(a.support.transition.end,function(){c.destroy()}):c.destroy()):c.destroy():d.destroyModal(c)}));c.$element.on("destroyed.modalmanager",b(function(a){d.destroyModal(c)}))},getOpenModals:function(){for(var a=[],b=0;b<this.stack.length;b++)this.stack[b].isShown&&a.push(this.stack[b]);return a},hasOpenModal:function(){return 0<this.getOpenModals().length},
setFocus:function(){for(var a,b=0;b<this.stack.length;b++)this.stack[b].isShown&&(a=this.stack[b]);a&&a.focus()},destroyModal:function(a){a.$element.off(".modalmanager");a.$backdrop&&this.removeBackdrop(a);this.stack.splice(this.getIndexOfModal(a),1);var b=this.hasOpenModal();this.$element.toggleClass("modal-open",b);b||this.$element.removeClass("page-overflow");this.removeContainer(a);this.setFocus()},getModalAt:function(a){return this.stack[a]},getIndexOfModal:function(a){for(var b=0;b<this.stack.length;b++)if(a===
this.stack[b])return b},replace:function(c){for(var d,e=0;e<this.stack.length;e++)this.stack[e].isShown&&(d=this.stack[e]);d?(this.$backdropHandle=d.$backdrop,d.$backdrop=null,c&&d.$element.one("hidden",b(a.proxy(c,this))),d.hide()):c&&c()},removeBackdrop:function(a){a.$backdrop.remove();a.$backdrop=null},createBackdrop:function(b,c){var d;this.$backdropHandle?(d=this.$backdropHandle,d.off(".modalmanager"),this.$backdropHandle=null):d=a(c).addClass(b).appendTo(this.$element);return d},removeContainer:function(a){a.$container.remove();
a.$container=null},createContainer:function(c){var e;e=c.$element.closest(".modal-scrollable");0<e.length?e.css("z-index",d("modal",this.getOpenModals().length)):(e=a('<div class="modal-scrollable">'),e.css("z-index",d("modal",this.getOpenModals().length)),e.appendTo(this.$element));e.on("scroll.modal",function(){self.modalscrolltimer&&(self.modalscrolltimer=clearTimeout(self.modalscrolltimer));self.modalscrolltimer=setTimeout(function(){c.$element.trigger("modalscroll")},50)});if(c&&"static"!=c.options.backdrop)e.on("click.modal",
b(function(a){c.hide()}));else if(c)e.on("click.modal",b(function(a){c.attention()}));return e},backdrop:function(b,c){var e=b.$element.hasClass("fade")?"fade":"",g=b.options.backdrop&&this.backdropCount<this.options.backdropLimit;b.isShown&&g?(g=a.support.transition&&e&&!this.$backdropHandle,b.$backdrop=b.$element.closest(".modal-scrollable").siblings(".modal-backdrop").not(".in"),1>b.$backdrop.length&&(b.$backdrop=this.createBackdrop(e,b.options.backdropTemplate)),b.$backdrop.css("z-index",d("backdrop",
this.getOpenModals().length)),g&&b.$backdrop[0].offsetWidth,b.$backdrop.addClass("in"),this.backdropCount+=1,c()):!b.isShown&&b.$backdrop?(b.$backdrop.removeClass("in"),--this.backdropCount,this.removeBackdrop(b)):c&&c()},removeSpinner:function(){this.isLoading=!1},removeLoading:function(){this.$backdropHandle&&this.$backdropHandle.remove();this.$backdropHandle=null;this.removeSpinner()},loading:function(b){b=b||function(){};this.$element.toggleClass("modal-open",!this.isLoading||this.hasOpenModal()).toggleClass("page-overflow",
a(f).height()<this.$element.height());if(this.isLoading)this.isLoading&&this.$backdropHandle?(this.$backdropHandle.removeClass("in"),this.removeLoading()):b&&b(this.isLoading);else{this.$backdropHandle=this.createBackdrop("fade",this.options.backdropTemplate);this.$backdropHandle[0].offsetWidth;var c=this.getOpenModals();this.$backdropHandle.css("z-index",d("backdrop",c.length+1)).addClass("in");this.isLoading=!0;b()}}};var d=function(){var b,c={};return function(d,e){if("undefined"===typeof b){var g=
a('<div class="modal hide" />').appendTo(f.contextParent?f.contextParent:"body"),m=a('<div class="modal-backdrop hide" />').appendTo(f.contextParent?f.contextParent:"body");c.modal=+g.css("z-index");c.backdrop=+m.css("z-index");b=c.modal-c.backdrop;g.remove();m.remove()}return c[d]+b*e}}();a.fn.modalmanager=function(b,d){return this.each(function(){var e=a(this),g=e.data("modalmanager");g||e.data("modalmanager",g=new c(this,b));"string"===typeof b&&g[b].apply(g,[].concat(d))})};a.fn.modalmanager.defaults=
{backdropLimit:999,resize:!0,backdropTemplate:'<div class="modal-backdrop" />'};a.fn.modalmanager.Constructor=c}(jQuery);var Ta=function(){var a={get:function(a){return this.slice(a)[0]},contains:function(a){a=a&&a.valueOf();for(var b=0,d=this.length;b<d;b++)if(this[b].valueOf()===a)return b;return-1},remove:function(a){this.splice(a,1)},replace:function(a){a&&(d.isArray(a)||(a=[a]),this.clear(),this.push.apply(this,a))},clear:function(){this.length=0},copy:function(){var a=new Ta;a.replace(this);
return a}};return function(){var b=[];b.push.apply(b,arguments);d.extend(b,a);return b}}(),fa=function(a,b){this._process_options(b);this.dates=new Ta;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=d(a);this.isInline=!1;this.isInput=this.element.is("input");this.hasInput=(this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1)&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.element.is("div")&&
(this.isInline=!0);this.picker=document.createElement("div");this.picker.className="datepicker "+(this.isInline?"datepicker-inline":"datepicker-dropdown dropdown-menu");this.picker.innerHTML='<div class="datepicker-days"><table class=" table-condensed">'+oa.headTemplate+"<tbody></tbody>"+oa.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+oa.headTemplate+oa.contTemplate+oa.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+
oa.headTemplate+oa.contTemplate+oa.footTemplate+"</table></div>";a.appendChild(this.picker);this.$picker=d(this.picker);this._buildEvents();this._attachEvents();this.viewMode=this.o.startView;this.o.calendarWeeks&&this.$picker.find("tfoot .today, tfoot .clear").attr("colspan",function(a,b){return parseInt(b)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDatesDisabled(this.o.datesDisabled);
this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()};fa.prototype={constructor:fa,_process_options:function(a){this._o=d.extend({},this._o,a);var b=this.o=d.extend({},this._o);a=b.language;R[a]||(a=a.split("-")[0],R[a]||(a=ca.language));b.language=a;switch(b.startView){case 2:case "decade":b.startView=2;break;case 1:case "year":b.startView=1;break;default:b.startView=0}switch(b.minViewMode){case 1:case "months":b.minViewMode=1;break;case 2:case "years":b.minViewMode=
2;break;default:b.minViewMode=0}b.startView=Math.max(b.startView,b.minViewMode);!0!==b.multidate&&(b.multidate=Number(b.multidate)||!1,!1!==b.multidate&&(b.multidate=Math.max(0,b.multidate)));b.multidateSeparator=String(b.multidateSeparator);b.weekStart%=7;b.weekEnd=(b.weekStart+6)%7;var c=oa.parseFormat(b.format);-Infinity!==b.startDate&&(b.startDate=b.startDate?b.startDate instanceof Date?this._local_to_utc(this._zero_time(b.startDate)):oa.parseDate(b.startDate,c,b.language):-Infinity);Infinity!==
b.endDate&&(b.endDate=b.endDate?b.endDate instanceof Date?this._local_to_utc(this._zero_time(b.endDate)):oa.parseDate(b.endDate,c,b.language):Infinity);b.daysOfWeekDisabled=b.daysOfWeekDisabled||[];d.isArray(b.daysOfWeekDisabled)||(b.daysOfWeekDisabled=b.daysOfWeekDisabled.split(/[,\s]*/));b.daysOfWeekDisabled=d.map(b.daysOfWeekDisabled,function(a){return parseInt(a,10)});b.datesDisabled=b.datesDisabled||[];d.isArray(b.datesDisabled)||(a=[],a.push(oa.parseDate(b.datesDisabled,c,b.language)),b.datesDisabled=
a);b.datesDisabled=d.map(b.datesDisabled,function(a){return oa.parseDate(a,c,b.language)});a=String(b.orientation).toLowerCase().split(/\s+/g);var e=b.orientation.toLowerCase();a=d.grep(a,function(a){return/^auto|left|right|top|bottom$/.test(a)});b.orientation={x:"auto",y:"auto"};if(e&&"auto"!==e)if(1===a.length)switch(a[0]){case "top":case "bottom":b.orientation.y=a[0];break;case "left":case "right":b.orientation.x=a[0]}else e=d.grep(a,function(a){return/^left|right$/.test(a)}),b.orientation.x=e[0]||
"auto",e=d.grep(a,function(a){return/^top|bottom$/.test(a)}),b.orientation.y=e[0]||"auto";b.defaultViewDate?(a=b.defaultViewDate.year||(new Date).getFullYear(),b.defaultViewDate=r(a,b.defaultViewDate.month||0,b.defaultViewDate.day||1)):b.defaultViewDate=t();b.showOnFocus=void 0!==b.showOnFocus?b.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b=0,c,d,g;b<a.length;b++)c=a[b][0],2===a[b].length?(d=void 0,g=a[b][1]):3===a[b].length&&(d=a[b][1],g=a[b][2]),c.on(g,d)},_unapplyEvents:function(a){for(var b=
0,c,d,g;b<a.length;b++)c=a[b][0],2===a[b].length?(g=void 0,d=a[b][1]):3===a[b].length&&(g=a[b][1],d=a[b][2]),c.off(d,g)},_buildEvents:function(){var a={keyup:d.proxy(function(a){-1===d.inArray(a.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:d.proxy(this.keydown,this)};!0===this.o.showOnFocus&&(a.focus=d.proxy(this.show,this));this.isInput?this._events=[[this.element,a]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),a],[this.component,{click:d.proxy(this.show,
this)}]]:!0!==this.isInline&&(this._events=[[this.element,{click:d.proxy(this.show,this)}]]);this._events.push([this.element,{blur:d.proxy(function(a){this._focused_from=a.target},this)}]);this._secondaryEvents=[[this.$picker,{click:d.proxy(this.click,this)}],[d(document),{"mousedown touchstart":d.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.$picker.is(a.target)||this.$picker.find(a.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();
this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(a,b){var c=b||this.dates.get(-1),c=this._utc_to_local(c);this.element.trigger({type:a,date:c,dates:d.map(this.dates,this._utc_to_local),format:d.proxy(function(a,b){0===arguments.length?(a=this.dates.length-
1,b=this.o.format):"string"===typeof a&&(b=a,a=this.dates.length-1);b=b||this.o.format;var c=this.dates.get(a);return oa.formatDate(c,b,this.o.language)},this)})},show:function(a){if(a&&a.type&&"focus"==a.type&&!0===this.ignoreFocus)this.ignoreFocus=!1;else return this.isInline||("body"===this.o.container?document.body.appendChild(this.picker):d(this.o.container).append(this.picker)),this.place(),this.picker.style.display="block",this._attachSecondaryEvents(),this._trigger("show"),(f.navigator.msMaxTouchPoints||
"ontouchstart"in document)&&this.o.disableTouchKeyboard&&d(this.element).blur(),this},hide:function(){if(this.isInline||!this.$picker.is(":visible"))return this;this.focusDate=null;this.$picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue();this._trigger("hide");return this},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();
this.$picker.remove();delete this.element.data().datepicker;this.isInput||delete this.element.data().date;return this},_utc_to_local:function(a){return a&&new Date(a.getTime()+6E4*a.getTimezoneOffset())},_local_to_utc:function(a){return a&&new Date(a.getTime()-6E4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return d.map(this.dates,
this._utc_to_local)},getUTCDates:function(){return d.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return"undefined"!==typeof a?new Date(a):null},clearDates:function(){var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input"));a&&a.val("").change();this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var a=d.isArray(arguments[0])?
arguments[0]:arguments;this.update.apply(this,a);this._trigger("changeDate");this.setValue();return this},setUTCDates:function(){var a=d.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,d.map(a,this._utc_to_local));this._trigger("changeDate");this.setValue();return this},setDate:k("setDates"),setUTCDate:k("setUTCDates"),setValue:function(){var a=this.getFormattedDate();this._trigger("setValue");this.isInput?this.element.val(a).change():this.component&&this.element.find("input").val(a).change();
return this},getFormattedDate:function(a){void 0===a&&(a=this.o.format);var b=this.o.language;return d.map(this.dates,function(c){return oa.formatDate(c,a,b)}).join(this.o.multidateSeparator)},setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows();return this},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows();return this},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();
this.updateNavArrows();return this},setDatesDisabled:function(a){this._process_options({datesDisabled:a});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return this;var a=this.picker.offsetWidth||238,b=this.picker.offsetHeight||255,c,e,g,f;"body"===this.o.container?(c=document.body.offsetWidth,e=document.body.offsetHeight):(c=d(this.o.container).width(),e=d(this.o.container).height());g=d(this.o.container).scrollTop();f=d(this.o.container).offset();var q=[];this.element.parents().each(function(){var a=
d(this).css("z-index");"auto"!==a&&0!==a&&q.push(parseInt(a))});var h=Math.max.apply(Math,q)+10,k=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),n=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=k.left-f.left;f=k.top-f.top;this.picker.className=this.picker.className.replace(/(datepicker-orient-top|datepicker-orient-bottom|datepicker-orient-right|datepicker-orient-left)/gi,
"");"auto"!==this.o.orientation.x?(this.picker.className=this.picker.className+" datepicker-orient-"+this.o.orientation.x,"right"===this.o.orientation.x&&(p-=a-n)):0>k.left?(this.picker.className+=" datepicker-orient-left",p-=k.left-10):p+a>c?(this.picker.className+=" datepicker-orient-right",p=k.left+n-a):this.picker.className+=" datepicker-orient-left";a=this.o.orientation.y;"auto"===a&&(e=g+e-(f+l+b),a=Math.max(-g+f-b,e)===e?"top":"bottom");this.picker.className=this.picker.className+" datepicker-orient-"+
a;this.picker.style.position="absolute";this.picker.style.top=("top"===a?f+l:f-(b+0))+"px";this.picker.style[this.o.rtl?"right":"left"]=(this.o.rtl?c-(p+n):p)+"px";this.picker.style.zIndex=h;return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var a=this.dates.copy(),b=[],c=!1;arguments.length?(d.each(arguments,d.proxy(function(a,c){c instanceof Date&&(c=this._local_to_utc(c));b.push(c)},this)),c=!0):(b=(b=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&
this.o.multidate?b.split(this.o.multidateSeparator):[b],delete this.element.data().date);b=d.map(b,d.proxy(function(a){return oa.parseDate(a,this.o.format,this.o.language)},this));b=d.grep(b,d.proxy(function(a){return a<this.o.startDate||a>this.o.endDate||!a},this),!0);this.dates.replace(b);this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate));c?this.setValue():
b.length&&String(a)!==String(this.dates)&&this._trigger("changeDate");!this.dates.length&&a.length&&this._trigger("clearDate");this.fill();return this},fillDow:function(){var a=this.o.weekStart,b="",c=this.$picker;this.o.calendarWeeks&&(c.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(a,b){return parseInt(b)+1}),b+='<th class="cw">&#160;</th>');for(;a<this.o.weekStart+7;)b+='<th class="dow">'+R[this.o.language].daysMin[a++%7]+"</th>";a=document.createElement("tr");
a.innerHTML=b;c.find(".datepicker-days thead")[0].appendChild(a)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<a class="month">'+R[this.o.language].monthsShort[b++]+"</a>";this.$picker.find(".datepicker-months td")[0].innerHTML=a},setRange:function(a){a&&a.length?this.range=d.map(a,function(a){return a.valueOf()}):delete this.range;this.fill()},getClassNames:function(a){var b=[],c=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),g=new Date;a.getUTCFullYear()<c||a.getUTCFullYear()===
c&&a.getUTCMonth()<e?b.push("old"):(a.getUTCFullYear()>c||a.getUTCFullYear()===c&&a.getUTCMonth()>e)&&b.push("new");this.focusDate&&a.valueOf()===this.focusDate.valueOf()&&b.push("focused");this.o.todayHighlight&&a.getUTCFullYear()===g.getFullYear()&&a.getUTCMonth()===g.getMonth()&&a.getUTCDate()===g.getDate()&&b.push("today");-1!==this.dates.contains(a)&&b.push("active");(a.valueOf()<this.o.startDate||a.valueOf()>this.o.endDate||-1!==d.inArray(a.getUTCDay(),this.o.daysOfWeekDisabled))&&b.push("disabled");
0<this.o.datesDisabled.length&&0<d.grep(this.o.datesDisabled,function(b){return a.getUTCFullYear()===b.getUTCFullYear()&&a.getUTCMonth()===b.getUTCMonth()&&a.getUTCDate()===b.getUTCDate()}).length&&b.push("disabled","disabled-date");this.range&&(a>this.range[0]&&a<this.range[this.range.length-1]&&b.push("range"),-1!==d.inArray(a.valueOf(),this.range)&&b.push("selected"));return b},fill:function(){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth(),a=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():
-Infinity,e=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,g=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,f=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,q=R[this.o.language].today||R.en.today||"",h=R[this.o.language].clear||R.en.clear||"",k;if(!isNaN(b)&&!isNaN(c)){this.$picker.find(".datepicker-days thead .datepicker-switch").text(R[this.o.language].months[c]+" "+b);this.$picker.find("tfoot .today").text(q).css("display",!1!==this.o.todayBtn?
"table-cell":"none");this.$picker.find("tfoot .clear").text(h).css("display",!1!==this.o.clearBtn?"table-cell":"none");this.updateNavArrows();this.fillMonths();q=r(b,c-1,28);c=oa.getDaysInMonth(q.getUTCFullYear(),q.getUTCMonth());q.setUTCDate(c);q.setUTCDate(c-(q.getUTCDay()-this.o.weekStart+7)%7);h=new Date(q);h.setUTCDate(h.getUTCDate()+42);for(var h=h.valueOf(),c=[],l;q.valueOf()<h;){if(q.getUTCDay()===this.o.weekStart&&(c.push("<tr>"),this.o.calendarWeeks)){l=new Date(+q+(this.o.weekStart-q.getUTCDay()-
7)%7*864E5);l=new Date(Number(l)+(11-l.getUTCDay())%7*864E5);var n=new Date(Number(n=r(l.getUTCFullYear(),0,1))+(11-n.getUTCDay())%7*864E5);c.push('<td class="cw">'+((l-n)/864E5/7+1)+"</td>")}l=this.getClassNames(q);l.push("day");if(this.o.beforeShowDay!==d.noop){var p=this.o.beforeShowDay(this._utc_to_local(q));void 0===p?p={}:"boolean"===typeof p?p={enabled:p}:"string"===typeof p&&(p={classes:p});!1===p.enabled&&l.push("disabled");p.classes&&(l=l.concat(p.classes.split(/\s+/)));p.tooltip&&(k=p.tooltip)}l=
d.unique(l);c.push('<td class="'+l.join(" ")+'"'+(k?' title="'+k+'"':"")+"><span>"+q.getUTCDate()+"</span></td>");k=null;q.getUTCDay()===this.o.weekEnd&&c.push("</tr>");q.setUTCDate(q.getUTCDate()+1)}this.$picker.find(".datepicker-days tbody").empty().append(c.join(""));var t=this.$picker.find(".datepicker-months").find("th:eq(1)").text(b).end().find("span, a").removeClass("active");d.each(this.dates,function(a,c){c.getUTCFullYear()===b&&t.eq(c.getUTCMonth()).addClass("active")});(b<a||b>g)&&t.addClass("disabled");
b===a&&t.slice(0,e).addClass("disabled");b===g&&t.slice(f+1).addClass("disabled");if(this.o.beforeShowMonth!==d.noop){var u=this;d.each(t,function(a,c){d(c).hasClass("disabled")||!1===u.o.beforeShowMonth(new Date(b,a,1))&&d(c).addClass("disabled")})}c="";b=10*parseInt(b/10,10);k=this.$picker.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");--b;n=d.map(this.dates,function(a){return a.getUTCFullYear()});for(f=-1;11>f;f++)e=["year"],-1===f?e.push("old"):10===f&&e.push("new"),
-1!==d.inArray(b,n)&&e.push("active"),(b<a||b>g)&&e.push("disabled"),c+='<a class="'+e.join(" ")+'">'+b+"</a>",b+=1;k.html(c)}},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),a=a.getUTCMonth();switch(this.viewMode){case 0:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.$picker.find(".prev").css({visibility:"hidden"}):this.$picker.find(".prev").css({visibility:"visible"});Infinity!==this.o.endDate&&
b>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.$picker.find(".next").css({visibility:"hidden"}):this.$picker.find(".next").css({visibility:"visible"});break;case 1:case 2:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()?this.$picker.find(".prev").css({visibility:"hidden"}):this.$picker.find(".prev").css({visibility:"visible"}),Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()?this.$picker.find(".next").css({visibility:"hidden"}):this.$picker.find(".next").css({visibility:"visible"})}}},
click:function(a){a.preventDefault();a=d(a.target).closest("a, td, th, button");var b,c,e;if(1===a.length)switch(a[0].nodeName.toLowerCase()){case "th":case "button":switch(a[0].className){case "datepicker-switch":this.showMode(1);break;case "btn btn-prev":case "btn btn-next":case "prev":case "next":a=oa.modes[this.viewMode].navStep*(-1!==a[0].className.indexOf("prev")?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a);this._trigger("changeMonth",this.viewDate);break;
case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case "today":a=new Date;a=r(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);this.showMode(-2);b="linked"===this.o.todayBtn?null:"view";this._setDate(a,b);null===b&&(this.ignoreFocus=!0,this.element.focus());break;case "clear":this.clearDates()}break;case "a":a.is(".disabled")||this.isInput&&(!0===this.element.prop("readonly")||!0===this.element.prop("disabled"))||
(this.viewDate.setUTCDate(1),a.hasClass("month")?(e=1,c=a.parent().find("span,a").index(a),b=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(c),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(r(b,c,e))):(e=1,c=0,b=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(b),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(r(b,c,e))),this.showMode(-1),this.fill());break;case "td":!a.is(".day")||a.is(".disabled")||this.isInput&&(!0===
this.element.prop("readonly")||!0===this.element.prop("disabled"))||(e=parseInt(a.text(),10)||1,b=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth(),a.hasClass("old")?0===c?(c=11,--b):--c:a.hasClass("new")&&(11===c?(c=0,b+=1):c+=1),this._setDate(r(b,c,e)),this.ignoreFocus=!0,this.element.focus())}this.$picker.is(":visible")&&this._focused_from&&d(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);a||this.dates.clear();-1!==b?
(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(b):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(a));if("number"===typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a));b&&"view"!==b||(this.viewDate=a&&new Date(a));this.fill();this.setValue();b&&"view"===b||this._trigger("changeDate");var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input"));
c&&c.change();!this.o.autoclose||b&&"date"!==b||this.hide()},setViewDate:function(a){this._setDate(oa.parseDate(a,this.o.format,this.o.language),"view")},moveMonth:function(a,b){if(a){if(!b)return a;var c=new Date(a.valueOf()),d=c.getUTCDate(),g=c.getUTCMonth(),f=Math.abs(b),q;b=0<b?1:-1;if(1===f){if(f=-1===b?function(){return c.getUTCMonth()===g}:function(){return c.getUTCMonth()!==q},q=g+b,c.setUTCMonth(q),0>q||11<q)q=(q+12)%12}else{for(var h=0;h<f;h++)c=this.moveMonth(c,b);q=c.getUTCMonth();c.setUTCDate(d);
f=function(){return q!==c.getUTCMonth()}}for(;f();)c.setUTCDate(--d),c.setUTCMonth(q);return c}},moveYear:function(a,b){return this.moveMonth(a,12*b)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.$picker.is(":visible")){var b=!1,c,d,g=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;
c=37===a.keyCode?-1:1;a.ctrlKey?(this.moveYear(this.dates.get(-1)||t(),c),d=this.moveYear(g,c),this._trigger("changeYear",this.viewDate)):a.shiftKey?(this.moveMonth(this.dates.get(-1)||t(),c),d=this.moveMonth(g,c),this._trigger("changeMonth",this.viewDate)):(d=new Date(this.dates.get(-1)||t()),d.setUTCDate(d.getUTCDate()+c),d=new Date(g),d.setUTCDate(g.getUTCDate()+c));this.dateWithinRange(d)&&(this.focusDate=this.viewDate=d,this.setValue(),this.fill(),a.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;
c=38===a.keyCode?-1:1;a.ctrlKey?(this.moveYear(this.dates.get(-1)||t(),c),d=this.moveYear(g,c),this._trigger("changeYear",this.viewDate)):a.shiftKey?(this.moveMonth(this.dates.get(-1)||t(),c),d=this.moveMonth(g,c),this._trigger("changeMonth",this.viewDate)):(d=new Date(this.dates.get(-1)||t()),d.setUTCDate(d.getUTCDate()+7*c),d=new Date(g),d.setUTCDate(g.getUTCDate()+7*c));this.dateWithinRange(d)&&(this.focusDate=this.viewDate=d,this.setValue(),this.fill(),a.preventDefault());break;case 13:g=this.focusDate||
this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(g),b=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.$picker.is(":visible")&&(a.preventDefault(),"function"===typeof a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(b){this.dates.length?this._trigger("changeDate"):
this._trigger("clearDate");var f;this.isInput?f=this.element:this.component&&(f=this.element.find("input"));f&&f.change()}}else 27===a.keyCode&&this.show()},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a)));this.$picker.children("div").hide().filter(".datepicker-"+oa.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var kb=function(a,b){this.element=d(a);this.inputs=d.map(b.inputs,function(a){return a.jquery?a[0]:a});delete b.inputs;
Sa.call(d(this.inputs),b).bind("changeDate",d.proxy(this.dateUpdated,this));this.pickers=d.map(this.inputs,function(a){return d(a).data("datepicker")});this.updateDates()};kb.prototype={updateDates:function(){this.dates=d.map(this.pickers,function(a){return a.getUTCDate()});this.updateRanges()},updateRanges:function(){var a=d.map(this.dates,function(a){return a.valueOf()});d.each(this.pickers,function(b,c){c.setRange(a)})},dateUpdated:function(a){if(!this.updating){this.updating=!0;var b=d(a.target).data("datepicker").getUTCDate();
a=d.inArray(a.target,this.inputs);var c=a-1,e=a+1,g=this.inputs.length;if(-1!==a){d.each(this.pickers,function(a,c){c.getUTCDate()||c.setUTCDate(b)});if(b<this.dates[c])for(;0<=c&&b<this.dates[c];)this.pickers[c--].setUTCDate(b);else if(b>this.dates[e])for(;e<g&&b>this.dates[e];)this.pickers[e++].setUTCDate(b);this.updateDates();delete this.updating}}},remove:function(){d.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker}};var Ia=d.fn.datepicker,Sa=function(a){var b=
Array.apply(null,arguments);b.shift();this.each(function(){var c=d(this),e=c.data("datepicker"),g="object"===typeof a&&a;if(!e){var e=A(this,"date"),f=d.extend({},ca,e,g),f=y(f.language),g=d.extend({},ca,f,e,g);c.hasClass("input-daterange")||g.inputs?(e={inputs:g.inputs||c.find("input").toArray()},c.data("datepicker",e=new kb(this,d.extend(g,e)))):c.data("datepicker",e=new fa(this,g))}if("string"===typeof a&&"function"===typeof e[a])return e[a].apply(e,b),this});return this};d.fn.datepicker=Sa;var ca=
d.fn.datepicker.defaults={autoclose:!1,beforeShowDay:d.noop,beforeShowMonth:d.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,container:"body"},F=d.fn.datepicker.locale_opts=["format","rtl","weekStart"];
d.fn.datepicker.Constructor=fa;var R=d.fn.datepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),today:"Today",clear:"Clear"}},oa={modes:[{clsName:"days",navFnc:"Month",navStep:1},
{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return 0===a%4&&0!==a%100||0===a%400},getDaysInMonth:function(a,b){return[31,oa.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00");a=a.match(this.validParts);if(!b||!b.length||!a||0===a.length)throw Error("Invalid date format.");
return{separators:b,parts:a}},parseDate:function(a,b,c){function e(){var a=this.slice(0,f[h].length),b=f[h].slice(0,a.length);return a.toLowerCase()===b.toLowerCase()}if(a){if(a instanceof Date)return a;"string"===typeof b&&(b=oa.parseFormat(b));var g=/([\-+]\d+)([dmwy])/,f=a.match(/([\-+]\d+)([dmwy])/g),q,h;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){a=new Date;for(h=0;h<f.length;h++)switch(b=g.exec(f[h]),q=parseInt(b[1]),b[2]){case "d":a.setUTCDate(a.getUTCDate()+q);break;case "m":a=fa.prototype.moveMonth.call(fa.prototype,
a,q);break;case "w":a.setUTCDate(a.getUTCDate()+7*q);break;case "y":a=fa.prototype.moveYear.call(fa.prototype,a,q)}return r(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),0,0,0)}f=a&&a.match(this.nonpunctuation)||[];a=new Date;var g={},k="yyyy yy M MM m mm d dd".split(" ");q={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2E3+b)},m:function(a,b){if(isNaN(a))return a;for(--b;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-
1);return a},d:function(a,b){return a.setUTCDate(b)}};var l;q.M=q.MM=q.mm=q.m;q.dd=q.d;a=r(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var n=b.parts.slice();f.length!==n.length&&(n=d(n).filter(function(a,b){return-1!==d.inArray(b,k)}).toArray());if(f.length===n.length){var p;h=0;for(p=n.length;h<p;h++){l=parseInt(f[h],10);b=n[h];if(isNaN(l))switch(b){case "MM":l=d(R[c].months).filter(e);l=d.inArray(l[0],R[c].months)+1;break;case "M":l=d(R[c].monthsShort).filter(e),l=d.inArray(l[0],R[c].monthsShort)+
1}g[b]=l}for(h=0;h<k.length;h++)b=k[h],b in g&&!isNaN(g[b])&&(c=new Date(a),q[b](c,g[b]),isNaN(c)||(a=c))}return a}},formatDate:function(a,b,c){if(!a)return"";"string"===typeof b&&(b=oa.parseFormat(b));c={d:a.getUTCDate(),D:R[c].daysShort[a.getUTCDay()],DD:R[c].days[a.getUTCDay()],m:a.getUTCMonth()+1,M:R[c].monthsShort[a.getUTCMonth()],MM:R[c].months[a.getUTCMonth()],yy:a.getUTCFullYear().toString().substring(2),yyyy:a.getUTCFullYear()};c.dd=(10>c.d?"0":"")+c.d;c.mm=(10>c.m?"0":"")+c.m;a=[];for(var e=
d.extend([],b.separators),g=0,f=b.parts.length;g<=f;g++)e.length&&a.push(e.shift()),a.push(c[b.parts[g]]);return a.join("")},headTemplate:'<thead><tr><th><button class="btn btn-prev" type="button"><i class="icon icon-chevron-left icon-white"></i></button></th><th colspan="5" class="datepicker-switch"></th><th><button class="btn btn-next" type="button"><i class="icon icon-chevron-right icon-white"></i></button></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};
d.fn.datepicker.DPGlobal=oa;var n=function(a,b,c,e,g,m,q,h){var k={},z,l,n,p=a;e=!0;if(void 0!==p.selector||void 0!==p.jquery)z=p,p=p[0];return p?-1!==(" "+p.className+" ").indexOf(" configured ")?c?(c.resolveWith(m,[b,g]),c):!0:void 0!==d.fn[b]&&-1===(" "+p.className+" ").indexOf(" ui-"+b.toLowerCase()+" ")||f.ReactComponents&&f.ReactComponents[b]?(a=p.getAttribute("data-configure"),void 0!==a&&null!==a&&""!==a?(z||(z=d(p)),null===c?e=new Promise(function(a,c){z.configure().then(function(c){if(-1===
(" "+p.className+" ").indexOf(" ui-"+b.toLowerCase()+" ")||f.ReactComponents&&f.ReactComponents[b]){k=d.extend({},g);if(d.isArray(c))for(n=c.length,l=0;l<n;l++)k=d.extend(k,c[l]);else k=d.extend(k,c);f.ReactComponents&&f.ReactComponents[b]?ReactDOM.render(React.createElement(f.ReactComponents[b],{context:z}),p):d.fn[b].call(z,k);void 0!==k.deferred?Promise.all([k.deferred]).then(function(){a(g)}):a(g)}})}):(e=c,z.configure().then(function(a){if(-1===(" "+p.className+" ").indexOf(" ui-"+b.toLowerCase()+
" ")||f.ReactComponents&&f.ReactComponents[b]){k=d.extend({},g);if(d.isArray(a))for(n=a.length,l=0;l<n;l++)k=d.extend(k,a[l]);else k=d.extend(k,a);f.ReactComponents&&f.ReactComponents[b]?ReactDOM.render(React.createElement(f.ReactComponents[b],{context:z}),p):d.fn[b].call(z,k);void 0!==k.deferred?Promise.all([k.deferred]).then(function(){c.resolveWith(m,[b,g])}):c.resolveWith(m,[b,g])}}))):(p.className+=" configured",z||(z=d(p)),f.ReactComponents&&f.ReactComponents[b]?ReactDOM.render(React.createElement(f.ReactComponents[b],
{context:z}),p):d.fn[b].call(z,g),void 0!==k.deferred?null===c?e=k.deferred:(e=c,Promise.all([k.deferred]).then(function(){c.resolveWith(m,[b,g])})):c&&(e=c,c.resolveWith(m,[b,g]))),e):void 0!==d.fn[b]?(-1===(" "+p.className+" ").indexOf(" role-"+b+" ")&&(p.className=p.className+" role-"+b,z||(z=d(p)),k=d.extend({},g),d.fn[b].call(z,k)),void 0!==k.deferred?null===c?e=k.deferred:(e=c,Promise.all([k.deferred]).then(function(){c.resolveWith(m,[b,g])})):c&&(e=c,c.resolveWith(m,[b,g])),e):void 0!==m&&
void 0!==m["_"+b]?(-1===(" "+p.className+" ").indexOf(" role-"+b+" ")&&(p.className=p.className+" role-"+b,z||(z=d(p)),m["_"+b].call(m,z,k)),void 0!==k.deferred?null===c?e=Promise.all([k.deferred]):Promise.all([k.deferred]).then(function(){c.resolveWith(m,[b,g])}):c&&(e=c,c.resolveWith(m,[b,g])),e):!1:!1},hb=function(a,b,c,d,g){var e,q=void 0!==a.selector||void 0!==a.jquery?a[0]:a,h,k;if(!q)return!0;(h=q.getAttribute("data-role"))||void 0===d||null===d||(h=q.getAttribute("data-"+d));h?!0!==(" "+q.className+
" ").indexOf(" role-"+h+" ")?(e=n(a,h,null,null,b,c),!1===e?e=new Promise(function(d,e){k=q.getAttribute("data-fiber_require");k=void 0!==k&&null!==k?k.split(","):[];k.push(h);try{if("undefined"!==typeof N)f.define||(f.define=W,f.define.amd={jQuery:!0},f.define("jquery",[],function(){return jQuery})),N([h.toLowerCase()],function(){q.removeAttribute("data-fiber_require");Promise.all([n(a,h,null,null,b,c)]).then(function(){d(b)})});else if(void 0!==f[f.moduleloader])f[f.moduleloader]([h.toLowerCase()+
(f.require?"":".js")],function(){q.removeAttribute("data-fiber_require");Promise.all([n(a,h,null,null,b,c)]).then(function(){d(b)})});else throw Error(""+h+" not found.");}catch(qa){}}):!0===e&&!0===g&&(e=new Promise(function(a,c){a(b)}))):!0===g?!0===g&&(e=new Promise(function(a,c){a(b)})):e=!0:!0===g?!0===g&&(e=new Promise(function(a,c){a(b)})):e=!0;return e};d.fn.extend({addRole:function(a,b,c){var e=d(this);e.setSingleDataAttr("role",a);return 0<e.length?(a=d.map(e,function(a){return hb(a,b,c,
void 0,!0)}),Promise.all(a)):!1},requireRole:function(a){return Promise.all([hb(this,a,this,void 0,!0)])},requireDeferredRole:function(a){return Promise.all([hb(this,a,this,"deferredrole",!0)])},shake:function(){return this}});d.fn.datepicker&&void 0!==d.fn.datepicker.dates&&(d.fn.datepicker.dates.en.daysMin=d.fn.datepicker.dates.en.daysShort);d.widget("ui.help",{options:{icon:"question-sign",helptype:"question",offset:0,btnclass:null},_create:function(){var a=this.options,b=this.element;b.getDataAttr("helptype")&&
(a.helptype=b.getDataAttr("helptype"));b.getDataAttr("btnclass")&&(a.btnclass=b.getDataAttr("btnclass"));if(void 0!==b.getDataAttr("offset")){var c=parseFloat(b.getDataAttr("offset"));isNaN(c)||(a.offset=c-parseInt(b.css("margin-left").replace(/\s?px/gi,""),10))}"alert"===a.helptype&&(a.icon="alert");var e=d('<button type="button" style="'+(0!==a.offset?"margin-left:"+a.offset+"px; z-index: 9999; position: relative;":"")+'" class="btn btn-icon btn-help '+(a.btnclass?a.btnclass:"")+'"></button>'),
c=b.attr("id"),g=c+"_btn";"info"===a.helptype?e.append('<span><i class="icon icon-info-circle"></i></span>'):e.append('<i class="icon icon-'+a.icon+' icon-white icon-custom"></i>');if(void 0===c||null===c)c=u.createUUID(),b.attr("id",c);e.attr("id",g);this.element.hasClass("include-hidden")&&e.addClass("include-hidden");e.qpopup({position:"middleright",targetref:"#"+c,classname:"",targetreftype:"html",targetrefwrapper:'<div class="popup-content" style="max-width: 250px;"></div>'});a=b.parent();!0===
a.hasClass("checkbox")||!0===a.hasClass("radio")||!0===a.hasClass("help-append")||!0!==a.parent().hasClass("control-group")?b.after(e):a.prepend(e);b.on("hide",function(){e.hide()}).on("show",function(){b.hide();e.show().removeClass("btn-hidden include-hidden")});b.addClass("ui-help")},close:function(){this.element.parent().find(".btn-help").qpopup("close")}});d.widget("ui.print",{options:{report:null,reporturl:null,window:null,location:!1,view:"ui.web.reports.dialog.download"},_create:function(){var a=
this,b=a.element,c=a.options;void 0!==b[0].parentElement&&null!==b[0].parentElement||b.appendTo(document.body);b.addClass("ui-print").dataOptions(c,{list:["report","reporturl","window","?location"]}).on("click",function(){var b=d(this),c=b.closest(".ui-inlineview,.ui-inlinelist"),b=u.templateVariables({element:c,options:{dynamic:!1,inherit:!0,client:!0}},{element:b,options:{dynamic:!1,inherit:!1,client:!1}});a._load(b)})},_loading:function(a,b,c){if(void 0===a||null===a||"string"!==typeof a)if(!0===
this.element.hasClass("ui-loading"))try{this.element.loading("adjust")}catch(e){}else try{this.element.loading(a)}catch(e){}else if(!0===this.element.hasClass("ui-loading"))try{this.element.loading(a,b,c)}catch(e){}},run:function(a,b){this._load(a,b)},load:function(a){this._load(a)},_load:function(a,b){var c=this,e=c.options;c._loading();null!==e.reporturl?!0===e.location?(u.location(e.reporturl+"&"+d.param(a),e.window?(e.window+"").replace(/\{\{UUID\}\}/gi,u.createUUID()):"",{width:400,height:400,
left:50,top:50,toolbar:0,location:0,directories:0,status:0,menuBar:0,scrollBars:1,resizable:0,focus:!0}),c._loading("complete")):d.ajax({url:e.reporturl,data:u.packdata(a),dataFilter:u.ajaxDataFilter,dataType:"json",success:function(a,f){if("success"==f){var g=u.unpackdata(a);c.report=g;b&&b(a);g.reportstatusmsg&&""!==g.reportstatusmsg?(c._loading("complete"),u[g.reportstatustype]({message:g.reportstatusmsg,type:g.reportstatustype}).on("dialogformbeforeclose",function(){})):d('<div data-configure="reports.dialog.download"></div>').dialogForm({view:e.view,
targetproperties:["filename","uid","format"],destroyOnClose:!0,data:g,open:function(){c._loading("complete")}})}},error:function(a,b,c){u.ajaxError(a,b,c)}}):c._loading("complete")}});d.widget("ui.loading",{options:{modal:!0,xoffset:0,yoffset:0,loading:!0,closedelay:400,loadingtext:"loading",loaderclass:"loading-background"},_create:function(){var a=this.options,b=this.element,c,e;this.closetimer=null;a.loaderUUID=u.createUUID();b.addClass("ui-loading ui-loading-current");b.dataOptions(a,{list:["?loading"]});
!0===a.loading&&(!0===a.modal?(e=document.createElement("div"),e.className="loading-modal-container",e.setAttribute("id","loading-modal-"+a.loaderUUID),c=document.createElement("div"),c.className="loading-modal",e.appendChild(c),c=d.loaderhtml(a),c.setAttribute("id","loading-"+a.loaderUUID),e.appendChild(c)):(e=d.loaderhtml(a),e.setAttribute("id","loading-"+a.loaderUUID)),b[0].appendChild(e),c&&(e=c),this._adjustLoading(e))},_resetCloseTimer:function(){null!==this.closetimer&&(this.closetimer=clearTimeout(this.closetimer),
this.closetimer=null)},clearclose:function(){this.element.addClass("ui-loading-current");this._resetCloseTimer()},complete:function(){this.element.removeClass("ui-loading-current");this.destroy()},_hideshow:function(a){this.element.children("#loading-"+this.options.loaderUUID).css("display",a)},hide:function(){this._hideshow("none")},show:function(){this._hideshow("block")},adjust:function(a,b){this._adjust(a,b,!1)},_adjustModal:function(a){var b=a.children().first();b.hasClass("loading-modal-container")&&
(a=a.parent().height(),a!==b.height()&&b.height(a))},_adjustLoading:function(a){},_adjust:function(a){var b=this.options,c=this.element;a&&"scroll"===a||(a=this.element.children("#loading-"+b.loaderUUID),this.clearclose(),!0===b.loading&&(!0===b.modal&&0<c.find(".loading-modal").length&&(b=c.find(".loading-modal"),this._adjustModal(b,!0)),0<a.length&&this._adjustLoading(a)))},_setOption:function(a,b){var c=this.options,e=this.element;"loadingtext"===a&&(c=e.find("#loading-"+c.loaderUUID),0>=c.length&&
(c=d("body>.loading")),c=c.find(".loading-text"),0<c.length&&(c[0].innerHTML=b),this._adjust("",!1,!0));this._superApply(arguments)},destroy:function(){var a=this.element;a.removeClass("ui-loading");a.removeClass("ui-loading-current");a.find("#loading-modal-"+this.options.loaderUUID).remove();a.find("#loading-"+this.options.loaderUUID).remove();this._super()}});d.loaderhtml=function(a){var b=document.createElement("div");b.className="loading "+(a&&a.loaderclass?a.loaderclass:"loading-background");
var c=document.createElement("span");c.className="loading-image";var d=document.createElement("span");d.className="loading-text";d.innerHTML=a&&a.loadingtext?a.loadingtext:"";b.appendChild(c);b.appendChild(d);return b};d.widget("ui.validation",{options:{item:null,text:null,fieldGroup:!1,data:null,tooltip:!0,active:!0,type:"invalid",validationClass:null,content:null,fieldid:null,reread:null,prerevert:null},_create:function(){this._process(this.options.data)},_process:function(a){var b=this,c=b.options,
e=b.element,g;e.removeClass("ui-validation-"+c.type);e.removeClass(c.validationClass);d.extend(c,a);null===c.validationClass&&(c.validationClass="validation-"+c.type);c.validationClass="validation "+c.validationClass;e.addClass("ui-validation-"+c.type+" "+c.validationClass);a&&void 0!==a.text&&null!==a.text?c.content={text:a.text,ajax:!1,button:!0,title:{text:c.type,button:!0}}:null===c.content&&null!==c.text?c.content={text:c.text,ajax:!1,button:!0,title:{text:c.type,button:!0}}:"conflict"===c.type&&
(c.content={text:'<button class="btn btn-text" data-event="revert" title="Revert to saved"><i class="icon icon-history"></i></button>&nbsp;&nbsp;<button class="btn btn-text" data-event="undorevert" title="Undo Revert"><i class="icon icon-undo"></i></button>',ajax:!1,button:!0},c.tooltip=!0);a=e.closest(".control-group,fieldset").addClass(c.type);e.trigger("error"===c.type?"invalid":c.type,{item:c.item,data:c.data,text:c.text,content:c.content});if(!0===c.tooltip&&null!==c.content&&null!==c.content.text&&
"string"==typeof c.content.text){e.addClass("ui-validation-"+c.type+"-hastooltip");!0===a.isTag("fieldset")?(g=a.find(".alert-"+c.type),0<g.length?g[0].innerHTML=c.text:a.prepend('<div class="alert alert-'+c.type+' alert-validation">'+c.text+"</div>")):(g=a.find(".controls ."+b.options.type+"-help-block"),0<g.length?g[0].innerHTML=c.text:a.find(".controls").append('<span class="help-block '+c.type+'-help-block validation-help-block">'+c.text+"</span>"));if(e.isTag("fieldset")||e.hasClass("control-group")||
e.isTag("span")&&!e.hasClass("uneditable-input"))c.fieldGroup=!0;!0!==e.is(":visible")?b.ishidden=!0:b.ishidden=!1;setTimeout(function(){b._rendertooltip()},200)}},_rendertooltip:function(){var a=this,b=a.options,c=a.element,e,g=!1;if(c.qtip("api")){if(c.qtip("api").set("content.text",b.content.text),c.qtip("api").set("content.title",b.content.title||""),!0!==a.ishidden&&!0===a.options.active)try{c.qtip("api").hide().show().reposition()}catch(m){}}else e=c.closest(".modal-scrollable"),1>e.length?
e=d(f):g=e,c.qtip({content:b.content,position:{at:!0===b.fieldGroup?"right middle":"right top",my:"left middle",viewport:e,container:g,adjust:{method:"flip",x:0,y:!0===b.fieldGroup?0:15}},events:{render:function(){a._tooltiponrender()}},show:{event:!1,ready:!0===a.ishidden||!0!==a.options.active?!1:!0},overwrite:!0,hide:!1,style:{classes:"ui-tooltip ui-tooltip-validation ui-tooltip-validation-"+b.type}})},_tooltiponrender:function(){var a=this,b=a.element.qtip("api"),c=null;null!==b&&void 0!==b.elements&&
(c=b.elements.content);null!==c&&(c.on("click",".btn",function(b){b.preventDefault();b.stopPropagation();b=d(b.currentTarget).getDataAttr("event");var c;b&&!1!==a._trigger("click"+b)&&null!==a.options.fieldid&&""!==a.options.fieldid&&(c=u.cform(a.element).find("#"+a.options.fieldid),0<c.length&&("revert"===b?null===a.options.prerevert&&(a.options.prerevert=P(c),P(c,null,a.options.reread)):"undorevert"===b&&null!==a.options.prerevert&&(P(c,null,a.options.prerevert),a.options.prerevert=null)))}),c.find('[data-rel="tooltip"]').qtip({content:{text:" ",
ajax:!1},show:{event:"mouseenter"},hide:{event:"mouseleave"},events:{show:function(a){a=d(a.originalEvent.target).closest('[data-rel="tooltip"]');var b=d(this).qtip("api");null!==b&&void 0!==b.elements&&(b=b.elements.content,b.html(a.getDataAttr("title")))}},style:{textAlign:"center",classes:"ui-tooltip-tooltip",name:"dark",width:"auto"},position:{tip:{width:14,height:8},at:"top center",my:"bottom center",viewport:d(f),adjust:{method:"flip",x:0,y:0}}}))},process:function(a){this._process(a)},adjust:function(a,
b){var c=this.element,d=c.closest(".ui-inlineview-scrollmanaged"),g=d.offset().top,d=d.height(),f=c.offset().top;c.is(":visible")&&0<f&&d+g-30>f?this.active(a,b):this.inactive(a,b)},active:function(){var a=this.element;this.options.active=!0;if(a.hasClass("ui-validation-"+this.options.type+"-hastooltip")&&!0===a.is(":visible")&&!0===this.options.active){this.ishidden&&!0===this.ishidden&&(this.ishidden=!1,a.qtip().show());try{a.qtip("api").reposition()}catch(b){}}},inactive:function(){var a=this.element;
this.options.active=!1;!a.hasClass("ui-validation-"+this.options.type+"-hastooltip")||this.ishidden&&!0===this.ishidden||(this.ishidden=!0,(a=a.qtip("api"))&&a.hide())},close:function(){this.destroy()},destroy:function(){var a=this.element;a.trigger("valid",{type:this.options.type});try{a.qtip("destroy")}catch(b){}try{a.removeClass("ui-validation-"+this.options.type+"-hastooltip")}catch(b){}a.removeClass("ui-validation-"+this.options.type);a.removeClass(this.options.validationClass);a.closest(".control-group."+
this.options.type).removeClass(this.options.type).find(".controls ."+this.options.type+"-help-block").remove();this._super()}});d.widget("ui.dialogForm",d.Widget,{options:{autoOpen:!0,pAutoOpen:!1,chain:!0,buttons:null,modal:!0,width:"auto",height:"auto",viewstate:null,className:"",dialogClass:"dialog-form",dialogFooterClass:"dialog-footer",backdrop:"static",keyboard:!1,maxOpenWidth:1027,maxOpenHeight:"auto",targetproperties:null,closeOnSave:!0,closeOnRedirect:!1,data:null,openerid:null,autoLoad:!0,
destroyOnClose:!1,removeOnDestroy:!0,view:null,viewurl:null,readurl:null,read:null,topic:null,topicpublish:null,topicsubscribe:null,parenttopic:null,redirectOnCancel:null,locationOnCancel:null,resizable:!1,draggable:!1,updateonselected:!0,resetonclose:!0,resetonlock:!0,ignoretopicreset:!0,parentform:null,manager:"body"},_create:function(){var a=this;a.createdDeferred=new Promise(function(b,c){a._createview(b,c)});return a.createdDeferred},_createview:function(a,b){var c=this,d=c.options,g=c.element;
g.addClass("dialog ui-dialogform modal hide fade "+d.className);g.dataOptions(d,{list:u.defaultOptList.concat(["?keyboard","backdrop"])});g.setTargetProperties(d);g.setSingleDataAttr("role","dialog");d.pAutoOpen=!0===d.autoOpen?!0:!1;d.autoOpen=!1;null===d.viewstate&&null!==d.data&&void 0!==d.data.viewstate&&(d.viewstate=d.data.viewstate);g.on("hide",function(a){void 0!==c.allowhide&&!0===c.allowhide?c.allowhide=!1:-1!==(" "+a.target.className+" ").indexOf(" ui-dialogform ")&&(a.preventDefault(),
c.close(a))});g.on("modalscroll",function(){c._adjust("scroll")});g.on("shown",function(){c.active("open");c._position(c.options.position);try{u.topic("resize").publish()}catch(m){}});f.contextParent&&(d.manager=f.contextParent);void 0!==g[0].parentElement&&null!==g[0].parentElement||g.appendTo(f.contextParent?f.contextParent:document.body);g.on("inlineformcancel.dialogform inlineformsuccess.dialogform inlineforminvalidlock.dialogform","form",function(a,b){if(!0===c.options.closeOnSave){var e=void 0!==
b?void 0!==b.__redirect?b.__redirect:b.__REDIRECT:null;!0!==d.closeOnRedirect&&void 0!==e&&null!==e&&""!==e||b&&void 0!==b.__update&&(!0===b.__update||"true"===(b.__update+"").toLowerCase())||c.close()}}).on("close",function(a){c.close(a)}).on("inlineviewadjustprivate",function(a,b){c._adjust(b,!1,!0)});c.load(d.data,a,b);c._trigger("created")},_setOption:function(a,b){this.options[a]=b;this._superApply(arguments)},_title:function(a){this.options.title?a.html(this.options.title):a.html("&#160;")},
templatevariables:function(a){return this.element.inlineView("templatevariables",a)},update:function(a){this.load(a)},load:function(a,b,c){var d=this;c=this.options;var g=d.element;!0===g.hasClass("ui-inlineview")?(Ya(g),void 0===a||null===a||void 0!==a["data-fiber_id"]&&null!==a["data-fiber_id"]||(a["data-fiber_id"]=g.getDataAttr("fiber_id")),void 0!==a&&null!==a&&void 0!==a.viewstate&&(c.viewstate=a.viewstate,g.inlineView("option","viewstate",c.viewstate)),g.inlineView("update",a),d._load()):(u.setdata(g,
a,{includeUndefined:!0,chain:c.chain}),g.inlineView({readurl:c.readurl,updateonselected:c.updateonselected,inheritfilters:!1,openerid:c.openerid,resetonclose:c.resetonclose,resetonlock:c.resetonlock,viewstate:c.viewstate,viewurl:c.viewurl,parentId:"self",topic:c.topic,topicsubscribe:c.topicsubscribe,topicpublish:c.topicpublish,parenttopic:c.parenttopic,dialogForm:!0,enforceFocus:!0,loading:!1,cache:!0,isDialogForm:!0,autoLoad:!0,ignoretopicreset:c.ignoretopicreset,parentform:c.parentform,update:function(a,
b){d._onUpdate(a,b)},updateview:function(){d._updateviews();d._load()},adjust:function(a,b){d._adjust(b)},created:function(){setTimeout(function(){b()},200)}}).on("click","button",function(a){d._buttonClick(a)}));g=null},adjust:function(a,b){this._adjust(a,b,!1)},_adjust:function(a,b,c){a&&"scroll"===a?!a||"scroll"!==a||c&&!0===c||this.element.hasClass("ui-inlineview")&&this.element.inlineView("adjust","scroll"):this._size()},_onUpdate:function(a,b){var c=this.options;this._trigger("update",0,b);
this._position(c.position)},_buttonClick:function(a){var b=d(a.currentTarget),c=b.getDataAttr("event"),e=!1,c=void 0===c?b.text().replace(/[^a-z0-9]/gi,"").toLowerCase():c.toLowerCase();this._trigger("click"+c);switch(c){case "close":case "cancel":case "ok":"cancel"==c&&(a.which="dialog.cancel"),this.close(a,{type:c,suffix:b.getDataAttr("eventsuffix")}),e=!0}this._trigger("buttonclick",0,{type:c,handled:e,suffix:b.getDataAttr("eventsuffix")})},isOpen:function(){return this.element.hasClass("in")},
open:function(){var a=this;Promise.all([a.createdDeferred]).then(function(){try{d(".qtip.ui-tooltip-validation").qtip("hide")}catch(c){}var b=a.element;void 0===b.data("modal")?(a.modalcreated=!0,b.modal(a.options)):b.modal("show");!0===a.options.pAutoOpen&&b.hasClass("include-hidden")&&(b.removeClass("include-hidden"),a._position());a._trigger("open")})},_open:function(){},_size:function(){var a;a=this.element;var b=a.height(),c=a.find(".modal-body");!0===self.adjustedHeight&&c.css({height:"auto"});
var d=0<c.length?c.height():0;a=a.siblings(".modal-backdrop");a=0<a.length?a.height():0;0<a&&b+60>a&&0<d&&(self.adjustedHeight=!0,c.height(a-(b-d)-60));this._position()},_position:function(){var a=this.element.width();document.body&&769>document.body.offsetWidth||this.element.css({"margin-left":a/2*-1});try{this.modalcreated&&void 0!==this.element.data("modal")&&this.element.modal("layout")}catch(b){}},_fixposition:function(a){var b=this.element,c=this.resizeTimeout;if(void 0!==c||null!==c)c=clearTimeout(c),
c=null;!0===a?b.addClass("ui-dialog-resizing"):this.resizeTimeout=setTimeout(function(){b.removeClass("ui-dialog-resizing")},200)},_updateviews:function(){this._trigger("updateviews")},_load:function(){var a=this.options;this._trigger("load");!0===a.pAutoOpen&&!0!==this.isOpen()?this.open():!0===this.isOpen()&&this._position(a.position)},destroy:function(){this.element.off(".dialogform").removeClass("ui-dialogform").inlineView("destroy")},populate:function(a){d.ui.inlineForm&&this.element.filter(".ui-inlineview").inlineView("views",
"form").filter(".ui-inlineform").inlineForm("populate",a)},inactive:function(a){this.element.inlineView("inactive",a)},focus:function(){this.element.inlineView("focus")},active:function(a){this.element.inlineView("active",a)},close:function(a,b){var c=this,e=c.options,g=c.element;c.allowhide=!0;if(!0!==g.hasClass("in"))return c;c._trigger("beforeClose",0,b);void 0!==e.redirectOnCancel&&null!==e.redirectOnCancel&&d.f.redirect(e.redirectOnCancel);void 0!==e.locationOnCancel&&null!==e.locationOnCancel&&
d.f.location(e.locationOnCancel);g.inlineView("close");!0===g.hasClass("ui-loading")&&g.loading("complete");c.modalcreated&&void 0!==g.data("modal")&&g.modal("hide");c._trigger("close");e.openerid&&(g=d("#"+e.openerid),g.focus().trigger("focus").trigger("restorefocus"));if(!0===e.destroyOnClose)if(d.fn.modalmanager)c.element.one("hidden",function(){c._removeModal()});else c._removeModal();return this},_removeModal:function(){d.fn.modalmanager&&this.modalcreated&&void 0!==this.element.data("modal")&&
this.element.modal("destroy");this.destroy();this.element[0].innerHTML="";!0===this.options.removeOnDestroy&&this.element.remove()}});d.widget("ui.viewStack",{options:{selected:null,selectedroutevalue:null,pushroute:!1,previousroute:null,chain:!0,historyEnabled:!1,read:null,parentId:null,animate:!0,readurl:null,autoupdate:!0,routeEnabled:!0,selectedparam:null,defaultSelected:null,viewlayout:null},_create:function(){var a=this,b=a.options,c,e=a.element[0],g=a.element;c=g.children();var f,q,h,k=c.filter("[data-route]");
g.dataOptions(b,{list:"read ?autoupdate defaultSelected ?historyEnabled selectedparam ?chain ?animate ?pushroute viewlayout ?routeEnabled".split(" ")});null===b.viewlayout&&(b.viewlayout="stack");"stack"!==b.viewlayout&&(b.routeEnabled=!1,b.chain=!1,b.animate=!1);!0!==b.historyEnabled||e.getAttribute("data-selectedroute")||e.setAttribute("data-selectedroute","");e.className=e.className+" ui-viewstack viewstack viewstack-"+b.viewlayout;e.setAttribute("data-fiber_id","viewstack-"+u.createUUID());c.addClass("viewstack-child").attr("data-loadviewts",
"");c.not(".viewstack-child-default").not(".viewstack-child-selected").addClass("inactive-view");c.filter(".viewstack-child-default").addClass("viewstack-child-selected").removeClass("viewstack-child-default");c=g.attr("id");if(void 0===c||null===c||""===c)c="viewstack-"+u.createUUID(),e.setAttribute("id",c);null===b.defaultSelected&&(b.defaultSelected=g.children().first().attr("id"));if(!0===b.routeEnabled&&0<k.length)for(u.route(c).setOptions({historyEnabled:b.historyEnabled,selectedparam:b.selectedparam}),
null!==b.defaultSelected&&u.route(c).add("default/","default",function(c){if(!a._allownavigate())return!1;a._setSelected(d.extend({},c,{selectedroute:b.defaultSelected}),null,!0)}),h=k.length,q=0;q<h;q++){if(f=k[q].getAttribute("data-route"))for(f=f.split(","),g=f.length,e=0;e<g;e++)a._setupRoute(c,f[e])}else b.routeEnabled=!1,a._setSelected({selectedroute:b.defaultSelected?b.defaultSelected:g.children().first().attr("id")},null,!0);a._trigger("created")},_setupRoute:function(a,b){var c=this,e=b.split("/")[0];
u.route(a).add(b,e,function(a){var b=!1;if(!c._allownavigate())return!1;a&&a.forceload&&!0===a.forceload&&(b=!0);c._setSelected(d.extend({},a,{selectedroute:e}),null,b)})},addview:function(a){var b=document.createElement("div"),c=a.id?a.id:"viewstack-child-"+u.createUUID();b.setAttribute("id",c);a.view&&b.setAttribute("data-view",a.view);a["class"]&&(b.className=a["class"]);this.element[0].appendChild(b);this.element.find("#"+c).addClass("viewstack-child");this._loadview({},a,!0)},removeview:function(){},
_setOption:function(a,b){this.options[a]=b;"selected"===a&&this._setSelected({selectedroute:b},null,!1);this._superApply(arguments)},selected:function(){return this.element.find(".viewstack-child-selected")},_allownavigate:function(){var a;return!0===this.options.historyEnabled&&(a=this._callInlineView("allownavigate"),"boolean"===typeof a&&!0!==a)?!1:!0},load:function(a,b){var c,e,g,f;"string"===typeof a?(c=a,g={selectedroute:c}):(c=a.selectedroute,g=a);b&&void 0!==b.previousroute&&(g=d.extend({},
g,{previousroute:b.previousroute}));this._allownavigate()&&(!0===this.options.routeEnabled?(e=u.route(this.element.attr("id")),!0===/\?do=/i.test(c)?e.loadurl(c,!1,g,!0,this.options.pushroute):(f=e.pages[c]||e.findpage(c,!0),c=u.routeutils.build(f?f.url:c,d.extend(this.templatevariables({inherit:!0}),b?b.data:null),b?b.map:null),e.load(c,!1,g,!0,this.options.pushroute))):!0!==/\?do=/i.test(c)&&this._setSelected(g,b,!0))},_callInlineView:function(a,b,c){var d;if("stack"===this.options.viewlayout){d=
this.element.find("#"+this.options.selected);if(1>d.length||!0!==d.hasClass("viewstack-child"))d=this.element.find('[data-route*="'+this.options.selected+'"]');return d.filter(".ui-inlineview").inlineView(a,b,c)}return this.element.children(".viewstack-child-selected").filter(".ui-inlineview").inlineView(a,b,c)},adjust:function(a,b){this._callInlineView("adjust",a,b)},active:function(a,b){this._callInlineView("active",a,b)},inactive:function(a,b){this._callInlineView("inactive",a,b)},refresh:function(a,
b){this._callInlineView("refresh",a,b)},reset:function(){this._setSelected({selectedroute:this.options.defaultSelected},null,!0)},templatevariables:function(a){return this.element.dataAttr(a)},rewrite:function(a){this._updateroute(a,!0)},_updateroute:function(a,b){var c,e,g;!0===this.options.routeEnabled&&(""!==location.hash.replace(/^#+/,"")||this.options.selected!==this.options.defaultSelected)&&(c=u.route(this.element.attr("id")),e=c.pages[this.options.selected]||c.findpage(this.options.selected))&&
(g=d.extend({fiber_currentpage:this.element.getDataAttr("fiber_currentpage"),fiber_replacedhash:this.element.getDataAttr("fiber_replacedhash")},this.templatevariables({inherit:!0}),a?a:null),(e=u.routeutils.build(e.url,g,null,null,!0))&&""!==e&&(b&&!0===b?c.rewrite(e):c.load(e,!1,{},!1,this.options.pushroute)))},update:function(a,b){var c=this.element,d=this.options,g=a&&a["data-fiber_id"]?a["data-fiber_id"]:null,f;f=!1;void 0!==b&&null!==b&&!0===b&&(f=!0);var q=!0===f?!1:!0;c.trigger("resize.viewstack");
if(void 0===g||null===g||null!==d.parentId&&g==d.parentId||null===d.parentId&&g==c.closest(".ui-inlineview,.ui-inlinelist,.ui-viewstack").first().getDataAttr("fiber_id")||null===d.parentId&&g==c.parents(".ui-inlineview,.ui-inlinelist,.ui-viewstack").first().getDataAttr("fiber_id"))if(!0===d.historyEnabled&&a.selectedroute&&a.selectedroute!==d.selected){if(this._allownavigate()){g=c.find("#"+d.selected);if(1>g.length||!0!==g.hasClass("viewstack-child"))g=c.find('[data-route*="'+d.selected+'"]');f=
c.find("#"+a.selectedroute);if(1>f.length||!0!==f.hasClass("viewstack-child"))f=c.find('[data-route*="'+a.selectedroute+'"]');g.getDataAttr("fiber_id")!==f.getDataAttr("fiber_id")?(d.selected=a.selectedroute,this._setSelected(a,null,!0)):d.selected=a.selectedroute}}else{a.fiber_currentpage&&c.setSingleDataAttr("fiber_currentpage",a.fiber_currentpage);a.fiber_replacedhash&&c.setSingleDataAttr("fiber_replacedhash",a.fiber_replacedhash);u.setdata(c,a,{chain:d.chain,diffinherited:q,diff:q});this._updateroute(a,
!0);var q=c.attr("data-fiber_diff")||"",h=this.templatevariables({inherit:!0});if(d.selectedproperties)for(var k=0,l=d.selectedproperties.length;k<l;k++)a[d.selectedproperties[k]]&&(h[d.selectedproperties[k]]=a[d.selectedproperties[k]]);h["data-fiber_id"]=c.getDataAttr("fiber_id");!0===f||""!==q?(c.attr("data-fiber_diff_i",""),this._callInlineView("update",h,b)):void 0!==g&&(null!==d.parentId&&g===d.parentId||null===d.parentId&&g===c.parents(".ui-inlineview,.ui-inlinelist,.ui-viewstack").first().getDataAttr("fiber_id"))&&
(q=c.attr("data-fiber_diff_i"),""!==q&&(c.attr("data-fiber_diff_i",""),this._callInlineView("update",h,b)))}},_loadview:function(a,b,c){var e=this.options,g=this.element,f,q,h,k="";if("stack"===this.options.viewlayout){if(q=g.find("#"+e.selected),1>q.length||!0!==q.hasClass("viewstack-child"))q=g.find('[data-route*="'+e.selected+'"]')}else q=g.children();if(!0===e.routeEnabled&&a&&!0===a.fiber_isonload&&q&&q.getDataAttr("onloadroute"))return c=u.route(this.element.attr("id")),q=q.getDataAttr("onloadroute").replace(/^([a-z0-9:_\-\s.|=,%]+)\/(.*)$/i,
"$1"),f=c.pages[q]||c.findpage(q),a.properties=f?f.properties:[],h=u.routeutils.build(f?f.url:q,d.extend(this.templatevariables({inherit:!0}),a),b?b.map:null),f&&(q=f.name),e.selected=q,e.selectedproperties=a.properties,this._setSelected(d.extend({},a,{selectedroute:q}),b,!0),c.replace(h),this;a["data-fiber_id"]=this.element.getDataAttr("fiber_id");a.route&&(a.page=a.route.split("/")[0]);a.selectedroute=e.selected;f=(h=g.children(".viewstack-child-selected"))&&0<h.length?h[0].getAttribute("data-route"):
void 0;if(void 0!==f&&null!==f&&!0!==(new RegExp("(^|,)"+e.selected+"($|,|/)")).test(f)||(void 0===f||null===f)&&(!h||1>h.length||h[0].getAttribute("id")!==e.selected))q&&q.removeClass("inactive-view"),this._trigger("updateselected",0,{selected:e.selected}),h&&0<h.length&&(h.addClass("inactive-view"),!0===e.animate&&(e=0<h.prevAll("#"+e.selected).length?!0:!1,k=" viewstack-child-animate viewstack-child-"+(!0===e?"before":"after"),b&&!0===b.fixheight&&(e=q.height(),50>=e&&(e=g.height()),g.css("height",
e+"px")),g.addClass("viewstack-animate")),h.removeClass("viewstack-child-selected")),ea("resize").publish({originator:this.element.getDataAttr("fiber_id")}),q&&q.addClass("viewstack-child-selected"+k+"");e=q?q.length:0;for(g=0;g<e;g++)this._configureshow(q[g],h,f,c,a,b);return this},_configureshow:function(a,b,c,e,g,f){var m=this,h,k=a.getAttribute("data-configure");void 0!==k&&null!==k&&""!==k?(h=d(a),h.configure().then(function(){m._configurestackchild(b,c,h,e,g,f)})):(h=d(a),m._configurestackchild(b,
c,h,e,g,f));return m},_configurestackchild:function(a,b,c,e,g,f){var m=this,h=m.options;c&&!0!==c.hasClass("ui-inlineview")&&(d.fn.inlineView.call(c,{viewStack:!0,loadingparent:!0,read:h.read,viewStackId:m.element[0].getAttribute("data-fiber_id"),forceupdate:!1,autoLoad:!1,update:function(a,b){m.update(b,!1);a.stopImmediatePropagation();a.stopPropagation()}}).on("inlineviewupdate",function(a){a.stopImmediatePropagation();a.stopPropagation()}).on("inlineviewcreated inlineviewupdateview",function(a){if("inlineviewupdateview"!==
a.type||a.target&&-1!==(" "+a.target.className+" ").indexOf(" viewstack-child "))d(this).inlineView("active","inlineviewupdateview"===a.type?"child-updated":"child-created",a),ea("resize").publish({originator:m.element[0].getAttribute("data-fiber_id")})}),m._trigger("init",0,g));m._loadview2(a,b,c,e,g,f)},_loadview2:function(a,b,c,d,g,f){var e=this,m=e.element,h=e.options;0<a.length&&(void 0!==b&&null!==b&&!0!==(new RegExp("(^|,)"+h.selected+"($|,|/)")).test(b)||(void 0===b||null===b)&&(!a||1>a.length||
a[0].getAttribute("id")!==h.selected))?("stack"===e.options.viewlayout&&(0<a.length&&a.filter(".ui-inlineview").inlineView("hide"),c&&c.filter(".ui-inlineview").inlineView("show")),g.loadviewts=new Date,e.update(g,d),m.trigger("resize.viewstack"),0<a.length&&c&&(!0===h.animate?c.stop(0,1).animate({left:0},400,function(){c.css({left:""});c.removeClass("viewstack-child-animate viewstack-child-after viewstack-child-before");f&&!0===f.fixheight&&m.css("height","auto");m.removeClass("viewstack-animate");
c.inlineView("adjust");ea("resize").publish({originator:e.element.getDataAttr("fiber_id")});setTimeout(function(){ea("resize").publish({originator:e.element.getDataAttr("fiber_id")})},200)}):(c.inlineView("adjust"),ea("resize").publish({originator:e.element.getDataAttr("fiber_id")})))):e.update(g,d);e._trigger("load",0,g)},_setSelected:function(a,b,c){var e=this.options,g,f;!0===e.historyEnabled&&!0!==a.fiber_isonload&&e.selected!==a.selectedroute?(g=d.extend({selectedroute:a.selectedroute},a),void 0!==
a.properties&&(e.selectedproperties=a.properties||[]),a.resolvedproperties&&(e.selectedroutevalue=a.resolvedproperties.join("~")),document.body.getAttribute("data-selectedroute")||document.body.setAttribute("data-selectedroute",""),null!==e.selectedparam&&""!==e.selectedparam&&(f={},f[e.selectedparam]=a.selectedroute,u.updateParams(f,!1)),d(document.body).inlineView("update",g,c)):(!0!==c&&(e.selected!==a.selectedroute||void 0!==a.resolvedproperties&&e.selectedroutevalue!==a.resolvedproperties.join("~"))&&
(c=!0),e.selected=a.selectedroute,a.resolvedproperties&&(e.selectedroutevalue=a.resolvedproperties.join("~")),void 0!==a.properties&&(e.selectedproperties=a.properties?a.properties:[]),this.element[0].setAttribute("data-selectedroute",a.selectedroute),g=d.extend({},this.templatevariables(),a),null!==e.selectedparam&&""!==e.selectedparam&&(f={},f[e.selectedparam]=a.selectedroute,u.updateParams(f,!0)),this._loadview(g,b,c))}});d.widget("ui.inlineView",{options:{filters:null,topic:null,topicsubscribe:null,
topicpublish:null,parenttopic:null,model:null,data:null,layout:null,bindoptions:null,listproperty:"data",loadingparent:!1,viewstate:null,parentId:null,template:null,chain:!0,autoLoad:!0,configure:null,loaddelay:0,loadingCloseDelay:200,classname:null,loadingtext:"loading",loadingclass:"loading-background",viewStack:!1,dialogForm:!1,loading:!0,viewStackId:null,scrollToSelector:null,cache:null,cacheId:null,read:null,readurl:null,view:null,viewurl:null,forceupdate:!1,enforceFocus:!1,pageui:null,pageat:null,
pagedata:null,pageposition:0,autofocus:!0,sortby:null,openerid:null,focusid:null,scrollparent:null,scrollchild:null,lazyload:!1,recallproperties:null,prerendered:!1,inheritfilters:!0,filterchildren:!0,parentform:null},_create:function(){this._createview()},activateview:function(a){var b=this.options;-1!==(" "+this.element[0].className+" ").indexOf(" inactive-view ")?(this.element.removeClass("inactive-view include-hidden"),a&&u.setdata(this.element,a,{includeUndefined:!0,chain:b.chain}),this._createview(!0)):
this.update(a)},_getContent:function(){var a,b=this.element;if(!0===b.isTag("body"))return b;a=b.children(".ui-inlineview-content");1>a.length&&(a=b);return a},_loading:function(a){var b=this.options,c=this.element;if(!0===b.loading&&(void 0===a||null===a||"string"!==typeof a))if(!0===c.hasClass("ui-loading"))try{c.loading("adjust")}catch(e){}else try{c.loading(d.extend({closedelay:b.loadingCloseDelay,loadingtext:b.loadingtext,loaderclass:b.loadingclass},a))}catch(e){}else if(!0===b.loading&&!0===
c.hasClass("ui-loading"))try{c.loading(a)}catch(e){}},_createContent:function(a){var b=this.element,c=this.options.classname,d;if(!b.children().first().hasClass("ui-inlineview-content"))if(d=document.createElement("div"),d.className="ui-inlineview-content"+(null!==c?" "+c:""),a&&!0===a)b.append(d);else for(b[0].appendChild(d);b[0].firstChild!==d;)d.appendChild(b[0].firstChild)},hide:function(){this.inactive("hide");this.element.stop(0,1);this.element[0].style.display="none"},allownavigate:function(){var a=
this.views("form").filter(".ui-inlineform"),b,c=a.length;for(b=0;b<c;b++)try{var e=d(a[b]).inlineForm("allownavigate");if("boolean"===typeof e&&!0!==e)return!1}catch(g){}return!0},close:function(){try{this.element.find(".qtip.ui-tooltip-validation").qtip("hide")}catch(a){}null!==this.loadTimer&&(this.loadTimer=clearTimeout(this.loadTimer),this.loadTimer=null,this.element.setSingleDataAttr("fiber_loadcount","1"));this.inactive("close");this._loading("complete");this._trigger("complete");this._rolecall("close")},
loading:function(a){this._loading(a)},show:function(){this.element.stop(0,1);this.element[0].style.display="block";this.active("show");this._loading("adjust");this.focus()},templatevariables:function(a){var b=this.options;a=this.element.dataAttr(a);var c,d;for(d in a)c=(d+"").toLowerCase(),c=b.recallproperties[c],void 0!==c&&(a[d]=c);if(b.bindoptions)for(d in b.bindoptions)c=(d+"").toLowerCase(),c=b.recallproperties[c],void 0!==c&&""!==c&&(a[d]=c);return a},_viewcreatedpromise:function(a,b,c){var e=
this,g=e.options,f=e.element,q=f[0],h=g.classname,k,l,n,p,t={};e.filtersetup=!0;f.dataOptions(g,{list:u.defaultOptList.concat("*topicsubscribe topicpublish model layout bindoptions ?autofocus sortby focusid scrollparent scrollchild ?lazyload *recallproperties ?prerendered ?loading ?inheritfilters ?filterchildren".split(" "))});d(document).on("keydown.inlineView",function(a){e._documentKeyDown(a)});if(null!==g.bindoptions&&"string"===typeof g.bindoptions&&""!==g.bindoptions)for(n=g.bindoptions.split(","),
g.bindoptions={},l=n.length,k=0;k<l;k++)p=n[k].split("|"),g.bindoptions[p[0]]=1<p.length?p[1]:p[0];!0===g.loadingparent&&(f.addClass("ui-inlineview-loadingparent"),e._loading());"body"!==q.tagName&&"BODY"!==q.tagName&&(f.addClass("ui-helper-clearfix"+(null!==h?" "+h:"")),e._createContent());if(null!==g.recallproperties&&0<g.recallproperties.length)if(q=e._getContent().children("#recall"),1>q.length)u.error('Recall hidden input has not been implemented. <br />&lt;input type="hidden" id="recall" name="recall" value="" /&gt;<br />must be child of the inlineView implementing recallproperties.');
else if(""!==q.val())g.recallproperties=JSON.parse(q.val());else{h=g.recallproperties.length;for(k=0;k<h;k++)f=(g.recallproperties[k]+"").toLowerCase(),t[f]="";g.recallproperties=t;q.val(JSON.stringify(g.recallproperties))}else g.recallproperties={};g=e._configureview(!0);"boolean"===typeof g?e._viewconfigured(e,a,b,c):g.then(function(){e._viewconfigured(e,a,b,c)})},_createview:function(a){var b=this,c=b.element[0];-1===(" "+c.className+" ").indexOf(" ui-inlineview ")&&(c.className=(c.className||
"")+" ui-inlineview");-1===(" "+c.className+" ").indexOf(" inactive-view ")&&(b.isActive=!1,b.loadTimer=null,b.viewCreated=new Promise(function(c,d){b._viewcreatedpromise(a,c,d)}))},_viewconfigured:function(a,b,c){var e=this;void 0===a.options&&(a=e);null!==a.options.model&&(a.dataView=u.model(a.options.model),a.dataView.onChanged.subscribe(function(){a._updateData(null,d.extend({},a.dataView.getModelProperties(),{data:a.dataView.getItems()}),!1)}),a.dataView.onSetModel.subscribe(function(){var b=
a.dataView.getModel(),b=void 0!==b.data?b.data:b.DATA;if(void 0===b||null===b)b=[];a.dataView.beginUpdate();a.dataView.setItems(b);void 0!==e.clientFilter&&null!==e.clientFilter&&a.dataView.setFilter(e.clientFilter);a.dataView.endUpdate(!0);a.dataView.reSort()}),a.dataView.initView());b&&!0===b||!0===a.options.autoLoad?a.update():(a._loading("complete"),a._trigger("complete"));a._trigger("created");c()},_lazyLoad:function(){var a;!0===this.options.lazyload&&(a=d(f),this.element.find(".img-pending").filter(function(){var b=
d(this);if(!b.is(":hidden")&&!b.hasClass("img-loaded")){var c=a.scrollTop(),e=c+a.height(),g=b.offset().top;return g+b.height()>=c-0&&g<=e+0}}).each(function(a,c){var b=c.getAttribute("data-src");b&&(c.setAttribute("src",b),c.className=c.className.replace(/\s?img-pending/gi,"")+" img-loaded")}))},load:function(a){var b=this.options;a&&"object"===typeof a&&a.hasOwnProperty("selectedroute")?b.view=a.selectedroute:a&&"object"===typeof a&&a.hasOwnProperty("view")?b.view=a.view:b.view=a;b.viewurl=K.options.remoteURL+
""+b.view;this.refresh(!0)},_onscroll:function(){var a=this;a.scrollTimer&&(a.scrollTimer=clearTimeout(a.scrollTimer));a.scrollTimer=setTimeout(function(){a._adjust("scroll")},50)},_enforceFocus:function(){},active:function(a){var b=this,c=b.element,d=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);b.isActive=!0;c.off("escape.inlineView");b._adjust("active",!1,!1);c.on("escape.inlineView",function(){b._trigger("escape",0)});b._rolecall("active",a);d||!0!==b.options.enforceFocus||(c.off("enforcefocus"),
c.on("enforcefocus",function(c){c.stopImmediatePropagation();c.stopPropagation();b.focus(a)}));d||a&&"child-updated"===a||b.focus(a)},focus:function(a){var b=this,c=b.element,e=b.options,g=c.getDataAttr("fiber_id"),m=d.inArray(g,d.ui.inlineView.activeinstances);c.off("scroll.inlineView");c.on("scroll.inlineView",function(a){b._onscroll(a)});0>m&&d.ui.inlineView.activeinstances.push(g);b.focused=!0;if(0<b.element[0].offsetWidth&&(!0===e.autofocus||"child-created"!==a&&"child-updated"!==a&&"open"!==
a)&&(g=[],m=null,"child-created"!==a&&"child-updated"!==a&&"show"!==a||!f.location.hash))if(e.focusid&&(m=e.focusid,g=c.find("#"+e.focusid.split(":")[0])),1>g.length&&(g=c.find("[autofocus]").not("[readonly],[disabled]").first()),1>g.length&&(g=c.find("input,select,.btn").not('[type="hidden"]').first()),1>g.length)c.focus();else if(g.hasRole()){if(0<g.length)try{g[0].focus()}catch(q){}u.requireRoleCall(g[0],g[0].getAttribute("data-role"),"focus",{focusid:m})}else if(0<g.length)try{g[0].focus()}catch(q){}},
unfocus:function(){var a=this.element,b=a.getDataAttr("fiber_id"),b=d.inArray(b,d.ui.inlineView.activeinstances);!0!==this.isActive&&(a.off("scroll.inlineView"),-1<b&&d.ui.inlineView.activeinstances.splice(b,1));this.focused=!1},inactive:function(a){var b=this.element;this.isActive=!1;b.off("escape.inlineView");this._rolecall("inactive",a);!0===this.options.enforceFocus&&b.off("enforcefocus");this.unfocus()},_adjust:function(a,b,c){var d=this;a&&"scroll"===a?(d.adjusttimeout&&(d.adjusttimeout=clearTimeout(d.adjusttimeout)),
d.adjusttimeout=setTimeout(function(){d._adjustprivate(a,b,c)},50)):(void 0!==c&&!0===c&&d._loading("adjust"),d._adjustprivate(a,b,c))},_adjustprivate:function(a,b){var c=this;!0===c.options.lazyload&&setTimeout(function(){c._lazyLoad()},10);c._trigger("adjustprivate",0,a);try{c.element.find(".validation").validation("adjust",a)}catch(e){}c._rolecall("adjust",a,b)},adjust:function(a,b){this._adjust(a,b,!1)},views:function(a,b){var c=this,d,g=c.viewscache;if(void 0===g||null===g)c.viewscache={},g=
{};d=g[a];if(void 0===d||!0===b){var f=c.element.getDataAttr("fiber_id"),q=/(^|\s)ui-inlineview($|\s)/i;d=c._getContent().find(a).filter(function(){for(var a=this,b;(a=a.parentNode)&&!(a.className&&!0===q.test(a.className)||(b=a.getAttribute("data-role"))&&-1!=="viewStack,inlineView,inlineList,inlineview,inlinelist,viewstack".indexOf(b)););a=a.getAttribute("data-fiber_id");return null!==c.options.parentId&&(a===c.options.parentId||a===f)||null===c.options.parentId&&a===f?!0:!1});g[a]=d;c.viewscache=
g}return d},_inlineNav:function(a){var b=a.getDataAttr("validate");a.addClass("inline-nav");if(void 0!==b&&"change"==b)u.cform(a).on("inlineformvalid",function(){void 0!==a.getDataAttr("pendingisvalid")&&(a.setSingleDataAttr("isvalid",""),a.trigger("click"))}).on("inlineforminvalid",function(){a.removeDataAttr("pendingisvalid")})},_navbar:function(){},_inlineNavClick:function(a){var b=d(a.currentTarget),c=b.getDataAttr("view"),e=!1,g=b.getDataAttr("force"),m=b.getDataAttr("target"),q=b.getDataAttr("validate");
a&&a.type&&"click"===a.type&&b.trigger("nav");if((void 0===c||null===c)&&b.isTag("a")&&b.hasAttr("href"))if(c=b.attr("href"),null===c||null!==c.match(/^#+$/i))c=null,a.preventDefault(),a.stopPropagation();else if(!0===/^#/i.test(c))c=c.replace(/^#/gi,""),void 0===m&&(m=".ui-viewstack"),".ui-inlineview"===m?c=null:(a.preventDefault(),a.stopPropagation());else{if(!0===/\?do=/i.test(c))if(c.replace(/(.*)\?do=([^&#]*)(.*)/i,"$2")===f.location.href.replace(/(.*)\?do=([^&#]*)(.*)/i,"$2"))void 0===m&&(m=
".ui-viewstack"),a.preventDefault(),a.stopPropagation();else return}else a.preventDefault(),a.stopPropagation();b.dataOptions({fixheight:!1},{list:["?fixheight"]});void 0===m&&(m=".ui-inlineview");void 0===g||null===g||!0!==g&&"true"!=g.toString().toLowerCase()||(e=!0);if(-1!==m.indexOf(".ui-")||null!==m.match(/^#/i))if(void 0!==q&&"change"==q&&!0!==b.hasDataAttr("isvalid"))b.hasDataAttr("pendingisvalid")||(b.setSingleDataAttr("pendingisvalid",""),d.ui.inlineForm&&u.cform(b).filter(".ui-inlineform").inlineForm("continue",
{__target:b.attr("id")||""}));else{b.removeDataAttr("isvalid");b.removeDataAttr("pendingisvalid");var h=m.split("-")[1],k={inlineview:"inlineView",viewstack:"viewStack",inlinelist:"inlineList"};a=b.closest(m);1>a.length&&null===m.match(/^#/i)&&(a=d(m),h="viewstack");a.each(function(a,g){var f=d(g).data(void 0!==k[h]?Ca+""+k[h]:h);if(void 0!==f&&null!==f){var m=K.templateVariables({element:b,options:{inherit:!0,dynamic:!0,client:!1,data:K.templateVariables({element:g,options:{inherit:!0,dynamic:!1,
client:!1}})}});void 0!==c&&null!==c?(m.selectedroute=c,f.load(m)):f.update(m,e)}})}else throw Error("target for the inlineNav should be a ui-component with load and update functions.");b=null},_link:function(a){a.on("click",this._linkButton).attr("disabled","disabled").each(function(a,c){var b=d(c),g=b.getDataAttr("reltarget"),f=b.getDataAttr("link");void 0!==f&&null!==f&&""!==f&&b.removeAttr("disabled");if(void 0!==g&&null!==g&&""!==g)d(g).on("keyup change",function(a){void 0===d(a.currentTarget).attr("disabled")&&
P(b,null,d(a.currentTarget).val())})})},_configureview:function(a){var b=this,c,e=b.element,g,f,q,h=e[0];if(-1===(" "+h.className+" ").indexOf(" inactive-view "))if(c=h.getAttribute("data-configure"),void 0!==c&&null!==c&&""!==c)c=e.configure().then(function(c){if(!0!==e.hasClass("configured")&&(q=h.getAttribute("data-configure"))&&"?"!=q.substring(0,1)&&!0!==a)throw Error("No configuration setup for "+q);if(void 0!==c)if(d.isArray(c))for(f=c.length,g=0;g<f;g++)d.extend(b.options,c[g]);else d.extend(b.options,
c);return b._setupview(a,c)});else return e.addClass("configured"),b._setupview(a);else return!0;return c},_header:function(){},_content:function(){},_setOption:function(a,b){var c=this.options,e=!1;c[a]!==b&&(e=!0);c[a]=b;"viewstate"==a&&d.ui.inlineForm?this.views("form").filter(".ui-inlineform").inlineForm("option","viewstate",b):"openerid"==a&&d.ui.inlineForm?this.views("form").filter(".ui-inlineform").inlineForm("option","openerid",b):"parentform"==a&&d.ui.inlineForm?this.views("form").filter(".ui-inlineform").inlineForm("option",
"parentform",b):"data"===a?!1!==this._trigger("update",0,b)&&(c.data=b,null!==c.template&&this._renderTemplate(),c=this.templatevariables(),this._updateview(null,!1,d.extend({},b,c))):"layout"==a?!0===e&&this._updateLayouts(!1):"sortby"==a&&(c.sortby=b,this._refreshTemplate());this._superApply(arguments)},client:function(a,b){var c=this.options;void 0!==a&&null!==a&&!0!==d.isEmptyObject(a)&&(this.element.setClientAttr(a),null!==c.filters&&c.filters.updateFilters(a,b,{client:!0,server:!1}),this._refreshTemplate(),
this._rolecall("client",this.element.getClientAttr(),b))},_setupviewpromise:function(a,b,c,e){var g=this,f=g.options,q,h=[],k=[],h=[],l=0,l=0,n;if(0<g.element.length){l=g.element[0];k=l.getAttribute("id");g.filtersetup=!0;if(!0===a){f.filters&&!0===f.inheritfilters||(f.filters=u.filter("filter-"+u.createUUID()));q=f.filters;k=(k?k+"-":"")+"inlineView-"+u.createUUID();l.setAttribute("data-fiber_id",k);l.setAttribute("data-fiber_filterid",q.id);g.element.on("click.inlineView",".inline-nav",g._inlineNavClick);
null!==f.parentId&&"self"===f.parentId&&(f.parentId=g.element.getDataAttr("fiber_id"));null!==q&&q.update.add(function(a){!0!==a.server&&"true"!==a.server||g.update(q.getServerFilters(),a&&a.forceupdate&&!0===a.forceupdate?!0:!1);!0!==a.client&&"true"!==a.client||g.client(q.getClientFilters(),q.getFilterMeta("client"))});null!==f.topic&&h.push(f.topic);null!==f.topicsubscribe&&(h=h.concat(f.topicsubscribe));if(0<h.length)for(l=0,a=h.length;l<a;l++)ea(h[l]).subscribe(function(a){"processcomplete"===
a.type||"cancelprocesscomplete"===a.type?(a.openerid&&(f.focusid=a.openerid),g.update(null,!0)):"update"===a.type?g.update(a,!1):"refresh"===a.type&&g.update(null,!0)});if(null!==f.scrollparent)g.element.closest(f.scrollparent).on("scroll",function(a){g._onscroll(a)});if(null!==f.scrollchild)g.element.find(f.scrollchild).first().on("scroll",function(a){g._onscroll(a)})}null!==f.layout&&g._updateLayouts(!0);g.views("form").not("[data-role]").not(".no-role").setSingleDataAttr("role","inlineForm");g.views(".main-viewport").not(".ui-inlineview-scrollmanaged").addClass("ui-inlineview-scrollmanaged").on("scroll",
function(a){g._onscroll(a)});g.views('[data-role="filter"]').setSingleDataAttr("filter","").data("filter","").removeDataAttr("role");a=g.views('[data-role="viewStack"]').children();a.addClass("viewstack-child");a.not(".viewstack-child-default").not(".viewstack-child-selected").addClass("inactive-view");a.filter(".viewstack-child-default").addClass("viewstack-child-selected").removeClass("viewstack-child-default");a=g.views('script[type="text/x-handlebars-template"]').not("[data-nofilter]");a=d.merge(a,
g.views("script[data-templateid]"));0<a.length&&(f.template=[],a.each(function(a,b){var c=d(b),e=c.parent(),g=c.getDataAttr("templateid"),m=c.getDataAttr("role"),g=g?g.replace(/\.tmpl/i,""):"template-"+u.createUUID();c.getDataAttr("templateid")&&Handlebars.templates&&Handlebars.templates[g]?f.template.push({compiled:Handlebars.templates[g],placeholder:e,role:m}):(c=c.html())&&0<c.length&&f.template.push({compiled:Handlebars.compile(c),placeholder:e,role:m})}));h=g.views("form").filter('[data-role="inlineForm"]');
if(0<h.length){h.on("inlineformcancel.inlineView",function(){g._trigger("cancel")}).on("inlineformprocesscomplete.inlineView",function(){g._trigger("processcomplete")}).on("inlineformsetup.inlineView",function(){g._adjust("setup",!1,!1)});k=[];a=h.length;for(l=0;l<a;l++)n=hb(h[l],{topic:f.topic,topicsubscribe:f.topicsubscribe,topicpublish:f.topicpublish,openerid:f.openerid,parentform:f.parentform,focusid:f.focusid,updateonselected:f.updateonselected,resetonclose:f.resetonclose,resetonlock:f.resetonlock,
filters:f.filters,viewstate:f.viewstate,autoLoad:!1,viewStack:f.viewStack,viewStackId:f.viewStackId,ignoretopicreset:f.ignoretopicreset,isDialogForm:f.isDialogForm},g,void 0,!1),"object"===typeof n&&k.push(n);0<k.length?Promise.all(k).then(function(){g._setupviewroles(b,c,e)}):g._setupviewroles(b,c,e)}else g._setupviewroles(b,c,e)}},_setupview:function(a,b){var c=this;c.viewscache={};return new Promise(function(d,g){c._setupviewpromise(a,b,d,g)})},_updateLayouts:function(){var a=this.options,b;null!==
a.layout&&(b=this.views(".inlineview-layout"),b.each(function(b,e){var c=d(e);c.getDataAttr("includein")===a.layout?c.show():c.hide()}),this._renderTemplate())},_setupviewroles:function(a,b,c){var d=this,g=d.options,f=d.views("[data-role]").not("form"),q=0,h=0,k,l=[],h=f.length;if(0<h){for(q=0;q<h;q++)k=hb(f[q],{topic:g.parenttopic,filters:!0===g.filterchildren?g.filters:null,viewstate:g.viewstate,autoLoad:!1,viewStack:g.viewStack,viewStackId:g.viewStackId,parentform:g.parentform},d,void 0,!1),"object"===
typeof k&&l.push(k);0<l.length?Promise.all(l).then(function(){f.filter('[data-role="inlineView"],[data-role="inlineList"]').not(".ui-inlineview,.ui-inlinelist").on("inlineviewupdate inlineviewupdateviews inlineviewupdateview",function(a){a.stopPropagation();a.stopImmediatePropagation()});d._finalizeviews(a,b,c)}):(f.filter('[data-role="inlineView"],[data-role="inlineList"]').not(".ui-inlineview,.ui-inlinelist").on("inlineviewupdate inlineviewupdateviews inlineviewupdateview",function(a){a.stopPropagation();
a.stopImmediatePropagation()}),d._finalizeviews(a,b,c))}else d._finalizeviews(a,b,c)},_finalizeviewform:function(a,b,c,e,g){var f=this,q=f.element,h=d(a);0<h.find("[data-filter]").length&&(h.addClass("filterform"),h.on("inlineformsetupcomplete",function(){var a=h.find("[data-filter]"),g={},m=q.getDataAttr("fiber_id");0<a.length&&(a.each(function(a,c){var e;e=c.getAttribute("data-filterparent");var f,k,l,z;e?(f=c.id,k=c.getAttribute("data-filteractive"),l=c.getAttribute("data-wildcard"),z=c.getAttribute("data-filter")||
"",g[e]||(g[e]="body"===e?d(document.body):q.parents(e)),-1===(" "+(c.className||"")+" ").indexOf(" filter ")&&(c.className=(c.className||"")+" filter"),b=g[e].inlineView("option","filters"),e=u.templateVariables({element:d(c),options:{inherit:!1,dynamic:!1,client:!1}}),b.setFilter(d.extend({id:f,filteractive:void 0!==k&&null!==k?k:void 0,wildcard:void 0!==l&&null!==l?l:!0,filter:""!==z?z:c.getAttribute("data-fields"),field:c},e))):(e=d(c),h.parents(".ui-inlineview").getDataAttr("fiber_id")===m&&
(f=c.id,k=c.getAttribute("data-filteractive"),l=c.getAttribute("data-wildcard"),z=c.getAttribute("data-filter")||"",-1===(" "+(c.className||"")+" ").indexOf(" filter ")&&(c.className=(c.className||"")+" filter"),e=u.templateVariables({element:e,options:{inherit:!1,dynamic:!1,client:!1}}),b.setFilter(d.extend({id:f,filteractive:void 0!==k&&null!==k?k:void 0,wildcard:void 0!==l&&null!==l?l:!0,filter:""!==z?z:c.getAttribute("data-fields"),field:c},e))))}),f.initfilters(),f.refreshfilters());e(c)}))},
_finalizeviews:function(a,b,c){var e=this,g=e.options.filters,f,q,h;e._setupRel();if(null!==g&&(h=e.views("form"),0<h.length))for(e.filtersetup=[],q=h.length,f=0;f<q;f++)c=d(h[f]).find("[data-filter]"),0<c.length&&e.filtersetup.push(new Promise(function(b,c){e._finalizeviewform(h[f],g,a,b,c)}));b(a)},initfilters:function(){var a=this.options,b=this.options.filters;b&&u.setdata(this.element,b.getServerFilters(),{chain:a.chain})},refreshfilters:function(a){var b=this.options.filters;b&&this.client(b.getClientFilters(),
b.getFilterMeta("client"));a&&!0===a&&this.update()},_documentKeyDown:function(a){if(d.ui.inlineView.activeinstances[d.ui.inlineView.activeinstances.length-1]===this.element.getDataAttr("fiber_id")){27==a.keyCode&&this.element.trigger("escape.inlineView");try{this.element.filter(".ui-inlineview").not(".ui-inlinelist").not(".ui-listmanager").inlineView("views",".ui-inlinelist").inlineList("keydown",a),this.element.filter(".ui-inlinelist").inlineList("views",".ui-inlinelist").inlineList("keydown",a)}catch(b){}}},
_buttonRel:function(a,b){return a.filter('[data-rel="'+b+'"]').addClass("btn-rel btn-rel-"+b)},_linkButton:function(a){a.preventDefault();a.stopPropagation();a=d(a.currentTarget);var b=a.getDataAttr("link");void 0!==b&&u.location(b,a.getDataAttr("target"))},_updateRelPopup:function(a){this.views(".rel-popup").filter(".ui-qpopup").qpopup("update",a)},_clickHandler:function(a,b){var c,e;if("propagateclick"===a.type||"propagatenav"===a.type)if(b&&b.target)c=d(b.target);else return;else c=d(a.currentTarget);
e=c.getDataAttr("rel");if("focus"!==a.type&&("focusin"!==a.type||a.isSimulated&&a.originalEvent&&"focus"!==a.originalEvent.type||c.getDataAttr("openonfocus"))&&("dragover"!==a.type||c.getDataAttr("openondragover")))switch(c.trigger("relclick"),e){case "dialog":if(!0===c.hasClass("disabled"))return!1;"click"==a.type?!0!==c.dataAttrContains("event","validate")&&c.dialogButtonClick(a,{data:b}):"updateview"===a.type?u.setdata(c,b):"propagateclick"!==a.type&&c.dialogButtonClick(a,{data:b,dataPriority:!0});
break;case "nav":"click"==a.type&&this._inlineNavClick(a,e);break;case "link":if("click"===a.type&&!0===c.hasClass("disabled"))return a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault(),!1;"click"==a.type&&/^[\s#]?$/i.test(c.attr("href")+"")&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault());break;case "file":u.inlineFile(c.getDataAttr("view"),{target:"_blank",ext:c.getDataAttr("ext")});break;case "popup":"updateview"===a.type?u.setdata(c,b):c.hasDataAttr("targetid")&&
this._popup(a,!1);break;case "alert":e=c.getDataAttr("title")?c.getDataAttr("title"):c.attr("title");var g=c.getDataAttr("alerttype")?c.getDataAttr("alerttype"):"error";c=c.getDataAttr("target")?d(c.getDataAttr("target")).html():c.getDataAttr("message");if(void 0===e||""===e)e=g.charAt(0).toUpperCase()+g.slice(1);void 0!==c&&""!==c&&u.alert(g,{title:e,message:c})}},_popup:function(a,b,c,d){var e=this,f=a.currentTarget;e.popuploadtimeout&&(e.popuploadtimeout=clearTimeout(e.popuploadtimeout));!0===
b?K.loadPopup(f,b,c,d,{}):e.popuploadtimeout=setTimeout(function(){K.loadPopup(f,b,c,d,e.templatevariables({inherit:!0}))},50)},_mouseenterHandler:function(a){var b=d(a.currentTarget),c=b.getDataAttr("rel"),e=b.hasDataAttr("targetid");if(("dialog"===c||"nav"===c)&&b.hasDataAttr("title"))this._popup(a,!0,"default_tooltip",!0);else if(!0===e||"tooltip"===c)!0!==e&&b.setSingleDataAttr("targetid","default_tooltip"),"popup"!==c&&"tooltip"!==c||this._popup(a,"tooltip"===c?!0:!1)},_mouseleaveHandler:function(a){a=
d(a.currentTarget);var b=a.getDataAttr("rel");this.popuploadtimeout&&(this.popuploadtimeout=clearTimeout(this.popuploadtimeout));if(("dialog"===b||"nav"===b)&&a.hasDataAttr("title"))try{d("#default_tooltip").qpopup("deferredclose")}catch(c){}else if("popup"===b||"tooltip"===b)if(a=a.getDataAttr("fiber_target"),void 0!==a&&null!==a){a=a.replace(/\./gi,"-");try{d("#"+a).qpopup("deferredclose")}catch(c){}}},_setupRelEach:function(a,b){var c=this,e,g=b?b.getAttribute("data-rel"):null;if(g)switch(e=d(b),
e.addClass("btn-rel btn-rel-"+g+" rel-"+g),g){case "alert":case "dialog":case "nav":case "link":c.isClickDelegated||(c.isClickDelegated=!0,c.element.on("click propagateclick propagatenav loadview updateview focus","[data-rel]",function(a,b){c._clickHandler(a,b)}));c.isMouseEnterDelegated||(c.isMouseEnterDelegated=!0,c._getContent().on("mouseenter dragenter","[data-rel]",function(a){c._mouseenterHandler(a)}),c._getContent().on("mouseleave","[data-rel]",function(a){c._mouseleaveHandler(a)}));break;
case "tooltip":c.isMouseEnterDelegated||(c.isMouseEnterDelegated=!0,c._getContent().on("mouseenter dragenter","[data-rel]",function(a){c._mouseenterHandler(a)}),c._getContent().on("mouseleave","[data-rel]",function(a){c._mouseleaveHandler(a)}));break;case "popup":e.filter("[data-fieldid]").each(function(a,b){var c=d(b),e=c.getDataAttr("fieldid"),e=u.cform(c).find("#"+e),g=c.attr("id");g&&(e.setSingleDataAttr("fiber_fieldidsrc",g),e.on("change populateinput",function(a){var b=u.cform(c).find("#"+g);
a=P(d(a.currentTarget));b.qpopup("update",{value:a});a!==P(b)&&P(b,null,a)}))}).on("change populateinput",function(a,b){if(void 0!==b&&null!==b){var c=d(a.currentTarget),e=c.getDataAttr("fieldid"),c=u.cform(c).find("#"+e);0<c.length&&void 0!==b.value&&null!==b.value&&(P(c,null,b.value),c.trigger("change"))}}),!0===e.hasDataAttr("targetid")?(c.isClickDelegated||(c.isClickDelegated=!0,c.element.on("click propagateclick propagatenav loadview updateview focus","[data-rel]",function(a,b){c._clickHandler(a,
b)})),c.isMouseEnterDelegated||(c.isMouseEnterDelegated=!0,c._getContent().on("mouseenter dragenter","[data-rel]",function(a){c._mouseenterHandler(a)}),c._getContent().on("mouseleave","[data-rel]",function(a){c._mouseleaveHandler(a)}))):e.qpopup({inheritProperties:!0,classname:e.getDataAttr("popupclassname"),viewport:"form"===e.getDataAttr("viewport")?u.cform(e):null,configure:e.getDataAttr("configure")||null,load:e.getDataAttr("load")||null})}},contentmodified:function(){this._setupRel(!0)},clearcontent:function(){this._getContent().empty()},
_setupRel:function(a){var b,c;a=this.views("[data-rel]",a);c=a.length;for(b=0;b<c;b++)this._setupRelEach(b,a[b])},update:function(a,b){var c=this;c.viewCreated&&c.viewCreated.then(function(){c._update(a,b)})},_updateData:function(a,b,c){var e=this.options,g;g=this.templatevariables({inherit:!0});b=d.extend(g,b);!1!==this._trigger("update",0,b)&&(e.data=b,null!==e.template&&(g=!1,e.focusid&&(g=this.element.find("#"+e.focusid.split(":")[0]).is(":focus")),this._renderTemplate(),!0===g&&this.element.find("#"+
e.focusid.split(":")[0]).focus().trigger("focus").trigger("restorefocus")),g=this.templatevariables(),this._updateview(a,c,d.extend(b,g)))},_getBase:function(){return f.location.search+(f.location.hash?"#"+f.location.hash.replace(/^#+/,""):"")},_read:function(a,b,c){var e=this,g=e.options;e.reading=!0;null!==g.template&&e._loading();b.__base=e._getBase();d.ajax({url:u.tsURL(g.readurl)+(document.body.className&&-1!==document.body.className.indexOf("responsive-ui")?"&responsiveui=true":""),dataType:"json",
data:u.packdata(b),dataFilter:u.ajaxDataFilter,cache:!1,type:"POST",error:function(a,b,c){e.reading=!1;u.ajaxError(a,b,c);e._error()},success:function(b,d){e.reading=!1;if("success"==d){var g=u.unpackdata(b);e._updateData(a,g,c)}else e._trigger("complete"),e._loading("complete")}})},_filterData:function(a,b,c){var d,g=-1,f,h,k=[];d=0;for(f=a.length;d<f;++d)if(h=a[d],!b||b(h,c))g++,k[g]=h;return k},_updatePagination:function(a,b,c,e){var g=this,f=g.options;if(null!==f.pageui){b=d("#"+f.pageui);a=b.find("ul");
g.pageuisetup||(g.pageuisetup=!0,b.on("click","li[data-page]",function(a){a.preventDefault();a=d(a.currentTarget);var b=a.getDataAttr("page");"next"==b||"prev"==b?a.hasClass("disabled")||(f.pageposition="next"==b?f.pageposition+f.pageat:f.pageposition-f.pageat,g._renderTemplate()):isNaN(parseInt(b,10))||(f.pageposition=Math.ceil(f.pageat*(parseInt(b,10)-1)),g._renderTemplate())}));a.empty();a.append('<li data-page="prev" class="'+(1<c?"":"disabled")+'"><a href="#">Prev</a></li>');for(b=0;b<e;b++)a.append("<li "+
(b+1===c?'class="active"':"")+' data-page="'+(b+1)+'"><a href="#">'+(b+1)+"</a></li>");a.append('<li data-page="next" class="'+(c<e?"":"disabled")+'"><a href="#">Next</a></li>')}},_renderTemplate:function(){var a=this.options,b=0,c=0,e,g={},f=!1,h,k,l=0,b=0,n=a.data,p=void 0!==n&&null!==n&&void 0!==n[a.listproperty]?n[a.listproperty]:n,b=null,c={};if(null!==a.template){null!==a.filters&&(b=a.filters.clientFilter,c={clientFilters:a.filters.clientFilters,filters:a.filters.filters},n=d.extend({},n,a.filters.getClientFilters()));
if(void 0!==p&&!0===d.isArray(p)){p=this._filterData(p,b,c);if(null!==a.sortby){var t=-1==(a.sortby+"").toLowerCase().indexOf("asc")?!1:!0,r=u.createComparator("alphanumeric"),w=a.sortby.replace(/\s(asc|desc)$/gi,"");0<p.length&&void 0!==p[0][w]&&u.sort(p,function(a,b){var c=r(a[w],b[w],t,a,b);return 0!==c?c:0})}null!==a.pageat&&0<a.pageat&&(b=p.length,p.length>a.pageat&&(p=p.splice(a.pageposition,a.pageat)),this._updatePagination(a.pageposition,a.pageposition+a.pageat,Math.ceil(a.pageposition/a.pageat)+
1,Math.ceil(b/a.pageat)));g[a.listproperty]=p;n=d.extend({},n,g);l=g[a.listproperty].length}g=0;for(p=a.template.length;g<p;g++)if(b=a.template[g].placeholder.closest(".ui-inlineview,.ui-inlinelist,.inlineview-layout"),!b.hasClass("inlineview-layout")||null===a.layout||b.dataAttrContains("includein",a.layout))if(void 0!==a.template[g].role&&null!==a.template[g].role)c=d('<div data-role="'+a.template[g].role+'"></div>'),c[0].innerHTML=a.template[g].compiled(n),b=a.template[g].placeholder.children('[data-role="'+
a.template[g].role+'"]').first(),0<b.length&&u.requireRoleCall(b[0],b[0].getAttribute("data-role"),"destory"),0<a.template[g].placeholder.length&&(a.template[g].placeholder[0].innerHTML="",a.template[g].placeholder.append(c)),c.requireRole();else if(0<a.template[g].placeholder.length&&(b=a.template[g].compiled(n),-1!==b.indexOf("data-role")&&(f=!0,this.viewscache={}),a.template[g].placeholder[0].innerHTML=b,!0===f&&(k=a.template[g].placeholder.find("[data-role]"),c=k.length,0<c))){h=[];for(b=0;b<
c;b++)e=hb(k[b],{topic:a.parenttopic,filters:!0===a.filterchildren?a.filters:null,viewstate:a.viewstate,autoLoad:!1,viewStack:a.viewStack,viewStackId:a.viewStackId,parentform:a.parentform},this,void 0,!1),"object"===typeof e&&h.push(e);0<h.length&&Promise.all(h)}this._trigger("templateupdated",0,{count:l});this._setupRel(!0)}},_refreshTemplate:function(){null!==this.options.template&&this._renderTemplate()},_update:function(a,b){var c=this.options,e=c.filters,g=this.element,f=a&&a["data-fiber_id"]?
a["data-fiber_id"]:null,h,k,l,n,p=c.forceupdate;l=!1;var t,r;if(void 0===f||null===f||null!==c.parentId&&f===c.parentId||null===c.parentId&&f===g.parents(".ui-inlineview,.ui-inlinelist,.ui-viewstack").first().getDataAttr("fiber_id")){void 0!==b&&null!==b&&!0===b&&(p=!0);n=null!==e?(n=e.getServerFilters())&&"object"===typeof n&&0<Object.keys(n).length?d.extend({},n,a):a:a;n.lastupdate=(new Date).getTime().toString();u.setdata(g,n,{diff:!0===p?!1:!0});if(c.recallproperties&&"object"===typeof c.recallproperties&&
0<Object.keys(c.recallproperties).length){for(r in n)n.hasOwnProperty(r)&&(t=(r+"").toLowerCase(),void 0!==c.recallproperties[t]&&(c.recallproperties[t]=n[r],l=!0));!0===l&&this._getContent().children("#recall").val(JSON.stringify(c.recallproperties))}l=g.attr("data-fiber_diff")||"";null!==e&&g.setClientAttr(e.getClientFilters());null!==c.bindoptions&&this._bindOptions();if(null!==c.readurl&&""!==c.readurl)if(!0!==g.hasClass("configured"))if(null===c.viewurl){if((c=g.getDataAttr("configure"))&&"?"!=
c.substring(0,1))throw Error("No configuration setup for "+c);}else k=this.templatevariables(),!0===c.cache&&(h=c.cacheId?c.cacheId:c.viewurl+"&"+d.param(k)),this._load(f,k,h);else if(e=this.templatevariables(),(!0===p||""!==l||!0!==c.prerendered&&void 0===g.getDataAttr("fiber_loadcount"))&&!1!==this._trigger("beforeupdate",0,k))g.setSingleDataAttr("fiber_loadcount","1"),this._read(f,e,p);else{if(void 0===this.reading||!0!==this.reading)a&&void 0!==a.value&&null!==a.value&&!e.hasOwnProperty("value")&&
(e.value=a.value),this._updateview(f,p,e)}else k=this.templatevariables({inherit:!0}),this._trigger("beforeupdate",0,k),!1!==this._trigger("update",0,k)&&(e=this.templatevariables(),a&&void 0!==a.value&&null!==a.value&&!e.hasOwnProperty("value")&&(e.value=a.value),this._updateview(f,p,e))}},_bindOptions:function(){var a=this.templatevariables({inherit:!0}),b=this.options,c=!1,d,g;for(g in b.bindoptions)void 0!==a[g]&&(d=(g+"").toLowerCase(),void 0!==b.recallproperties[d]&&(b.recallproperties[d]=a[g],
c=!0),this._setOption(b.bindoptions[g],a[g]),this.element[0].getAttribute("data-"+b.bindoptions[g])&&this.element[0].setAttribute("data-"+b.bindoptions[g],a[g]));!0===c&&this._getContent().children("#recall").val(JSON.stringify(b.recallproperties))},refresh:function(a){this.update(null,a)},_loadview:function(a,b,c,e){var g=this,f=g.element,h=this.options,k;!0===h.cache&&(k=g._getContent().attr("data-fiber_cacheid"),void 0!==k&&null!==k&&(g._getContent().removeClass("ui-inlineview-content").addClass("ui-inlineview-cache").remove(),
g._createContent(!0)),g._getContent().attr("data-fiber_cacheid",c));g._destroyChildren();g._adjust("load",!1,!0);b.__base=g._getBase();d.ajax({url:u.tsURL(h.viewurl)+(document.body.className&&-1!==document.body.className.indexOf("responsive-ui")?"&responsiveui=true":""),dataType:"html",data:u.packdata(b),dataFilter:u.ajaxDataFilter,cache:!1,type:"POST",error:function(a,b,c){u.ajaxError(a,b,c);g._error()},success:function(b,c){if("success"===c){var d=!1,m;h.focusid&&(d=g.element.find("#"+h.focusid.split(":")[0]).is(":focus"));
-1!==b.indexOf("<script")?g._getContent().html(b):g._getContent()[0].innerHTML=b;f.find(".ui-inlineview-cache").css("display","none");f.find(".inline-popup-content").css("display","block");!1!==g._trigger("load")&&(m=g._configureview(!1),"boolean"===typeof m?g._loadviewconfigured(g):m.then(function(){g._loadviewconfigured(g,d,e,a)}))}else g._error()}})},_loadviewconfigured:function(a,b,c,d){var e=this.options;void 0===a._updateviews&&(a=this);!0===b&&e.focusid&&this.element.find("#"+e.focusid.split(":")[0]).focus().trigger("focus",
e.focusid).trigger("restorefocus",e.focusid);a._updateviews();a._adjust("load",!1,!0);a._trigger("updateview");void 0!==c&&!0===c?a._read(d,a.templatevariables(),!1):a._loading("complete")},_error:function(){this._getContent().attr("data-fiber_cacheid",null).html("");this._adjust("error",!1,!1);this._trigger("escape",0);this.element.setSingleDataAttr("fiber_loadcount",null);this._trigger("complete");this._loading("complete")},_load:function(a,b,c,d){var e=this,f=e.options.loaddelay;e.element.setSingleDataAttr("fiber_loadcount",
"2");0<f?e.loadTimer=setTimeout(function(){e._loadview(a,b,c,d)},f):e._loadview(a,b,c,d)},_updateview:function(a,b,c){var e=this.options,g,f=this.element,h=f.attr("data-fiber_diff")||"",k=e.forceupdate;void 0!==b&&null!==b&&!0===b&&(k=!0);null!==e.viewurl?(!0===e.cache&&(g=e.cacheId?e.cacheId:e.viewurl+"&"+d.param(this.templatevariables())),!0===e.cache&&0<f.children('.ui-inlineview-cache[data-fiber_cacheid="'+g+'"]').length?(this._getContent().filter("[data-fiber_cacheid]").removeClass("ui-inlineview-content").addClass("ui-inlineview-cache"),
f.children('.ui-inlineview-cache[data-fiber_cacheid="'+g+'"]').removeClass("ui-inlineview-cache").addClass("ui-inlineview-content").css("display","block"),f.children(".ui-inlineview-cache").css("display","none"),this._updateviews(a,k,c)):!0===e.cache&&this._getContent().attr("data-fiber_cacheid")===g?this._updateviews(a,k,c):!0===k||""!==h||!0!==e.prerendered&&(void 0===f.getDataAttr("fiber_loadcount")||"1"===f.getDataAttr("fiber_loadcount")+"")?(this._loading(),this._adjust("update",!1,!0),this._load(a,
c,g)):(this._adjust("update",!1,!1),this._loading("complete"),this._trigger("complete"),this._updateviews(a,k,c))):(this._trigger("updateview"),this._updateviews(a,k,c))},_updateFilterForm:function(a,b){var c=this,e=0,g=0,f=c.views(".filterform").filter(".ui-inlineform");0<f.length?(f.inlineForm("update",a),c.filtersetup&&"boolean"!==typeof c.filtersetup?Promise.all(c.filtersetup).then(function(b){d.extend(a,c.templatevariables({inherit:!0}));if(void 0!==b)if(d.isArray(b))for(g=b.length,e=0;e<g;e++)d.extend(a,
b[e]);else d.extend(a,b);c._trigger("update",0,a);c._triggerupdateviews(a)}):(d.extend(a,c.templatevariables({inherit:!0})),c._trigger("update",0,a),c._triggerupdateviews(a))):10>b?setTimeout(function(){c._updateFilterForm(a,b+1)},50):c._triggerupdateviews(a)},_updateviews:function(a,b,c){this._adjust("update",!1,!1);a=c&&"object"===typeof c&&0<Object.keys(c).length?d.extend(this.templatevariables({inherit:!0}),c):this.templatevariables({inherit:!0});c=this.views(".filterform");a["data-fiber_id"]=
this.element.getDataAttr("fiber_id");0<c.length?this._updateFilterForm(a,0):this._triggerupdateviews(a,b)},_triggerupdateviews:function(a,b){this._trigger("updateviews");this._rolecall("update",a,b);this._updateRelPopup(a);this._loading("complete");this._trigger("complete")},_rolecall:function(a,b,c,d){var e=this,f=0,h=0,k;if("adjust"!==a&&"active"!==a||d)for(k=e.views("[data-role]"),f=k.length,h=0;h<f;h++)d=k[h].getAttribute("data-role"),("model"!==d||"adjust"!==a&&"active"!==a)&&u.requireRoleCall(k[h],
d,a,b,c);else e[a+"rolecalltimeout"]&&clearTimeout(e[a+"rolecalltimeout"]),e[a+"rolecalltimeout"]=setTimeout(function(){e._rolecall(a,b,c,!0)},50)},_destroyChildren:function(){this._rolecall("destroy")},destroy:function(){this._destroyChildren();this.element.removeClass("ui-inlineview");this._super()}});d.extend(d.ui.inlineView,{activeinstances:[]});d.widget("ui.breadcrumb",{options:{repeathtml:null},_create:function(){var a=this.options,b=this.element,c=b.children();b.addClass("ui-breadcrumb");c.not(":last").not(":has('.divider')").append('<span class="divider"></span>');
c.find(".divider").addClass("icon icon-chevron-right").html("");c.each(function(b,c){var e=d(c);e.hasDataAttr("repeat")&&(null===a.repeathtml&&(a.repeathtml={}),a.repeathtml[b]=e.clone())})},update:function(a){var b=this.element,c,e,g=[],f,h=-1;c=a&&void 0!==a["data-fiber_id"]?a["data-fiber_id"]:null;if(null===c||c==b.getDataAttr("fiber_id")||c==b.closest(".ui-inlineview,.ui-inlinelist,.ui-viewstack").first().getDataAttr("fiber_id")){void 0!==a&&!0===d.isArray(a)?g=a:void 0===a||void 0===a.labels&&
void 0===a.LABELS||(g=void 0!==a.labels?a.labels:a.LABELS,!0!==d.isArray(g)&&(g=[]));if(void 0!==g&&0<g.length&&null!==this.options.repeathtml){b.children().filter("[data-repeat]").remove();var k=b.children(),l;if(g.length>k.length)for(e=0;e<g.length;e++)if(void 0!==this.options.repeathtml[e+1]){l=d(k[e]);for(c=0;c<g.length-k.length;c++)l.after(this.options.repeathtml[e+1].clone());break}}b.children().each(function(b,c){var e=d(c),m=null;0===g.length&&void 0!==e.getDataAttr("labelproperty")&&(m=e.getDataAttr("labelproperty"));
void 0!==a&&void 0!==a.data?f=a.data:void 0!==a&&!0===d.isArray(a)&&void 0!==a[b]&&void 0!==a[b].data?f=a[b].data:void 0!==a&&(f=a);e.children("a").each(function(c,q){var k=d(q),l;l=k.getDataAttr("fiber_href")||k.attr("href");k.getDataAttr("fiber_href",l);null!==f&&l&&(e.hasDataAttr("repeat")?(h++,k.attr("href",u.routeutils.build(l,f,null,h))):k.attr("href",u.routeutils.build(l,f)));null!==f&&null!==m?k.text(a[m]):void 0===g[b]||"string"!==typeof g[b]&&void 0===g[b].label||(k.text(g[b].label||g[b]),
"string"!==typeof g[b]&&void 0!==g[b].href&&k.attr("href",g[b].href))});null!==f&&null!==m?e.text(a[m]):void 0===g[b]||"string"!==typeof g[b]&&!g[b].label||(e.children(".btn").find("span").html(g[b].label||g[b]),e.children("span").not(".divider").text(g[b].label||g[b]));null!==f&&e.children().each(function(){u.setdata(d(this),f)})})}}});d.widget("ui.inlineList",d.ui.inlineView,{options:{itemselector:"li",activeClass:"active",hoverClass:"hover",topic:null,topicsubscribe:null,topicpublish:null,model:null,
pageui:null,pageat:null,pagedata:null,pageposition:0,autofocus:!0},_create:function(){this._superApply(arguments);var a=this,b=a.element,c=this.options;b.addClass("ui-inlinelist");b.isTag("table")&&(c.itemselector="tr");b.dataOptions(c,{list:"topic *topicsubscribe topicpublish !itemselector !activeClass ?autofocus !hoverClass pageui #pageat #pageposition pagedata model".split(" ")});b.on("mouseenter.inlinelist mouseleave.inlinelist",c.itemselector,function(b){var e=d(this);"mouseenter"===b.type?"true"!==
e.getDataAttr("noselect")&&(a.element.find("."+c.hoverClass).not("."+c.hoverClass+"-hover").removeClass(c.hoverClass),e.addClass(c.hoverClass+" "+c.hoverClass+"-hover")):e.removeClass(c.hoverClass+" "+c.hoverClass+"-hover")}).on("click",c.itemselector,function(b){b=d(b.currentTarget);var e=b.closest(".ui-inlinelist").inlineList("option","topic"),f;"true"!==b.getDataAttr("noselect")&&(a.element.find("."+c.activeClass).not("."+c.activeClass+"-hover").removeClass(c.activeClass),b.addClass(c.activeClass),
null!==e&&(f=u.templateVariables({element:b,options:{inherit:!1,dynamic:!1,client:!1}}),null!==c.model&&f.id&&d.extend(f,u.model(c.model).getItemById(f.id)),ea(e).publish({type:"selected",text:b.text(),id:null,data:f,originator:a.element.getDataAttr("fiber_id")})))});b.on("click",".sorthandle",function(b){a._sortbyClick(b)})},_sortbyClick:function(a){var b=!1;a=d(a.target);a.hasClass("sorthandle-sorted")&&!0!==a.hasClass("sorthandle-sorted-asc")&&(b=!0);this.element.find(".sorthandle").removeClass("sorthandle-sorted").removeClass("sorthandle-sorted-asc");
a.addClass("sorthandle-sorted "+(b?"sorthandle-sorted-asc":""));this._setOption("sortby",a.getDataAttr("sort")+" "+(b?"asc":"desc"))},_createContent:function(){},_getContent:function(){return this.element},_loading:function(a){var b=this.element,c=b.parent(),d=c.hasClass("viewport")||c.hasClass("main-viewport")?!0:!1,g=!0===d?c.hasClass("ui-inlineview"):!1;if(void 0===a||null===a||"string"!==typeof a)if(!0===d&&!0!==g)try{c.loading(!0===b.parent().hasClass("ui-loading")?"adjust":{})}catch(m){}else{b.addClass("ui-loading-current");
try{b.parents(".ui-loading").loading("adjust")}catch(m){}}else if(!0===d&&!0===g)try{c.loading(a)}catch(m){}else{"complete"===a?b.removeClass("ui-loading-current"):"adjust"===a&&b.addClass("ui-loading-current");try{b.parents(".ui-loading").loading(a)}catch(m){}}},_selectNext:function(a,b){var c=this.element,e=this.options,g=e.itemselector,m=!1,h;h=c.find(g+"."+e.activeClass);0<h.length&&(h=c.find(g).not('[data-noselect="true"]'),-1==b&&(h=h.reverse()),h.each(function(a,b){if(!0===m)return d(b).closest(g+
':not([data-noselect="true"])').addClass(e.activeClass),!1;var c=d(b).closest(g+"."+e.activeClass);0<c.length&&(c.removeClass(e.activeClass),m=!0);return this}));h=c.find(g+"."+e.activeClass);0>=h.length&&(c.find(g).not('[data-noselect="true"]')[-1==b?"last":"first"]().closest(g).addClass(e.activeClass),h=c.find(g+"."+e.activeClass));if(0<h.length){var c=h.closest(".scrollable-y"),k=0,l,n;0===c.length?(c=d(f),l=d("#main-header"),0<l.length&&(k=parseInt((l.css("top")+"").replace("px",""),10)),l=c.scrollTop(),
isNaN(k)&&(k=0),k=h.offset().top+k):(k=c.position().top,l=c.scrollTop(),k=h.position().top+l-k);n=k+h.outerHeight(!0);0<c.length&&(h=c.height(),l=c.scrollTop(),n>h+l?c.scrollTop(n-h+20):k<l&&c.scrollTop(k-20))}},keydown:function(a){var b=this.options,c=this.element;13==a.keyCode?(b=c.find(b.itemselector+"."+b.activeClass),0<b.length&&(a.preventDefault(),b.trigger("click"))):38!=a.keyCode&&40!==a.keyCode||this._selectNext(a,38==a.keyCode?-1:1)},destroy:function(){this.element.off(".inlinelist").removeClass("ui-inlinelist");
this._superApply(arguments)}});d.widget("ui.checkboxGroup",{options:{all:".checkbox-filter-all,.checkbox-all",item:null,allchecked:!1,lock:!1,individual:!1,exclusive:null,change:null,topic:null,topicsubscribe:null,topicpublish:null,fieldid:null,id:null},_create:function(){var a=this,b=a.options,c=a.element,e,g;a.activeItem=null;c.addClass("ui-checkboxgroup");c.dataOptions(b,{list:"?individual topic #topicsubscribe topicpublish exclusive fieldid".split(" ")});null===b.item&&(b.item=b.all?".checkbox-filter-item:not("+
b.all+"),.checkbox-item:not("+b.all+"),input[type=checkbox]:not("+b.all+")":".checkbox-filter-item,checkbox-item,input[type=checkbox]");g=a.fieldvalue();c.val(g);c.setSingleDataAttr("value",g);a.value=g;null===b.id&&(b.id=c.attr("id"));null===b.fieldid&&null!==b.id&&(b.fieldid=b.id);if(void 0!==b.fieldid&&null!==b.fieldid&&""!==b.fieldid){var f=u.cform(c);if(0<f.length){e="checkboxgroup-"+u.createUUID();c.attr("id",e);a.hiddenField=f.find("input#"+b.fieldid+"");if(1>a.hiddenField.length){var h={};
h.fiber_target=e;a.hiddenField=d(u.createhiddenfield(f,b.fieldid,g,h))}a.hiddenField.on("populateinput",function(){a.value=null;a.fieldvalue(P(a.hiddenField))}).on("reset",function(){a._reset()})}}c.find(b.item).filter(":disabled").addClass("data-fiber_disabled");c.on("success",b.item,function(){var a=d(this);!0===b.lock&&!0!==a.hasClass("data-fiber_disabled")&&a.prop("disabled",!1)}).on("error",b.item,function(){var a=d(this);!0===b.lock&&!0!==a.hasClass("data-fiber_disabled")&&a.prop("disabled",
!1);a.prop("checked",!1)}).on("complete",b.item,function(){if(b.all){var c=a.element.find(b.all);!0===b.lock&&!0===c.prop("disabled")&&!0!==c.not(".data-fiber_disabled").is(":disabled")&&c.prop("disabled",!1);!0===c.prop("disabled")||c.is(":checked")||c.prop("checked",!1)}}).on("click change",b.item+""+(null!==b.all?","+b.all:""),function(e){var g=d(e.currentTarget);if(g.is(b.item))g.hasDataAttr("group")?a._changeEvent(e,this,"[data-group~='"+g.getDataAttr("group")+"']"):a._changeEvent(e,this,":not([data-group])"),
!0===b.lock&&!0!==g.hasClass("data-fiber_disabled")&&g.prop("disabled",!0),b.all&&!0===b.lock&&a.element.find(b.all).prop("disabled",!0),!g.prop("checked")&&g.hasDataAttr("group")&&d("#"+g.getDataAttr("group")+"-all").prop("checked",!1);else if(null!==b.all&&!0!==g.hasClass("data-fiber_disabled")){var f=!0===g.hasClass("faux-checkbox")?!b.allchecked:g.prop("checked"),m;b.allchecked=f;m=g.hasDataAttr("group")?'[data-group~="'+g.getDataAttr("group")+'"]':":not([data-group])";c.find(b.item).filter(m).each(function(c,
g){var m=d(g);!0!==m.hasClass("data-fiber_disabled")&&m.prop("checked")!==f&&!0!==m.prop("disabled")&&(m.prop("checked",f),!0===b.individual&&a._changeEvent(e,g),!0===b.lock&&m.prop("disabled",!0))});!0!==b.individual&&(g.hasDataAttr("group")?a._changeEvent(e,this,"[data-group~='"+g.getDataAttr("group")+"']"):a._changeEvent(e,this,":not([data-group])"));b.all&&!0===b.lock&&c.find(b.all).prop("disabled",!0)}});a._subscribeTopic()},update:function(a){var b=this;b.element.find(b.options.item).each(function(c,
e){var g=d(e),f=g.attr("name");f&&void 0!==a[f]?b.fieldvalue(a[f],g):void 0!==a.value&&null!==a.value&&b.fieldvalue(a.value,g)})},_subscribeTopic:function(){var a=this,b=this.options,c=a.element;null!==b.topic&&(b.all&&c.find(b.all).prop("disabled",!0),c.find(b.item).prop("disabled",!0),a._publishTopic(),ea(b.topic).subscribe(function(d){var e=c.find('input[value="'+d.value+'"]');!0===e.hasClass("data-fiber_disabled")||1>e.length||("selected"==d.type||"unselected"==d.type?e.prop("disabled",!0):"selectedcomplete"==
d.type?(e[0].value==a.activeItem&&(a.activeItem=null),"success"!=d.status?(e.prop("checked",!1),ea(b.topic).publish({type:"unselected",value:d.value})):e.prop("disabled",!1),a._publishTopic()):"unselectedcomplete"==d.type&&e.prop("disabled",!1))}))},_publishTopic:function(){var a=this,b=a.options,c=a.element;if(null===a.activeItem){var e=c.find(b.item).not(".data-fiber_disabled").filter(":disabled"),g=e.filter("[checked]");0<g.length?g.each(function(c,e){if(null===a.activeItem){var g=d(e);a.activeItem=
g.val();ea(b.topic).publish(d.extend({type:"selected",id:null,value:g.val()},u.templateVariables({element:g,options:{inherit:!1,dynamic:!1,client:!1}})))}}):(e.prop("disabled",!1),b.all&&c.find(b.all).prop("disabled",!1))}},_values:function(){var a=[],b,c;this.element.find(this.options.item).each(function(e,g){b=d(g);!0===b.is(":checked")&&(c=b.val(),null!==c&&""!==c&&a.push(c))});return a},_labels:function(){var a=[],b,c;this.element.find(this.options.item).each(function(e,g){b=d(g);!0===b.is(":checked")&&
(c=b.parent().find('label[for="'+b.attr("id")+'"]'),0<c.length&&a.push(c.text()))});return a},fieldvalue:function(a){var b=this.options;if(1>arguments.length)return this.value=b=this._values().toString();if(this.value!==a){this.value=a;var c=a.split(","),e=this.element.find(b.item);1>c.length&&c.push("");e.each(function(b,f){var g=d(f),m=g.attr("value"),h,k,l,n,p;g.hasDataAttr("group")?(p=g.getDataAttr("group").split(" "),l='[data-group~="'+p.join(" ")+'"]'):(p=[],l=":not([data-group])");a=[];for(h=
0;h<c.length;h++){n=!1;if(1<p.length)for(k=0;k<p.length;k++)if(0<e.filter('[data-group~="'+p[k]+'"]').filter('[value="'+c[h]+'"]').length){a.push(c[h]);n=!0;break}n||0<e.filter(l).filter('[value="'+c[h]+'"]').length&&a.push(c[h])}a=a.join(",");m=""===a&&""===m||""!==a&&""!==m&&-1!==d.inArray(m,c)?!0:!1;g.prop("checked")!==m&&g.prop("checked",m)});this.element.val(this.value);this.element.setSingleDataAttr("value",this.value)}return this},_countchecked:function(a,b){var c=this.element.find(this.options.item).filter("input:checked").filter(a);
void 0!==b&&null!==b&&""!==b&&(c=c.not(b));return c.length},_countGroupMembers:function(a){return this.element.find(this.options.item).filter(a).length},_changeEvent:function(a,b,c){var e,g=this,f=g.options,h=g.element;b&&(e=d(b));if(null!==f.exclusive)if(b&&0<e.length&&-1!==f.exclusive.indexOf(e.attr("id"))){var k=e.attr("id");c=[];var l=0,n=!1,p=h.find(f.item);if(n=e.hasDataAttr("group"))c=e.getDataAttr("group").split(" "),l=c.length;if(!0===e.prop("checked"))if(0<l)for(a=0;a<l;a++)p.filter("[data-group~='"+
c[a]+"']").not("#"+k).prop("checked",!1),h.find(".checkbox-filter-all").filter("[data-group~='"+c[a]+"']").not("#"+k).prop("checked",!1);else p.not("#"+k).prop("checked",!1);else if(!n&&1>g._countchecked(":not([data-group])","#"+k)||n&&1>g._countchecked(""+c.join(",").replace(/(^|,)([^,]*)/gi,'$1[data-group="$2"]')+"","#"+k))"click"===a.type&&a.preventDefault(),e.prop("checked",!0)}else b&&0<e.length&&!0===e.prop("checked")?n?h.find("#"+f.exclusive.replace(/,/gi,",#")).filter(c).filter(":checked").prop("checked",
!1):h.find("#"+f.exclusive.replace(/,/gi,",#")).filter(":checked").prop("checked",!1):h.find("#"+f.exclusive).each(function(){var a=d(this);(!a.hasDataAttr("group")&&1>g._countchecked(":not([data-group])","#"+k)||a.hasDataAttr("group")&&1>g._countchecked(""+a.getDataAttr("group").split(" ").join(",").replace(/(^|,)([^,]*)/gi,'$1[data-group="$2"]')+"","#"+k))&&a.prop("checked",!0)});!0===f.individual?e=d.extend({value:e.val()},u.templateVariables({element:e,options:{inherit:!1,dynamic:!1,client:!1}})):
(e={values:[],value:""},e.values=g._values(),e.labels=g._labels(),e.value=e.values.toString());e.type=d(b).prop("checked")?"selected":"unselected";null!==f.topic&&ea(f.topic).publish(e);g._trigger("change",0,e);h.val(e.value);h.setSingleDataAttr("value",e.value);g.hiddenField&&P(g.hiddenField)!==e.value&&(P(g.hiddenField,null,e.value),g.hiddenField.trigger("change"));h.trigger("change",e)},reset:function(){this._reset()},_reset:function(){this.value=null},disable:function(){},enable:function(){}});
d.widget("ui.sidemenu",{options:{sortable:!1,process:null,processurl:null},_create:function(){var a=this,b=a.options,c=a.element;c.addClass("ui-sidemenu").setSingleDataAttr("fiber_id","sidemenu-"+u.createUUID());c.attr("id","sidemenu-"+u.createUUID());c.parent().attr("id","sidemenu-parent-"+u.createUUID());c.dataOptions(b,{list:["?sortable","process","processurl"]});!0===b.sortable&&d.fn.sortable?c.sortable({distance:12,forcePlaceholderSize:!0,connectWith:".ui-sidemenu",items:".li-sortable",placeholder:"li-placeholder",
tolerance:"pointer",update:function(b,c){a._updateposn(b,c)}}).disableSelection():f.dragula&&(a.dragula=dragula([c[0]],{moves:function(a,b,c){return-1!==a.className.indexOf("li-sortable")&&-1!==c.className.indexOf("icon-grip")?!0:!1},accepts:function(a,b,c,d){return-1===d.className.indexOf("li-locked")?!0:!1}}).on("drop",function(b){a._updateposn(null,{item:b})}));c.children("li").each(function(a,b){var c;b.setAttribute("data-position",a);null===b.getAttribute("data-targetref")&&(c=d(b).find("a[href]").first().attr("href"))&&
b.setAttribute("data-targetref",c)})},_updateposn:function(a,b){var c,e=[],g=[],f={};b&&b.item&&(this.element.children("li").each(function(a,b){var f,h,m,q;f=b.getAttribute("data-targetref");h=parseInt(b.getAttribute("data-position"),10);f&&(g.push(f),m=d(f),(q=m.getDataAttr("view"))&&e.push(q),h!==a&&(m.insertAfter(d(c)),b.setAttribute("data-position",a)));c=f}),this.options.processurl&&(f={views:e.join(","),refs:g.join(",")},d.ajax({url:this.options.processurl,dataType:"json",data:u.packdata(f),
dataFilter:u.ajaxDataFilter,cache:!1,type:"POST",error:function(a,b,c){u.ajaxError(a,b,c)},success:function(){}})),ea("resize").publish({originator:"sidemenu"}))}});d.layoututils={fillTemplate:function(a){a=d(a);a.find(".template-clone").remove();var b=a.find(".fill-template,.viewport-fill");if(b&&0<b.length){var c=a.height(),e=b.parent(),g=b,f,h,k;a.hasClass("scrollable-y")&&a.css("overflow-y","hidden");k=0;a:for(;1E3>k;k++)if(f=g.outerHeight(),h=g.position().top+f,f+h>=c){g=b.clone();g.addClass("template-clone").css({height:c-
h-4+"px","line-height":"2px","font-size":"2px",padding:"0"}).find("td").css({height:c-h-4+"px","line-height":"2px","font-size":"2px",padding:"0"});4<c-h&&e.append(g);break a}else g=b.clone(),g.addClass("template-clone"),e.append(g);a.hasClass("scrollable-y")&&a.css("overflow-y","auto")}},toggleTemplateColumns:function(a){a=d(a);var b=a.find(".extra");246<a.parent().width()?b.show():b.hide()}};d.extend(K,{loadDialog:function(a){var b=d.extend({id:null,view:null,viewstate:null,title:null,targetproperties:null,
data:{},configure:null,topic:null,topicsubscribe:null,topicpublish:null,updateonselected:!0,resetonclose:!0,resetonlock:!0,keyboard:!1,parentform:null},a),c=d("#"+b.id);1>c.length?(c=d(document.createElement("div")),c.attr("id",b.id),b.configure&&c.attr("data-configure",b.configure),c.dialogForm(b)):(a.openerid&&c.dialogForm("option","openerid",a.openerid),a.parentform&&c.dialogForm("option","parentform",a.parentform),void 0!==a.viewstate&&null!==a.viewstate&&(b.data.viewstate=a.viewstate),c.dialogForm("load",
b.data));return c},templateVariables:function(){var a={},b,c,e,g,f,h,k={client:!1,dynamic:!0,inherit:!0};c=arguments.length;for(b=0;b<c;b++)if(arguments[b]){void 0!==arguments[b].element?arguments[b].element.jquery?(e=arguments[b].element[0],g=arguments[b].element):(e=arguments[b].element,g=d(arguments[b].element)):(e=arguments[b][0],g=arguments[b]);void 0!==arguments[b].options&&(k=d.extend({},k,arguments[b].options));e=e.className;h=null;-1!==(" "+e+" ").indexOf(" ui-viewstack ")?h="viewStack":
-1!==(" "+e+" ").indexOf(" ui-inlinelist ")?h="inlineList":-1!==(" "+e+" ").indexOf(" ui-inlineview ")&&(h="inlineView");if(null!==h)try{f=d.fn[h].call(g,"templatevariables",k)}catch(I){f=g.dataAttr(k)}else f=g.dataAttr(k);a=d.extend(a,f)}return a},_windowresizehandler:function(a){a="CSS1Compat"===document.compatMode?document.documentElement:document.body;var b=!1,c=document.getElementsByClassName("main-viewport"),e=0,g,f;-1!==document.body.className.indexOf("responsive-ui")&&(f=a.clientWidth,769>
f?(b=!0,-1===document.body.className.indexOf("responsive-ui-mobile")&&(document.body.className+=" responsive-ui-mobile")):-1!==document.body.className.indexOf("responsive-ui-mobile")&&(document.body.className=document.body.className.replace(/responsive-ui-mobile/gi,"")));!0===b&&(c=document.querySelectorAll(".main-viewport,.main-height-mobile"));f=0;for(var h=c.length;f<h;f++){var k=c[f],l={footer:null,header:null},n={footer:null,header:null},p={footer:0,header:0},t,r,u=!1,w=d(k),A=w.offset().top;
for(r in l)if(l[r]=-1!==k.parentElement.className.indexOf("main-viewport-"+r+"offset")?k.parentElement:-1!==k.parentElement.parentElement.className.indexOf("main-viewport-"+r+"offset")?k.parentElement.parentElement:null,l[r]){t=l[r].parentElement.getElementsByClassName("page-"+r);if(1>t.length||!t[0].parentElement||t[0].parentElement!==k.parentElement&&t[0].parentElement!==k.parentElement.parentElement&&t[0].parentElement.parentElement!==k.parentElement)t=l[r].parentElement.getElementsByClassName("page"+
r);n[r]=t[0];if(!n[r]||!n[r].className||-1===n[r].className.indexOf("page-"+r)&&-1===n[r].className.indexOf("page"+r))for(;n[r]&&(3===n[r].nodeType||n[r].className&&-1===n[r].className.indexOf("page-"+r)&&-1===n[r].className.indexOf("page"+r));)if(n[r].children&&n[r].children[0]&&n[r].children[0].className&&(-1!==n[r].children[0].className.indexOf("page-"+r)||-1!==n[r].children[0].className.indexOf("page"+r))){n[r]=n[r].children[0];break}else n[r]=n[r].nextSibling;n[r]&&(p[r]=!b||l[r].parentElement&&
l[r].parentElement.className&&-1!==l[r].parentElement.className.indexOf("main-height-mobile")?n[r].offsetHeight:0,l[r]&&("footer"===r?(l[r].style.paddingBottom=p[r]+"px",l[r].style.marginBottom="-"+p[r]+"px"):(l[r].style.paddingTop=p[r]+"px",l[r].style.marginTop="-"+p[r]+"px")))}else{n[r]=k.parentElement.children[0];if(!n[r]||!n[r].className||-1===n[r].className.indexOf("page-"+r)&&-1===n[r].className.indexOf("page"+r))for(;n[r]&&(!n[r].className||-1===n[r].className.indexOf("page-"+r)&&-1===n[r].className.indexOf("page"+
r));)n[r]=n[r].nextSibling;!n[r]||-1===n[r].className.indexOf("page-"+r)&&-1===n[r].className.indexOf("page"+r)||(p[r]=n[r].offsetHeight,"header"===r&&(A-=p[r]),e+=p[r],!1===u&&(g=a.clientHeight,u=!0))}if(!0===u)l=w.parent().scrollTop(),document.body&&-1===document.body.className.indexOf("responsive-ui-mobile")||-1!==k.className.indexOf("main-viewport-mobile")?(k.style.height="100%",k.style.minHeight="100%"):(k.style.height="auto",k.style.minHeight="0"),g-=A,g-=e,A=w.parent().scrollTop(),l!==A&&(g-=
A),w=w.outerHeight()-g,(document.body&&-1===document.body.className.indexOf("responsive-ui-mobile")||-1!==k.className.indexOf("main-viewport-mobile")||-1!==k.className.indexOf("main-height-mobile"))&&(-1>w||1<w)&&(k.style.height=g+"px",k.style.minHeight=g+"px");else if(-1!==k.className.indexOf("main-viewport-mobile")||-1!==k.className.indexOf("main-height-mobile"))if(document.body&&-1!==document.body.className.indexOf("responsive-ui-mobile"))g=a.clientHeight,g-=A,g-=e,k.style.height=g+"px",k.style.minHeight=
g+"px";else if(document.body&&-1===document.body.className.indexOf("responsive-ui-mobile")||-1!==k.className.indexOf("main-viewport-mobile"))k.style.height="100%",k.style.minHeight="100%"}ea("resize").publish({originator:"layoutmanager"});d("body.ui-inlineview").inlineView("adjust","resize",!0)},close:function(a){a=d(a);!0===a.hasClass("ui-dialogform")?a.dialogForm("close"):0<a.closest(".ui-dialogform").length&&a.closest(".ui-dialogform").dialogForm("close")}});d.fn.extend({tooltip:function(a){var b=
d(this),c=b.parent();!0===c.hasClass("ui-tooltip-content")?c.qpopup(d.extend({position:"topcenter",targetselector:"[title]",tooltip:!0,targetreftype:"html"},a)):b.qpopup(d.extend({position:"topcenter",targetselector:"[title]",tooltip:!0,targetreftype:"html"},a));return this},dialogButtonClick:function(a,b){a.preventDefault();a.stopPropagation();var c=d(a.currentTarget),e=!1,g,h=d.extend({targetid:null,view:null,dataPriority:!1,title:null,targetproperties:null,data:{},topic:null,topicsubscribe:null,
topicpublish:null,updateonselected:!0,resetonclose:!0,resetonlock:!0,openerid:null,destroyOnClose:!1},b),q;h.openerid=c.attr("id");g=u.cform(c);0<g.length&&(h.parentform=g.attr("id"));null===h.targetid&&(h.targetid=c.getDataAttr("fiber_target"));if(void 0===h.targetid||null===h.targetid)g=c.getDataAttr("targetid"),h.targetid=void 0!==g&&null!==g?g:"dialog-"+u.createUUID();q=d(document.getElementById(h.targetid));0===q.length&&(q=document.createElement("div"),q.setAttribute("id",h.targetid),q.className=
"ui-dialogform",void 0!==q.parentElement&&null!==q.parentElement||(f.contextParent?f.contextParent:document.body).appendChild(q),e=!0,q=d(q));g=c.closest(".ui-inlineform,.ui-inlineview,.ui-inlinelist,.ui-viewstack");h.data=void 0!==h.dataPriority&&!0===h.dataPriority?d.extend(u.templateVariables({element:g,options:{dynamic:!0,inherit:!0,client:!1}},{element:c,options:{dynamic:!0,inherit:!0,client:!1}}),h.data):d.extend(h.data,u.templateVariables({element:g,options:{dynamic:!0,inherit:!0,client:!1}},
{element:c,options:{dynamic:!0,inherit:!0,client:!1}}));a.delegateTarget&&(h.data.relview=a.delegateTarget.getAttribute("id"));!0===e||!0!==q.hasClass("ui-dialogform")?(c.dataOptions(h,{list:"view targetproperties title ?destroyOnClose topic #topicsubscribe topicpublish ?updateonselected ?resetonclose ?resetonlock !openerid".split(" ")}),null===h.title&&(h.title=c.attr("title")),c.setSingleDataAttr("fiber_target",h.targetid),q=q.dialogForm(h),q.on("inlineformprocesscomplete",function(a,b){c.trigger("processcomplete",
b)})):!0===q.hasClass("ui-dialogform")&&(c.dataOptions(h,{list:["!openerid"]}),q.dialogForm("option","openerid",h.openerid),q.dialogForm("update",h.data));return q},dataOptions:function(a,b){u.dataOptions(void 0!==this.selector||void 0!==this.jquery&&0<this.length?this[0]:this,a,b);return this},setTargetProperties:function(a){if(null!==a.targetproperties){var b=d(this),c,e,g;"string"==typeof a.targetproperties&&(a.targetproperties=a.targetproperties.split(","));c=0;for(g=a.targetproperties.length;c<
g;c++)e=a.targetproperties[c],void 0===b.data(e)&&b.data(e,null),b.setSingleDataAttr(e,"")}return this},layoutManager:function(){var a=this,b;void 0!==f._debugoutput&&!0===f._debugoutput&&u.debugoutput();b=u.mobileos();""!==b&&-1===document.body.className.indexOf("mobile-"+b)&&(document.body.className=document.body.className+" mobile mobile-"+b);d(".main-body-content > .viewport.scrollable").addClass("main-viewport");d(f).on("resize orientationchange",function(b){a.resizeTimer&&(a.resizeTimer=clearTimeout(a.resizeTimer));
a.resizeTimer=setTimeout(function(){K._windowresizehandler(b);setTimeout(function(){K._windowresizehandler(b)},50)},50)});ea("resize").subscribe(function(b){b&&void 0!==b.originator&&"layoutmanager"===b.originator||(d(f).trigger("smartresize"),a.resizeTimer&&(a.resizeTimer=clearTimeout(a.resizeTimer)),a.resizeTimer=setTimeout(function(){K._windowresizehandler()},50))});ea("resize").publish({originator:"startup"});return this},header:function(){function a(){var a=d(".main-wrapper");!0===a.hasClass("main-nav-active")?
(a.removeClass("main-nav-active"),d(document.body).removeClass("main-nav-active")):(a.addClass("main-nav-active"),d(document.body).addClass("main-nav-active"))}d(".btn-responsivemenu").click(function(){a(!0)});d(".btn-gadgetbar").click(function(){a(!1)});d(".btn-gadgethome").click(function(){u.location("index.cfm")});d("#top-menu,.main-nav>ul").each(function(a,c){var b=d(c),g;b.find("ul").find("li:last").addClass("last");b.find("li").on("mouseenter mouseleave",function(a){var b=d(this);1>b.children("a[disabled]").length&&
(0<b.find("ul").length?"mouseenter"===a.type?g=setTimeout(function(){b.addClass("active")},300):(g=clearTimeout(g),g=null,b.removeClass("active")):"mouseenter"===a.type?b.addClass("active"):b.removeClass("active"))}).on("click",function(a){a.preventDefault();var b=d(this);if(1>b.children("a[disabled]").length)if(0<b.find("ul").length)b.addClass("active");else{var c;b.isTag("a")||(b=b.find("a"));c=b.attr("href");b=b.attr("target");c&&"#"!==c&&(a.stopPropagation(),u.location(c,b))}})});d("#toggle-header").on("click",
function(a){a.preventDefault();a=d("body");var b=d(this),e=!1;a.hasClass("header-closed")&&(e=!0);d.fn[!0===e?"removeClass":"addClass"].call(b,"toggle-header-closed");d.fn[!0===e?"removeClass":"addClass"].call(a,"header-closed");b.attr("title",e?"Hide":"Show");d.post(u.options.jsonURL+"ui.web.general.setting",u.packdata({setting:"header.closed",value:!0===e?"N":"Y"}));ea("resize").publish({originator:"header"});e?d("#affixedNav").css({top:"160px"}):d("#affixedNav").css({top:"77px"})});return this}});
Handlebars.registerHelper("text",function(a){return(a+"").replace(/(<[^>]*>)/gi,"")});Handlebars.registerHelper("date",function(a){return d.dateutils.inputFormat(a)});Handlebars.registerHelper("decimal",function(a){return d.utils.formatDecimal(a,2)});Handlebars.registerHelper("shortdate",function(a){return d.dateutils.shortFormat(a)});Handlebars.registerHelper("dateortime",function(a){return!0===d.dateutils.isToday(a)?d.dateutils.timeInputFormat(a):d.dateutils.inputFormat(a)});Handlebars.registerHelper("dataAttr",
function(){var a="",b=RegExp("[<>\"']+","gi"),c;for(c in this)a=b.test(this[c])?a+(" data-"+c+'="'+(this[c]+"").replace(/[<]/g,"&lt;").replace(/[>]/g,"&gt;").replace(/['"]/g,"&quot;")+'"'):a+(" data-"+c+'="'+this[c]+'"');return new Handlebars.SafeString(a)});Handlebars.registerHelper("safehtml",function(a){return new Handlebars.SafeString(a)});Handlebars.registerHelper("time",function(a){return d.dateutils.timeInputFormat(a)});Handlebars.registerHelper("checked",function(a){return a&&"Y"==a?new Handlebars.SafeString('<i class="icon icon-check"></i>'):
""});Handlebars.registerHelper("tags",function(a){a=(a||"").split(",");for(var b="",c=0;c<a.length;c++)b+='&nbsp;<span class="list-item-tag label">'+a[c]+"</span>";return new Handlebars.SafeString(b)});Handlebars.registerHelper("tickcross",function(a){return a&&"Y"==a?new Handlebars.SafeString('<i class="icon icon-check green"></i>'):a&&"N"==a?new Handlebars.SafeString('<i class="icon icon-times red"></i>'):""});Handlebars.registerHelper("ifeq",function(a,b,c){return a&&b===a?c.fn(this):c.inverse(this)});
Handlebars.registerHelper("ifneq",function(a,b,c){return a&&b===a?c.inverse(this):c.fn(this)});Handlebars.registerHelper("hasAccess",function(a,b){return!a||(!b||!b.hash||void 0===b.hash.role||b.hash.role!==a&&!0!==(new RegExp("(^|,)("+b.hash.role+")","i")).test(a))&&b&&b.hash&&void 0!==b.hash.role?b.inverse(this):b.fn(this)});d.widget("ui.togglebutton",{options:{value:null,toggle:null,toggleclass:"active in",target:null,togglehover:!1,targetisclosest:!1,multiple:!1,validate:null,fieldid:null,viewstack:null,
inactiveview:null,parent:null},_create:function(){var a=this,b=a.element,c=a.options,e,g;a.element.addClass("ui-togglebutton");a.value=null;b.dataOptions(c,{list:"viewstack fieldid toggle ?togglehover !toggleclass ?targetisclosest target validate value !inactiveview parent".split(" ")});void 0!==c.fieldid&&null!==c.fieldid&&(e=u.cform(b));if(void 0!==c.viewstack&&null!==c.viewstack&&(void 0!==c.fieldid&&null!==c.fieldid?(g=e.find("#"+c.viewstack),1>g.length&&(g=d("#"+c.viewstack))):g=d("#"+c.viewstack),
g.on("viewstackupdateselected",function(b,d){b.target.id==c.viewstack&&d.selected&&"none"!==d.selected&&a._fieldvalue(d.selected,!1)}),!0===c.togglehover))g.on("mouseenter mouseleave",function(b){a.mouseleavetimer&&(a.mouseleavetimer=clearTimeout(a.mouseleavetimer));"mouseleave"===b.type&&(a.mouseleavetimer=setTimeout(function(){a._fieldvalue("",!0)},300))});b.find(".btn,li,a").removeClass("active").removeClass("in");void 0!==c.fieldid&&null!==c.fieldid?(a.hiddenfield=e.find("#"+c.fieldid),a.hiddenfield=
!a.hiddenfield||1>a.hiddenfield.length?u.createhiddenfield(e,c.fieldid,"",{validate:"change"}):a.hiddenfield[0],""!==P(a.hiddenfield)&&a._fieldvalue(P(a.hiddenfield),!1),d(a.hiddenfield).on("populateinput",function(){a._fieldvalue(P(a.hiddenfield),!1)})):void 0!==c.value&&null!==c.value&&a._fieldvalue(c.value,!1);if(void 0!==c.toggle&&null!==c.toggle&&void 0!==c.target&&null!==c.target&&d.fn[c.toggle])d(c.target).on("shown hidden",function(){b.removeClass("animating")});b.on("click"+(!0===c.togglehover?
" mouseenter mouseleave":""),".btn,a",function(b){a._btnClick(b)});b.on("click"+(c.togglehover?" mouseenter mouseleave":""),function(b){a._btnClick(b)})},_btnClick:function(a){var b=this,c=b.element,e=d(a.target),g=d(a.currentTarget),f=b.options,h=!1,k=null;if(e.is("[disabled]")||e.hasClass("disabled")||e.parent().hasClass("disabled")||g.is("[disabled]")||g.hasClass("disabled")||g.parent().hasClass("disabled"))a.preventDefault(),a.stopPropagation();else if(b.mouseleavetimer&&(b.mouseleavetimer=clearTimeout(b.mouseleavetimer)),
"mouseleave"===a.type)b.mouseleavetimer=setTimeout(function(){b._fieldvalue("",!0)},300),a.preventDefault(),a.stopPropagation();else if(!0===g.hasClass("btn")||!0===g.isTag("a"))void 0!==g.attr("value")&&null!==g.attr("value")?(h=!0,k=g.attr("value")):void 0!==g.getDataAttr("value")&&null!==g.getDataAttr("value")?(h=!0,k=g.getDataAttr("value")):!0===g.isTag("a")&&void 0!==g.attr("href")&&null!==g.attr("href")&&(k=g.attr("href").replace(/^#/i,""),void 0!==k&&null!==k&&""!==k&&(h=!0)),(b.options.viewstack||
b.options.fieldid)&&a.preventDefault(),!0===h?(void 0!==f.toggle&&null!==f.toggle&&(!0===g.hasClass("active")||g.hasClass("in"))&&"tab"!==f.toggle&&(k=f.inactiveview?f.inactiveview:""),"class"===b.options.toggle&&a&&a.type&&"click"===a.type?b.value!==k?b._fieldvalue(k,!0):b._fieldvalue("",!0):b._fieldvalue(k,!0)):void 0!==f.toggle&&null!==f.toggle&&!0!==c.hasClass("animating")&&(!0===g.hasClass("active")||g.hasClass("in")?"tab"!==f.toggle&&(g.removeClass("active").removeClass("in").parent(".ui-togglebutton,li").removeClass("active").removeClass("in"),
k=f.inactiveview?f.inactiveview:"",b._toggle(g)):(g.removeClass("out").addClass("active").addClass("in").parent(".ui-togglebutton,li").addClass("active").addClass("in"),b._toggle(g)))},_toggle:function(a){var b=this.options,c,e;void 0!==b.target&&null!==b.target&&(null!==b.parent&&""!==b.parent&&this.element.parents(b.parent).find(".collapse.in").each(function(a,f){e=d(f);e.is(b.target)||(e.closest(b.parent).find('.ui-togglebutton[data-target="#'+e.attr("id")+'"]').removeClass("in active"),"toggle"===
b.toggle?(c=e[b.toggle],c.call(e,!1)):"class"===b.toggle?e.removeClass("active").removeClass("in"):(c=e[b.toggle],c.call(e,"hide")))}),d.fn[b.toggle]||"class"===b.toggle)&&(void 0!==b.fieldid&&null!==b.fieldid?(e=u.cform(this.element).find(b.target),1>e.length&&(e=d(b.target))):e=!0===b.targetisclosest?this.element.closest(b.target):d(b.target),"toggle"===b.toggle?(a=!0===a.hasClass("active")?!0:!1,c=e[b.toggle],c.call(e,a)):"class"===b.toggle?!0===a.hasClass("active")?e.addClass(b.toggleclass):e.removeClass(b.toggleclass):
(a=!0===a.hasClass("active")?"show":"hide",c=e[b.toggle],c.call(e,a)),ea("resize").publish({originator:"togglebutton"}))},fieldvalue:function(a){if(1>arguments.length)return this.value;this._fieldvalue(a,!1)},_fieldvalue:function(a,b){var c=this.options,e,g;if(1>arguments.length)return this.value;a!==this.value&&(this.value=a,e=this.element,e.filter(".btn.active,a.active").removeClass("active").removeClass("in"),e.find(".btn.active,a.active").removeClass("active").removeClass("in").parent("li,.ui-togglebutton").removeClass("active").removeClass("in"),
g=e.filter('.btn[value="'+this.value+'"],a[href="#'+this.value+'"],a[data-value="'+this.value+'"],.btn[data-value="'+this.value+'"]'),1>g.length&&(g=e.find('.btn[value="'+this.value+'"],a[href="#'+this.value+'"],a[data-value="'+this.value+'"],.btn[data-value="'+this.value+'"]')),g.addClass("active").addClass("in"),g.parent("li,.ui-togglebutton").addClass("active").addClass("in"),this._toggle(g),!0===b&&e.trigger("change"),this.hiddenfield&&(this.hiddenfield.value=a,!0===b&&d(this.hiddenfield).trigger("change")),
this.options.viewstack&&(void 0!==c.fieldid&&null!==c.fieldid?(c=u.cform(this.element).find("#"+this.options.viewstack),1>c.length&&(c=d("#"+this.options.viewstack)),c.filter(".ui-viewstack").viewStack("load",a)):d("#"+this.options.viewstack).filter(".ui-viewstack").viewStack("load",a)));return this}});d.widget("ui.copyregions",{options:{audit:null,auditurl:null},_audit:function(a){var b=this.options;null!==b.auditurl&&d.ajax({url:b.auditurl,data:u.packdata(a),dataFilter:u.ajaxDataFilter,dataType:"json",
success:function(){},error:function(a,b,d){u.ajaxError(a,b,d)}})},_create:function(){var a=this;a.element.dataOptions(a.options,{prefix:{auditurl:u.options.jsonURL},list:["audit","auditurl"],alias:{auditurl:"audit"}});a.element.on("click",".copyregion",function(b){var c=a.element.find(".regionindicator").show(),e;1>c.length&&(c=d("<div></div>").addClass("regionindicator"),a.element.append(c));a.element.find(".copyregion-selected").removeClass("copyregion-selected");e=d(b.currentTarget).closest(".copyregion");
e.addClass("copyregion-selected");a.selectedregion=e;b=e.position();c.css({top:b.top,left:b.left,width:e.innerWidth(),height:e.innerHeight()+2});a.selectedregion.selectText();a._audit(d.extend({},{audit_action:"CLICK"},e.dataAttr()))})}});d.widget("ui.qpopup",{options:{data:{},events:{},style:{},classname:"",text:" ",adjust:{},tip:{},propagate:null,propagatetarget:".btn,form,[data-role],.faux-button",tooltip:!1,success:null,prerender:!1,cache:!0,ready:!1,persistent:!0,inlineview:!1,position:"bottomcenter",
positionobject:null,delay:300,loadingCloseDelay:0,loaddelay:0,x:null,y:null,showevent:"mouseenter click",updateevent:null,hidedelay:200,hideevent:"mouseleave inlineformprocesscomplete",targetselector:null,targetref:null,targetrefrestore:null,targetreftype:"append",targetrefwrapper:null,targetproperties:null,multitarget:null,viewport:null,viewportselector:null,target:null,view:null,viewurl:null,positiontarget:!1,positiontargetelement:null,forceupdate:!1,inheritProperties:!1,preventLoadOnShow:!1,closeontooltip:!1,
"static":!1,configure:null,load:null,deferreddelay:200,nounfocus:null,autofocus:!0,offset:0,xoffset:null,yoffset:null,container:!1,openonfocus:!1,ignoretopicreset:!0},_load:function(a){var b=this.options,c=this._popupContent(),e=this.element.getDataAttr("fieldid");a=d.extend({fieldid:e},this._tv({inherit:!0}),a);a.fieldid?(e=this.element.closest("form").find("#"+a.fieldid).fieldValue(),void 0!==e&&null!==e&&(a.value=e)):a.value=this.element.attr("value")||a.value;null!==c?!0===c.hasClass("ui-inlineview")?
(e=d(this._target).closest(".ui-inlineview,.ui-inlinelist,.ui-viewstack").attr("data-fiber_id"),c.inlineView("option","parentId",e),c.inlineView("update",a),null!==b.data&&"function"!==typeof b.data&&(b.data=null),this.updatePending=!1):!0!==this.updatePending&&(this.updatePending=this.renderCalled):!0!==this.updatePending&&(this.updatePending=this.renderCalled);null!==b.data&&"function"!==typeof b.data&&(b.data=d.extend({},b.data,a));!0===this.updatePending&&!0===this.renderCalled&&this._render()},
_render:function(){this._api().render()},_positionPreset:function(a,b,c){"string"===typeof a&&("right"===a?a="middleright":"bottom"===a&&(a="bottomcenter"));b={middleright:{tip:{width:14,height:8},at:"right middle",my:"left middle",xoffset:-8+(void 0!==b?b:0),yoffset:0,method:"flipinvert shift"},bottomcenter:{tip:{width:14,height:8},at:"bottom center",my:"top center",xoffset:0,yoffset:-8+(void 0!==c?c:0),method:"shift flipinvert"},middlecenter:{tip:{width:14,height:8},at:"middle center",my:"top center",
xoffset:void 0!==b?b:0,yoffset:void 0!==c?c:0,method:"shift flipinvert"},topcenter:{tip:{width:14,height:8},at:"top center",my:"bottom center",xoffset:0,yoffset:8-(void 0!==c?c:0),method:"shift flipinvert"},topleft:{tip:{width:14,height:8},at:"top left",my:"bottom center",xoffset:void 0!==b?b:0,yoffset:0,method:"shift flipinvert"},bottomright:{tip:{width:14,height:8,mimic:"top center",offset:8},at:"bottom center",my:"top right",xoffset:20,yoffset:-8+(void 0!==c?c:0),method:"shift flipinvert"},bottomleft:{tip:{width:14,
height:8,mimic:"top center",offset:8},at:"bottom left",my:"top left",xoffset:10+(void 0!==b?b:0),yoffset:-8+(void 0!==c?c:0),method:"shift flipinvert"}};return"string"===typeof a&&void 0!==b[a]?b[a]:b.bottomcenter},_calculatePosition:function(){var a=this.options,b;null===a.xoffset&&(a.xoffset=a.offset);null===a.yoffset&&(a.yoffset=a.offset);b=this._positionPreset(a.position,a.xoffset,a.yoffset);a.style.tip=!1===a.tip?!1:d.extend({corner:!0,mimic:void 0!==b.tip.mimic?b.tip.mimic:!1,width:b.tip.width,
height:b.tip.height,offset:void 0!==b.tip.offset?b.tip.offset:0},a.tip);a.positionobject={at:b.at,my:b.my,effect:!1,container:a.container,viewport:a.viewport?a.viewport:d(f),target:a.positiontarget};a.positionobject.adjust=d.extend({x:null!==a.x?a.x:b.xoffset,y:null!==a.y?a.y:b.yoffset,screen:!1,scroll:!1,resize:!1,mouse:!1,method:b.method},a.adjust)},_setupOptions:function(){var a=this.options;!0===a.inheritProperties&&("string"==typeof a.targetproperties&&(a.targetproperties=a.targetproperties.split(",")),
null===a.targetproperties&&(a.targetproperties=[]),d.each(d(this.element).dataAttr(),function(b){a.targetproperties.push(b)}));this.element.dataOptions(a,{list:"!position view !targetproperties !targetreftype !targetrefrestore !targetselector !loaddelay targetref !showevent !hideevent ?openonfocus ?forceupdate ?cache !propagate !propagatetarget #offset !closeontooltip".split(" ")});"string"===typeof a.hideevent&&"false"===(a.hideevent+"").toLowerCase()&&(a.hideevent=!1);null===a.multitarget&&(a.multitarget=
a.targetselector&&""!==a.targetselector?!0:!1);a.openonfocus&&(a.showevent+=" focus");!0===a.tooltip&&""===a.classname&&(a.classname="ui-tooltip-tooltip");null===a.target&&(a.target=a&&a.targetselector&&""!==a.targetselector?d(null):!1);"string"==typeof a.targetproperties&&(a.targetproperties=a.targetproperties.split(","));a.style=d.extend({textAlign:"center",classes:a.classname,name:"dark",width:"auto"},a.style);this._calculatePosition()},_create:function(){var a=this,b=a.options;a.element.addClass("ui-qpopup");
1>a.element.parent().length&&a.element.appendTo(document.body);a.showTimer=null;a.renderCalled=!1;a._setupOptions();a.preventLoadOnShow=b.preventLoadOnShow;a.updatePending=!1;null===b.xoffset&&(b.xoffset=b.offset);null===b.yoffset&&(b.yoffset=b.offset);if(null!==b.updateevent&&""!==b.updateevent)a.element.on(b.updateevent,function(c){if("keyup"!==b.updateevent||-1===d.inArray(c.keyCode,[13,27,38,40,39,37,16,17,18,20,91,93]))!0===a.element.qtip("api").elements.tooltip.is(":visible")?a._load():a.element.qtip("api").show()});
if(!0===b.multitarget)b.targetselector&&(a.element.on(b.showevent,b.targetselector,function(b){a._target=b.currentTarget;a.show(b)}),a.element.on(b.hideevent,b.targetselector,function(b){a.deferredclose(b)}));else{a._target=a.element;if("boolean"!==typeof b.showevent||!1!==b.showevent)a.element.on(b.showevent,function(b){a.show(b)});if(!("boolean"===typeof b.hideevent&&!1===b.hideevent||"string"===typeof b.hideevent&&"unfocus"===b.hideevent))a.element.on(b.hideevent,function(b){a.deferredclose(b)})}a.element.qtip({content:{text:b.text,
ajax:!1,button:!0},prerender:b.prerender,events:{hide:function(b){a._onhide(b)},show:function(){a._onshow()},render:function(){a._onrender();!0===b.ready&&!0===b.preventLoadOnShow&&a._load()}},position:b.positionobject,show:{event:!1,target:b.target,ready:b.ready,persistent:b.persistent,delay:b.delay,effect:function(){d(this).stop(0,1).show().stop(0,1)}},hide:{fixed:!0,nounfocus:b.nounfocus,delay:0,event:"string"===typeof b.hideevent&&"unfocus"===b.hideevent?"unfocus inlineformprocesscomplete":!1,
when:{event:"string"===typeof b.hideevent&&"unfocus"===b.hideevent?"unfocus inlineformprocesscomplete":!1},effect:function(){d(this).stop(0,1).hide().stop(0,1);!0!==b.persistent&&a.destroy()},target:b.target},style:b.style});d.Widget.prototype._create.apply(this,arguments)},update:function(a){u.setdata(this.element,a);this._update(a)},_update:function(a){this._load(a)},templatevariables:function(a){return this._tv(a)},isvisible:function(){var a=this.element.qtip("api").elements;return a&&a.tooltip&&
a.tooltip.is(":visible")?!0:!1},_tv:function(a){var b=this._popupContent(),c=this.options,e={};null!==c.data&&"function"!==typeof c.data?e=c.data:null!==b&&(e=b.dataAttr(a));e=d.extend({},e,d(this._target).dataAttr({inherit:!0}));null!==c.data&&"function"===typeof c.data&&(e=d.extend({},e,d.proxy(c.data,this._target)()));return e},load:function(a,b){this.preventLoadOnShow=!0;this.show();this.updatePending=!0;this._load(a);void 0!==b&&this._setOptions(b)},_content:function(){var a=this._api();return null!==
a&&void 0!==a.elements?a.elements.content:null},content:function(){return this._content()},_api:function(){var a=this.element.qtip("api");void 0===a&&(a=null);return a},destroy:function(){this._api().destroy();this.inlineView("destroy");d.Widget.prototype.destroy.call(this)},_setOption:function(a,b){var c=this.options,e=this._api(),g;switch(a){case "targetref":!c.targetref||"append"!==c.targetreftype&&"appendtoview"!==c.targetreftype?c.targetref=b:(g=this._popupContent())?(g.find(c.targetref).hide(),
c.targetref=b,this._targetref()):c.targetref=b;break;case "targetreftype":c.targetreftype=b;break;case "closeontooltip":c.closeontooltip=b;!0===c.tooltip&&e.set("style.classes",c.style.classes+" ui-tooltip-tooltip-closeontooltip");break;case "positiontarget":c.positionobject.target=b;!0===d("body").hasClass("responsive-ui")&&769>d(f).width()?(e.set("position.target",d(f)),e.set("position.tip",!1),e.set("position.my","center"),e.set("position.at","center")):(e.set("position.tip",c.positionobject.tip),
e.set("position.my",c.positionobject.my),e.set("position.at",c.positionobject.at),e.set("position.target",b));break;case "positionviewport":c.positionobject.viewport=b;e.set("position.viewport",b);break;case "positionmy":c.positionobject.my=b;e.set("position.my",b);break;case "positionat":c.positionobject.at=b;e.set("position.at",b);break;case "x":c.positionobject&&c.positionobject.adjust&&(c.positionobject.adjust.x=b);e.set("position.adjust.x",b);break;case "y":c.positionobject&&c.positionobject.adjust&&
(c.positionobject.adjust.y=b);e.set("position.adjust.y",b);break;case "offset":c.offset!==b&&(c.offset=b,this._calculatePosition(),e.set("position.adjust.x",c.positionobject.adjust.x),e.set("position.adjust.y",c.positionobject.adjust.y));break;case "text":c.text=null!==b&&""===b?" ":b;(g=this._popupContent())?g.html(c.text.replace(/\n/gi,"<br />")):e.set("content.text",c.text.replace(/\n/gi,"<br />"));break;case "tooltip":c.tooltip=b,!0===c.tooltip&&""===c.classname&&(c.classname="ui-tooltip-tooltip",
c.style.classes=c.classname,e.set("style.classes",c.style.classes))}d.Widget.prototype._setOption.apply(this,arguments)},target:function(a){if(1>arguments.length)return this._target;this._target=a;return this},inlineView:function(a,b){var c;c=this._popupContent();return 0<arguments.length&&"string"===typeof a?(void 0!==c&&0<c.length&&!0===c.hasClass("ui-inlineview")&&c.inlineView(a,b),null):!0===c.hasClass("ui-inlineview")?c:null},_popupContent:function(){var a=this._content();return void 0!==a&&
null!==a?a.children(".internal-popup-content"):null},_targetref:function(){var a=this.options,b=this._popupContent();if("html"===a.targetreftype)null!==a.targetrefwrapper?b.html(d(a.targetrefwrapper).append(d(a.targetref).html())):(a=d.trim(d(a.targetref).html()),b.html(a),this.nocontent=1>a.length?!0:!1);else if("clone"===a.targetreftype)null!==a.targetrefwrapper?b.html(d(a.targetrefwrapper).append(d(a.targetref).clone(!1).show())):b.html(d(a.targetref).clone(!1).show());else if("append"===a.targetreftype||
"appendtoview"===a.targetreftype)a=d(a.targetref).detach(),b.html(""),b.append(a.show())},_targetrefhascontent:function(){var a=this.options;return"html"==a.targetreftype&&null===a.targetrefwrapper&&(a=d.trim(d(a.targetref).html()),1>a.length)?!1:!0},_changeevent:function(a,b){a.stopImmediatePropagation();a.stopPropagation();var c=this.element,e=a.originalEvent,g,f="change",h=!1;void 0!==e&&null!==e&&void 0!==e.target?(g=e.target,f=e.type,d(g).is('input[type="checkbox"]')&&0<d(g).closest(".ui-checkboxgroup").length&&
(g=d(g).closest(".ui-checkboxgroup")[0])):g=a.target;e=d(g).fieldValue();g&&"richtextfroala"===g.getAttribute("data-role")&&(h=!0);c.val(e);c.setSingleDataAttr("value",e);this.element.getDataAttr("fieldid")&&(g=this.element.closest("form").find("#"+this.element.getDataAttr("fieldid")),!0===h&&"hidden"===g.attr("type")?g.val()!==e&&(g.val(e),g.trigger("change")):g.fieldValue()!==e&&(g.fieldValue(e),g.trigger("change")));c.trigger(f,b)},_onrender:function(){var a=this,b=a.options,c,e=a._content();if(!0!==
a.renderCalled){a.renderCalled=!0;e.wrapInner('<div class="internal-popup-content" />');c=e.children(".internal-popup-content");null!==b.configure&&c.setSingleDataAttr("configure",b.configure);null!==b.load&&c.setSingleDataAttr("load",b.load);null!==b.targetproperties&&c.setSingleDataAttr("targetproperties",b.targetproperties);c.setTargetProperties(b);!0!==b.tooltip&&c.setDataAttr(a._tv());void 0!==b.targetref&&null!==b.targetref&&a._targetref();!0===b.tooltip||!0===b["static"]||void 0!==b.targetref&&
null!==b.targetref&&"appendtoview"!==b.targetreftype||void 0===c||!0===c.hasClass("ui-inlineview")?(a._trigger("load"),a._trigger("render"),!0===b.prerender&&a._load()):c.configure().then(function(){d.fn.inlineView.call(c,{cache:b.cache,data:b.data,forceupdate:b.forceupdate,autofocus:b.autofocus,viewurl:b.viewurl,targetproperties:b.targetproperties,view:b.view,autoLoad:!1,loaddelay:b.loaddelay,loadingtext:"",loadingclass:"loading-background loading-background-white",loadingCloseDelay:b.loadingCloseDelay,
ignoretopicreset:b.ignoretopicreset,escape:function(){a.hide()},load:function(){a._trigger("load");!0===b.preventLoadOnShow&&a._load()},created:function(){a._trigger("render");!0!==b.prerender&&!0!==a.updatePending||a._load()},update:function(){a._reposition()},adjust:function(){a._reposition()},cancel:function(){a.hide()},updateview:function(){a._reposition();try{d(this).find(".ui-inlineview").on("inlineviewupdateview",function(){a._reposition()})}catch(g){}}})});e.on("change inputchange",function(b,
c){a._changeevent(b,c)}).on("resize",function(b){b.stopPropagation();b.stopImmediatePropagation();b.preventDefault();a._reposition()}).on("click relclick","button.close,.closepopup,.close-popup",function(b){a._close(b)});if(0<b.deferreddelay&&(a._tooltip().on("mouseenter",function(c){if(!0!==b.closeontooltip)a.closeTimer&&(a.closeTimer=clearTimeout(a.closeTimer));else if(!("boolean"===typeof b.hideevent&&!1===b.hideevent||"string"===typeof b.hideevent&&"unfocus"===b.hideevent))try{a.deferredclose(c)}catch(m){}}),
!("boolean"===typeof b.hideevent&&!1===b.hideevent||"string"===typeof b.hideevent&&"unfocus"===b.hideevent)))a._tooltip().on("mouseleave inlineformprocesscomplete",function(c){"boolean"===typeof b.hideevent&&!1===b.hideevent||"string"===typeof b.hideevent&&"unfocus"===b.hideevent||a.deferredclose(c)});if(null!==b.propagate&&""!==b.propagate)e.on(b.propagate,b.propagatetarget,function(c,e){e||(e={});"click"===c.type||"nav"===c.type?c.currentTarget&&c.currentTarget.className&&-1!==c.currentTarget.className.indexOf("closepopup")&&
a._close():a.element.trigger(c,e);c&&c.type&&(d(c.currentTarget).is(b.propagatetarget)?"object"===typeof a._target?a._target.trigger("propagate"+c.type,d.extend(e,{target:c.currentTarget})):a.element.trigger("propagate"+c.type,d.extend(e,{target:c.currentTarget})):d(c.target).is(b.propagatetarget)&&("object"===typeof a._target?a._target.trigger("propagate"+c.type,d.extend(e,{target:c.target})):a.element.trigger("propagate"+c.type,d.extend(e,{target:c.target}))))})}},adjust:function(){this._reposition()},
_onhide:function(){var a=this,b=a.options;a.onshowtimer&&(a.onshowtimer=clearTimeout(a.onshowtimer));a.onhidetimer&&(a.onhidetimer=clearTimeout(a.onhidetimer));a.onhidetimer=setTimeout(function(){var c=a._popupContent();null!==b.targetrefrestore&&c.has(b.targetref)&&d(b.targetrefrestore).append(d(c.children()[0]).show());null!==c&&!0===c.hasClass("ui-inlineview")&&c.inlineView("close");a._trigger("close")},100)},show:function(a){var b=this,c=b.options,d;d=b._api();if(a&&a.currentTarget&&a.currentTarget.className&&
-1!==a.currentTarget.className.indexOf("disable-popup"))d.hide();else{if(void 0!==c.targetref&&null!==c.targetref){if("append"!==c.targetreftype&&"appendtoview"!==c.targetreftype&&!0!==b._targetrefhascontent()){d.hide();return}}else if(!(null!==c.view&&""!==c.view||null!==c.text&&""!==c.text&&" "!==c.text)&&""===b._title()){d.hide();return}b.closeTimer&&(b.closeTimer=clearTimeout(b.closeTimer));!(0<c.delay)||a&&("click"==a.type||"focus"==a.type||"focusin"==a.type)||d&&d.elements&&d.elements.tooltip&&
d.elements.tooltip.hasClass("qtip-focus")?d.hide().show().reposition():(b.showTimer=clearTimeout(b.showTimer),b.showTimer=setTimeout(function(){b._api().hide().show().reposition()},c.delay))}},_reposition:function(){var a,b=this.element.qtip("api"),c;b&&b.elements&&b.elements.tooltip&&(c=b.elements.tooltip[0],this._api().reposition(),setTimeout(function(){try{void 0!==c&&(a=parseInt(d(c).css("top"),10),0>a&&(d(c).find(".qtip-tip").hide(),d(c).css({top:"10px"})))}catch(e){}},1))},reposition:function(){this._reposition()},
hide:function(a){this._close(a)},inactive:function(a){this._close(a)},_close:function(a){var b=this.options,c=this._tooltip();if(void 0!==a&&(null===b.propagate||""===b.propagate||!d(a.target).is(b.propagatetarget))&&(a.stopPropagation(),void 0!==c&&0<c.has(a.relatedTarget).length))return;null!==this.showTimer&&(this.showTimer=clearTimeout(this.showTimer),this.showTimer=null);this.updatePending=!1;this._api().hide(a)},close:function(a){this._close(a)},deferredclose:function(a){if(!(a&&a.toElement&&
a.toElement.className)||-1===a.toElement.className.indexOf("ui-tooltip")&&-1===a.toElement.className.indexOf("qtip")&&-1===(" "+a.toElement.className+" ").indexOf(" active ")&&-1===a.toElement.className.indexOf("popup-content")&&-1===a.toElement.className.indexOf("dropdown"))if(!(a&&a.fromElement&&a.toElement&&a.fromElement.className&&a.toElement.className&&-1!==a.fromElement.className.indexOf("rel-tooltip"))||-1===a.toElement.className.indexOf("ui-tooltip-tooltip")&&-1===a.toElement.className.indexOf("qtip-tip")){var b=
this;0<b.options.deferreddelay&&(b.closeTimer&&(b.closeTimer=clearTimeout(b.closeTimer)),b.closeTimer=setTimeout(function(){b._close(a)},b.options.deferreddelay))}},deferredclosestop:function(){this.closeTimer&&(this.closeTimer=clearTimeout(this.closeTimer))},_tooltip:function(){var a=this._api();return null!==a&&void 0!==a.elements?a.elements.tooltip:null},_title:function(){var a=d(this._target),b=a.attr("title");void 0===b||""===b?(b=a.getDataAttr("oldtitle"),b=void 0!==b?b:a.getDataAttr("title")):
(a.setSingleDataAttr("oldtitle",b),a.attr("title",""));return void 0!==b&&null!==b?b.replace(/\n/gi,"<br />"):a.html()},_onshow:function(){var a=this,b=a.options,c=a._tooltip(),e=a._popupContent(),g=d(a._target);a.onhidetimer&&(a.onhidetimer=clearTimeout(a.onhidetimer));void 0!==c&&null!==c&&c.show();if(b.view||b.viewurl)!0!==a.preventLoadOnShow&&(a._load(),a.preventLoadOnShow=b.preventLoadOnShow);else if(!b.targetref){if(null===b.text||""===b.text||" "===b.text)e.html(a._title()),e.children(".popup-content-inline").show()}else if(void 0!==
b.targetref&&null!==b.targetref&&(e.setDataAttr(a._tv()),"append"!==b.targetreftype&&"appendtoview"!==b.targetreftype||null!==b.targetrefrestore&&!0!==e.has(b.targetref))&&(a._targetref(),void 0!==a.nocontent&&!0===a.nocontent)){a.showTimer&&(a.showTimer=clearTimeout(a.showTimer));a._api().hide();return}!0===b.multitarget?((b=b.viewportselector)&&""!==b&&a._setOption("positionviewport",g.parents(b)[0]),a._setOption("positiontarget",g)):a._setOption("positiontarget",b.positiontarget);a.onshowtimer&&
(a.onshowtimer=clearTimeout(a.onshowtimer));a.onshowtimer=setTimeout(function(){a._trigger("show");null!==e&&!0===e.hasClass("ui-inlineview")&&e.inlineView("show")},200)}});d.extend(K,{loadPopup:function(a,b,c,e,g){a=a&&a.currentTarget?d(a.currentTarget):d(a);var f=0,h=!1,f=a.getDataAttr("targetid"),k={},l=[],n;if(!(1>a.length||(!0===a.hasDataAttr("targetproperties")&&g&&(k=g),a.hasClass("disable-popup")||a.hasClass("mobile-hidetooltip")&&d("body").hasClass("responsive-ui-mobile")||"dialog"===a.attr("data-rel")&&
d("body").hasClass("responsive-ui-mobile")))){if(void 0!==c&&null!==c)f=c;else if(void 0===f||null===f)h=a.getDataAttr("fiber_target"),f=void 0!==h&&null!==h?h:"popup-"+u.createUUID();g=a.getDataAttr("targetref");n=a.getDataAttr("targetreftype")||"html";if(void 0!==f&&null!==f){f=f.replace(/\./gi,"-");void 0!==c&&null!==c||a.setSingleDataAttr("fiber_target",f);c=d("#"+f);var h="true"===a.getDataAttr("closeontooltip")||!0===a.getDataAttr("closeontooltip")?!0:!1,p=a.dataAttr({inherit:!1}),k=d.extend({},
k,p);1>c.length&&(!0===a.hasDataAttr("targetproperties")?l=a.getDataAttr("targetproperties"):d.each(p,function(a){l.push(a)}),c=document.createElement("div"),c.id=f,document.body.appendChild(c),c=d("#"+f),c.qpopup({multitarget:!0,targetref:g,targetreftype:n,position:a.getDataAttr("position")?a.getDataAttr("position"):b&&!0===b?"topcenter":null,showevent:!1,tooltip:b&&!0===b?!0:!1,closeontooltip:h,hideevent:"mouseleave inlineformprocesscomplete",view:void 0!==e&&!0===e?null:a.getDataAttr("view"),deferreddelay:200,
delay:300,targetproperties:l}));a.getDataAttr("fieldid")?k.value=u.cform(a).find("#"+a.getDataAttr("fieldid")).fieldValue():k.value=a.attr("value");c.qpopup("target",a);f=(f=a.getDataAttr("offset"))&&!isNaN(parseFloat(f))?parseFloat(f):0;c.qpopup("option",{positiontarget:a,propagate:a.attr("data-propagate"),targetref:g,targetreftype:n,offset:f,closeontooltip:h});c.qpopup("load",k)}}}});d.widget("ui.colorpicker",{options:{color:"rgba(107,107,107,1.0)",colors:"rgba(255,58,56,1.0) rgba(255,95,65,1.0) rgba(255,150,33,1.0) rgba(255,225,33,1.0) rgba(0,211,8,1.0) rgba(0,218,98,1.0) rgba(0,214,250,1.0) rgba(0,171,220,1.0) rgba(0,122,254,1.0) rgba(83,84,220,1.0) rgba(236,68,251,1.0) rgba(255,77,185,1.0) rgba(255,43,90,1.0) rgba(177,178,180,1.0) rgba(107,107,107,1.0) rgba(50,50,50,1.0)".split(" ")},
_create:function(){var a=this,b=a.options,c="";a.element.dataOptions(b,{list:["!color"]});a.element.addClass("ui-colorpicker colorpicker");a.element.append('<div class="colorpicker-swatch"></div>');a.element.find(".colorpicker-swatch").css({"background-color":b.color});for(var e=0;e<b.colors.length;e++)c+='<a class="btn btn-icon" data-color="'+b.colors[e]+'" style="background:'+b.colors[e]+';">&nbsp;&nbsp;</a>';a.element.qpopup({text:"<div class='colorpicker-colors'>"+c+"</div>",propagate:"click",
nounfocus:null,autofocus:!1,"static":!0,hideevent:"mouseleave inlineformprocesscomplete",deferreddelay:200,delay:300,yoffset:1,position:"bottomleft",classname:""});a.element.on("propagateclick",function(c,e){if(e&&e.target){var g=d(e.target).getDataAttr("color");void 0!==g&&null!==g&&(b.color=g,a.element.find(".colorpicker-swatch").css({"background-color":b.color}),a.element.setSingleDataAttr("color",b.color),a.element.trigger("change"),a.element.trigger("select"))}})}});var Ha={},ab={};d.extend(K,
{DataView:function(a){function b(a){for(var b=N,c=a||0,d=L.length;c<d;c++){a=L[c][b];if(void 0===a){b=b===b.toLowerCase()?b.toUpperCase():b.toLowerCase();a=L[c][b];if(void 0===a)throw"Each data element must implement a unique 'id' property";N=b}S[a+""]=c}}function c(){return{pageSize:ua,pageNum:ba,totalRows:za,totalPages:ua?Math.max(1,Math.ceil(za/ua)):1}}function e(a,c){ea=c;fa=a;ha=null;!1===c&&L.reverse();L.sort(a);!1===c&&L.reverse();S={};b();H();Fa.notify({},null,O)}function g(a,c){ea=c;ha=a;
fa=null;var d=Object.prototype.toString;Object.prototype.toString="function"==typeof a?a:function(){return this[a]};!1===c&&L.reverse();L.sort();Object.prototype.toString=d;!1===c&&L.reverse();S={};b();H();Fa.notify({},null,O)}function f(){fa?e(fa,ea):ha&&g(ha,ea)}function h(b){a.groupItemMetadataProvider||(a.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider);na=[];Ba=[];b=b||[];ra=b instanceof Array?b:[b];for(b=0;b<ra.length;b++){var c=ra[b]=d.extend(!0,{},ta,ra[b]);c.getterIsAFn=
"function"===typeof c.getter;c.compiledAccumulators=[];for(var e=c.aggregators.length;e--;){var g=c.compiledAccumulators,f=e,h=E(c.aggregators[e].accumulate),h=new Function("_items","for (var "+h.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+h.params[0]+" = _items[_i]; "+h.body+"}");h.displayName=h.name="compiledAccumulatorLoop";g[f]=h}Ba[b]={}}H()}function k(){var a=N,b;if(!Z){Z={};for(var c=0,d=R.length;c<d;c++)b=R[c][a],void 0===b&&(a=a===a.toLowerCase()?a.toUpperCase():a.toLowerCase(),
b=R[c][a],N=a),Z[b+""]=c}}function l(a,b,c,d){var e=N,g,f,h=!1;g=b[e];void 0===g&&(e=e===e.toLowerCase()?e.toUpperCase():e.toLowerCase(),g=b[e]);if(void 0===S[a+""]||a!==g)if(a+""!==g+""||void 0===V[a+""]&&void 0===S[a+""])throw"Invalid or non-matching id";if(void 0!==V[a+""])return!1;g=L[S[a+""]];e=g.__modified;if(!c)h=!0;else if(JSON.stringify(g)!==JSON.stringify(b))for(f in g)if("__modified"!==f&&g.hasOwnProperty(f)&&(void 0===b[f]||b[f]!==g[f])){h=!0;break}if(!0===h)return L[S[a+""]]=b,L[S[a+
""]].__modified=!0,W||(W={}),W[a+""]=!0,ca||Aa.notify({initview:!1,updatedcount:"undefined"!==typeof W&&W?Object.keys(W).length:0},null,O),void 0!==d&&!0!==d||H(),!0;L[S[a+""]].__modified=e;return!1}function n(a){var c=N,d;d=a[c];void 0===d&&(c=c===c.toLowerCase()?c.toUpperCase():c.toLowerCase(),d=a[c]);if(void 0!==V[d])return!1;a.__modified=!0;L.push(a);b(L.length-1);H();return!0}function p(a){var c=S[a+""];if(void 0===c)throw"Invalid id";V[a+""]=c;delete S[a+""];L.splice(c,1);b(c);H()}function r(a,
b){if(void 0===a||null===a)for(var c=0;c<ra.length;c++)Ba[c]={},ra[c].collapsed=b;else Ba[a]={},ra[a].collapsed=b;H()}function t(a,b,c){Ba[a][b]=ra[a].collapsed^c;H()}function w(a,b){var c,d,e=[],g=[],f,h=b?b.level+1:0,m=ra[h],q,k;q=0;for(k=m.predefinedValues.length;q<k;q++)if(d=m.predefinedValues[q],c=g[d],!c&&(c=new Slick.Group,c.value=d,c.level=h,c.groupingKey=(b?b.groupingKey+":|:":"")+d,e[e.length]=c,g[d]=c,m.columns&&0<m.columns.length))for(d=0;d<m.columns.length;d+=1)c[m.columns[d]]=f[m.columns[d]];
q=0;for(k=a.length;q<k;q++){f=a[q];d=m.getterIsAFn?m.getter(f):f[m.getter];c=g[d];if(!c&&(c=new Slick.Group,c.value=d,c.level=h,c.groupingKey=(b?b.groupingKey+":|:":"")+d,e[e.length]=c,g[d]=c,m.columns&&0<m.columns.length))for(d=0;d<m.columns.length;d+=1)c[m.columns[d]]=f[m.columns[d]];c.rows[c.count++]=f}if(h<ra.length-1)for(q=0,k=e.length;q<k;q++)c=e[q],c.groups=w(c.rows,c);e.sort(ra[h].comparer);return e}function A(a,b){b=b||0;for(var c=ra[b],d=a.length,e;d--;)if(e=a[d],!e.collapsed||c.aggregateCollapsed)if(e.groups&&
A(e.groups,b+1),c.aggregators.length&&(c.aggregateEmpty||e.rows.length||e.groups&&e.groups.length)){for(var g=e,f=ra[g.level],h=g.level==ra.length,m=new Slick.GroupTotals,q=f.aggregators.length;q--;)e=f.aggregators[q],e.init(),f.compiledAccumulators[q].call(e,!h&&f.aggregateChildGroups?g.groups:g.rows),e.storeResult(m);m.group=g;g.totals=m}}function y(a,b){b=b||0;for(var c=ra[b],d=c.collapsed,e=Ba[b],g=a.length,f;g--;)f=a[g],f.collapsed=d^e[f.groupingKey],f.title=c.formatter?c.formatter(f):f.value,
f.groups&&(y(f.groups,b+1),f.rows=[])}function D(a,b){b=b||0;for(var c=ra[b],d=[],e,g=0,f,h=0,m=a.length;h<m;h++){f=a[h];d[g++]=f;if(!f.collapsed){e=f.groups?D(f.groups,b+1):f.rows;for(var q=0,k=e.length;q<k;q++)d[g++]=e[q]}f.totals&&c.displayTotalsRow&&(!f.collapsed||c.aggregateCollapsed)&&(d[g++]=f.totals)}return d}function E(a){a=a.toString().match(/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/);return{params:a[1].split(","),body:a[2]}}function F(a,b){for(var c=[],d=0,e=0,g=a.length;e<g;e++)aa(a[e],
b)&&(c[d++]=a[e]);return c}function G(a,b,c){for(var d=[],e=0,g,f=0,h=a.length;f<h;f++)g=a[f],c[f]?d[e++]=g:aa(g,b)&&(d[e++]=g,c[f]=!0);return d}function K(b){Z=null;if(va.isFilterNarrowing!=la.isFilterNarrowing||va.isFilterExpanding!=la.isFilterExpanding)Ca=[];if(aa){var c=a.inlineFilters?oa:F,d=a.inlineFilters?pa:G;va.isFilterNarrowing?ia=c(ia,ka):va.isFilterExpanding?ia=d(b,ka,Ca):va.isFilterUnchanged||(ia=c(b,ka))}else ia=ua?b:b.concat();ua?(ia.length<ba*ua&&(ba=Math.floor(ia.length/ua)),c=ia.slice(ua*
ba,ua*ba+ua)):c=ia;za=b=ia.length;b=c;na=[];ra.length&&(na=w(b),na.length&&(A(na),y(na),b=D(na)));var c=R,d=b,e,g,f,h=[];e=0;var m=d.length;va&&va.ignoreDiffsBefore&&(e=Math.max(0,Math.min(d.length,va.ignoreDiffsBefore)));va&&va.ignoreDiffsAfter&&(m=Math.min(d.length,Math.max(0,va.ignoreDiffsAfter)));for(var q=e,k=c.length;q<m;q++)if(q>=k)h[h.length]=q;else if(e=d[q],g=c[q],ra.length&&(f=e.__nonDataRow||g.__nonDataRow)&&e.__group!==g.__group||e.__group&&!e.equals(g)||f&&(e.__groupTotals||g.__groupTotals)||
e[N]!=g[N]||W&&W[e[N]])h[h.length]=q;R=b;return h}function H(b){if(!ca||!0!==ca){var d=R.length,e=za,g,f,h=K(L,aa);ua&&za<ba*ua&&(ba=Math.max(0,Math.ceil(za/ua)-1),h=K(L,aa));W=null;la=va;va={};e!==za&&Da.notify(c(),null,O);if(d!==R.length||b&&!0===b){if(a.sequenceColumn)for(e=1,f=L.length,g=0;g<f;g++)L[g][a.sequenceColumn]=e,e++;Q.notify({previous:d,current:R.length},null,O);(0<h.length||b&&!0===b)&&Ea.notify({rows:h},null,O);ya.notify({initview:!1},null,O)}else 0<h.length&&(Ea.notify({rows:h},null,
O),ya.notify({initview:!1},null,O))}}function P(a){var b=[],c=a.split(",");if(void 0!==a&&null!==a&&""!==a)for(var d=0;d<c.length;d++)a=c[d].split(" "),1===a.length?b.push({columnId:a[0],sortAsc:!1}):b.push({columnId:a[0],sortAsc:"asc"==(a[1]+"").toLowerCase()?!0:!1});return b}var O=this,N="id",L=[],U=[],R=[],S={},V={},Z=null,aa=null,W=null,ca=!1,ea=!0,ha,fa,va={},la={},ka,ia=[],oa,pa,Ca=[],ta={getter:null,formatter:null,comparer:function(a,b){return a.value-b.value},predefinedValues:[],aggregators:[],
aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0},ra=[],na=[],Ba=[],ua=0,ba=0,za=0,Q=new u.Event,Ea=new u.Event,ya=new u.Event,Aa=new u.Event,Va=new u.Event,Da=new u.Event,Fa=new u.Event,sa=new u.Event,wa=new u.Event;a=d.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1,multiColumnSort:!0,sortColumns:[],sequenceColumn:null,itemSelectable:null,read:null,readurl:null},a);d.extend(this,{beginUpdate:function(){ca=!0},cancelUpdate:function(){ca=
!1},endUpdate:function(a){ca=!1;Aa.notify({initview:!1,updatedcount:"undefined"!==typeof W&&W?Object.keys(W).length:0},null,O);H(a)},setPagingOptions:function(a){void 0!==a.pageSize&&(ba=(ua=a.pageSize)?Math.min(ba,Math.max(0,Math.ceil(za/ua)-1)):0);void 0!==a.pageNum&&(ba=Math.min(a.pageNum,Math.max(0,Math.ceil(za/ua)-1)));Da.notify(c(),null,O);H()},getPagingInfo:c,getItems:function(a){var b=L,c=[],d=0,e,g=a&&void 0!==a.idonly&&!0===a.idonly?!0:!1;a&&void 0!==a.selectedonly&&!0===a.selectedonly&&
(b=this.getSelectedItems());if(a&&void 0!==a.modifiedonly&&!0===a.modifiedonly)for(a=d=0,e=b.length;a<e;a++)void 0!==b[a].__modified&&!0===b[a].__modified&&(c[d]=!0===g?b[a][N]:b[a],d++);else if(!0===g)for(a=0,e=b.length;a<e;a++)c[d]=b[a][N],d++;else c=b;return c},getItemsCount:function(a){var b=L;a&&void 0!==a.selectedonly&&!0===a.selectedonly&&(b=this.getSelectedItems());if(a&&void 0!==a.modifiedonly&&!0===a.modifiedonly){a=[];for(var c=0,d=0,e=b.length;d<e;d++)void 0!==b[d].__modified&&!0===b[d].__modified&&
(a[c]=b[d],c++);return a.length}return b.length},getSelectedItems:function(){for(var a=[],b=this.getSelectedRows(),c=0,d=b.length;c<d;c++)b[c]<R.length&&(a[a.length]=R[b[c]]);return a},getSelectedValueList:function(a){for(var b=[],c=this.getSelectedRows(),d=0,e=c.length;d<e;d++)c[d]<R.length&&(b[b.length]=R[c[d]][a]);return b},getSelectedRows:function(){throw"getSelectedRows must be implemented by the component";},getFilteredItems:function(){return ia},getModifiedColumns:function(){return U},addModifiedColumn:function(a,
b){var c,d,e,g,f,h=[];void 0!==b&&null!==b&&""!==b&&(h=b.split(","));h.push(a);g=0;for(f=h.length;g<f;g++){c=!1;d=0;for(e=U.length;d<e;d++)if(U[d]===h[g]){c=!0;break}!0!==c&&U.push(h[g])}},getHiddenColumns:function(){for(var a=this.getColumns?this.getColumns():[],b=[],c=0,d=a.length;c<d;c++)void 0!==a[c].hidden&&!0===a[c].hidden&&b.push(a[c].field);return b},setItems:function(a,c){void 0!==c&&(N=c);L=ia=a;U=[];S={};b();for(var d,e=N,g=0,f=L.length;g<f;g++)if(d=L[g][e],void 0===d){e=e===e.toLowerCase()?
e.toUpperCase():e.toLowerCase();d=L[g][e];if(void 0===d)throw"Each data element must implement a unique 'id' property";if(S[d+""]!==g)throw"Each data element must implement a unique 'id' property";N=e}else if(S[d+""]!==g)throw"Each data element must implement a unique 'id' property";H()},setModel:function(a,b){O.data=a;V={};b&&!0===b||Va.notify({initview:!1},null,O)},getModel:function(){return O.data},setModelProperty:function(a,b){O.dataproperties||(O.dataproperties={});O.dataproperties[a+""]=b},
getModelProperty:function(a){O.dataproperties||(O.dataproperties={});return O.dataproperties[a+""]},setModelProperties:function(a,b){O.dataproperties&&!0!==b||(O.dataproperties={});d.extend(O.dataproperties,a);H(!0)},getModelProperties:function(){O.dataproperties||(O.dataproperties={});return O.dataproperties},initView:function(){O.data?Va.notify({initview:!0},null,O):L&&ya.notify({initview:!0},null,O)},setViewstate:function(a){wa.notify({viewstate:a},null,O)},getColumnDef:function(a){return{field:a,
comparator:u.createComparator("text")}},setFilter:function(b){aa=b;if(a.inlineFilters){b=E(aa);var c=b.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),c="var _retval = [], _idx = 0; var $item$, $args$ = _args; _coreloop: for (var _i = 0, _il = _items.length; _i < _il; _i++) { $item$ = _items[_i]; $filter$; } return _retval; ".replace(/\$filter\$/gi,
c),c=c.replace(/\$item\$/gi,b.params[0]),c=c.replace(/\$args\$/gi,b.params[1]);b=new Function("_items,_args",c);b.displayName=b.name="compiledFilter";oa=b;b=E(aa);c=b.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");c="var _retval = [], _idx = 0; var $item$, $args$ = _args; _coreloop: for (var _i = 0, _il = _items.length; _i < _il; _i++) { $item$ = _items[_i]; if (_cache[_i]) { _retval[_idx++] = $item$; continue _coreloop; } $filter$; } return _retval; ".replace(/\$filter\$/gi,
c);c=c.replace(/\$item\$/gi,b.params[0]);c=c.replace(/\$args\$/gi,b.params[1]);b=new Function("_items,_args,_cache",c);b.displayName=b.name="compiledFilterWithCaching";pa=b}H()},setSortColumns:function(b){void 0===b||null===b?b=[]:"string"===typeof b?b=P(b):"object"!=typeof b||d.isArray(b)||(b=[b]);for(var c=0,e=b.length;c<e;c++)void 0===b[c].sortCol&&void 0!==b[c].columnId&&(b[c].sortCol=this.getColumnDef(b[c].columnId),void 0===b[c].sortCol&&(b[c].sortCol={field:b[c].columnId,comparator:u.createComparator("text")})),
b[c].columnId||void 0===b[c].sortCol||null===b[c].sortCol||void 0===b[c].sortCol.id||(b[c].columnId=b[c].sortCol.id);a.sortColumns=b;!0===a.multiColumnSort?(ea=null,fa=0<b.length?function(a,c){for(var d=0,e=b.length;d<e;d++){var g=b[d].sortCol?b[d].sortCol.field:void 0,g=void 0!==g&&null!==g?b[d].sortCol.multicomparator?b[d].sortCol.multicomparator(a[g],c[g],b[d].sortAsc,a,c):b[d].sortCol.comparator(a[g],c[g],b[d].sortAsc):0;if(0!==g)return g}return 0}:null,ha=null):(ea=b[0].sortAsc,ha=b[0].sortCol.field,
fa=null);sa.notify({sortColumns:b},null,O)},getSortColumns:function(){return a.sortColumns},sort:e,fastSort:g,reSort:f,setGrouping:h,getGrouping:function(){return ra},groupBy:function(a,b,c,d,e){void 0===a||null===a?h([]):(d=d&&"string"==typeof d?d.replace(/\s{1}(asc|desc){1}/gi,"").split(","):[],e&&(d=d.concat(e.split(","))),h({getter:a,formatter:b,comparer:c,columns:d}))},setAggregators:function(a,b){if(!ra.length)throw Error("At least one grouping must be specified before calling setAggregators().");
ra[0].aggregators=a;ra[0].aggregateCollapsed=b;h(ra)},getAggregatedField:function(a,b){var c,d,e;c=null;var g=0,f;switch(b){case "sum":d=L.length;for(c=0;c<d;c++)f=L[c][a],void 0!==f&&null!==f&&""!==f&&!0!==isNaN(f)&&(g+=parseFloat(f));c=g;break;case "avg":d=L.length;for(c=e=0;c<d;c++)f=L[c][a],void 0!==f&&null!==f&&""!==f&&!0!==isNaN(f)&&(g+=parseFloat(f),e++);c=g/e}return c},collapseAllGroups:function(a){r(a,!0)},expandAllGroups:function(a){r(a,!1)},collapseGroup:function(a){var b=Array.prototype.slice.call(arguments),
c=b[0];1==b.length&&-1!=c.indexOf(":|:")?t(c.split(":|:").length-1,c,!0):t(b.length-1,b.join(":|:"),!0)},expandGroup:function(a){var b=Array.prototype.slice.call(arguments),c=b[0];1==b.length&&-1!=c.indexOf(":|:")?t(c.split(":|:").length-1,c,!1):t(b.length-1,b.join(":|:"),!1)},getGroups:function(){return na},getIdxById:function(a){return S[a+""]},getRowById:function(a){k();return Z[a+""]},getItemById:function(b,c){var e;e=L[S[b+""]];var g,f,h,m;if(e)e=d.extend({},e),e.mode||(e.mode="edit");else if(e=
d.extend({},c),e[N]||(e[N]=u.createUUID()),e.mode||(e.mode="add"),a.sequenceColumn){g=0;m=L.length;for(h=0;h<m;h++)f=parseInt(L[h][a.sequenceColumn]),isNaN(f)||(g=Math.max(f,g));g++;e[a.sequenceColumn]=g}return e},getItemByIdx:function(a){return d.extend({},L[a])},mapRowsToIds:function(a){for(var b=[],c=N,d,e=0,g=a.length;e<g;e++)a[e]<R.length&&(d=R[a[e]][c],void 0===d&&(c=c===c.toLowerCase()?c.toUpperCase():c.toLowerCase(),d=R[a[e]][c],N=c),b[b.length]=d);return b},mapIdsToRows:function(a){var b=
[];k();for(var c=0,d=a.length;c<d;c++){var e=Z[a[c]];void 0!==e&&null!==e&&(b[b.length]=e)}return b},setRefreshHints:function(a){va=a},setFilterArgs:function(a){ka=a},refresh:H,updateItem:l,updateItems:function(a,b,c){var d,e,g=N,h=!1,m,q=!1;"function"===typeof a?(m={data:L},q=!0):m=a;O.beginUpdate();m.__resetmodel&&!0===m.__resetmodel&&L&&0<L.length&&(L=[],S={},V={},b=h=!0);if(void 0!==m.remove)for(var k=0,z=m.remove.length;k<z;k++)d=m.remove[k][g],void 0===d&&(g=g===g.toLowerCase()?g.toUpperCase():
g.toLowerCase(),d=m.remove[k][g],N=g),void 0!==d&&void 0!==S[d+""]&&(p(d),h=!0);if(void 0!==m.data)for(k=0,z=m.data.length;k<z;k++)if(d=m.data[k][g],void 0===d&&(g=g===g.toLowerCase()?g.toUpperCase():g.toLowerCase(),d=m.data[k][g],N=g),void 0!==d&&void 0===S[d+""]&&void 0===V[d+""]?m.__updateonly&&!0===m.__updateonly||!0!==n(m.data[k])||(h=!0):void 0===V[d+""]&&(m.__addonly&&!0===m.__addonly||!0!==l(d,m.data[k],c,!1)||(h=!0)),!0===q)if(d=a.call(this,k,m.data[k]),!1===d)h=!1;else for(e in d)void 0!==
m.data[k][e]&&(m.data[k][e]=d[e]);!0===h?(O.endUpdate(b),f()):O.cancelUpdate()},insertItem:function(a,c){L.splice(a,0,c);b(a);H()},addItem:n,addItems:function(a){var c=N,d,e,g,f=a.length;for(g=0;g<f;g++)e=a[g],d=e[c],void 0===d&&(c=c===c.toLowerCase()?c.toUpperCase():c.toLowerCase()),e.__modified=!0,L.push(e);b();H();return!0},deleteItem:p,syncSelection:function(a,b){throw"syncSelection must be implemented by the component";},syncStyles:function(a,b){throw"syncStyles must be implemented by the component";
},setSequenceColumn:function(b){a.sequenceColumn=b},setItemSelectable:function(b){a.itemSelectable=b},getLength:function(){return R.length},getGroupLength:function(a){var b=0;if(void 0===a)return na.length;for(var c=0,d=na.length;c<d;c++)if(b=na[c].collapsed?b+1:b+na[c].count+1,b>a)return c+1;return 0},getSelectableLength:function(){for(var b=0,c,d=0,e=R.length;d<e;d++)c=R[d],!c||c.__group||c.__groupTotals||"function"===typeof a.itemSelectable&&!a.itemSelectable(c,O.dataproperties)||b++;return b},
getItem:function(a){return R[a]?R[a]:{__empty:!0}},getItemMetadata:function(b){b=R[b];return void 0===b?null:b.__group?a.groupItemMetadataProvider.getGroupRowMetadata(b):b.__groupTotals?a.groupItemMetadataProvider.getTotalsRowMetadata(b):null!==a.itemSelectable&&"function"==typeof a.itemSelectable?{selectable:a.itemSelectable(b,O.dataproperties)}:null},onRowCountChanged:Q,onRowsChanged:Ea,onChanged:ya,onUpdate:Aa,onPagingInfoChanged:Da,onSetModel:Va,onSortChanged:Fa,onSortColumnsChanged:sa,onViewstateChanged:wa})},
EventData:function(){var a=!1,b=!1;this.stopPropagation=function(){a=!0};this.isPropagationStopped=function(){return a};this.stopImmediatePropagation=function(){b=!0};this.isImmediatePropagationStopped=function(){return b}},Event:function(){var a=[];this.subscribe=function(b){a.push(b)};this.unsubscribe=function(b){for(var c=a.length-1;0<=c;c--)a[c]===b&&a.splice(c,1)};this.notify=function(b,c,d){c=c||new u.EventData;d=d||this;for(var e,f=0;f<a.length&&!c.isPropagationStopped()&&!c.isImmediatePropagationStopped();f++)e=
a[f].call(d,c,b);return e}},Aggregators:{Avg:function(a){this.field_=a;this.init=function(){this.sum_=this.nonNullCount_=this.count_=0};this.accumulate=function(a){a=a[this.field_];this.count_++;void 0!==a&&null!==a&&""!==a&&!0!==isNaN(a)&&(this.nonNullCount_++,this.sum_+=parseFloat(a))};this.storeResult=function(a){a.avg||(a.avg={});0!==this.nonNullCount&&(a.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(a){this.field_=a;this.init=function(){this.min_=null};this.accumulate=function(a){a=
a[this.field_];void 0!==a&&null!==a&&""!==a&&!0!==isNaN(a)&&(void 0===this.min_||null===this.min_||a<this.min_)&&(this.min_=a)};this.storeResult=function(a){a.min||(a.min={});a.min[this.field_]=this.min_}},Max:function(a){this.field_=a;this.init=function(){this.max_=null};this.accumulate=function(a){a=a[this.field_];void 0!==a&&null!==a&&""!==a&&!0!==isNaN(a)&&(void 0===this.max_||null===this.max_||a>this.max_)&&(this.max_=a)};this.storeResult=function(a){a.max||(a.max={});a.max[this.field_]=this.max_}},
Sum:function(a){this.field_=a;this.init=function(){this.sum_=null};this.accumulate=function(a){a=a[this.field_];void 0!==a&&null!==a&&""!==a&&!0!==isNaN(a)&&(this.sum_+=parseFloat(a))};this.storeResult=function(a){a.sum||(a.sum={});a.sum[this.field_]=this.sum_}}},filter:function(a,b,c){var d=Ha[a+""];d||(d=new Ha(b,c),d.id=a,Ha[a+""]=d);return d},sort:function(a,b){return a.sort(b)},createComparator:function(a){return a&&"alphanumeric"!=a&&"string"!=a?"text"===a||"lookup"===a?function(a,c,d,g,f){c+=
"";a=(a+"").toLowerCase();c=c.toLowerCase();return d?a==c?0:a<c?-1:1:a==c?0:a<c?1:-1}:function(a,c,d,g,f){return d?a==c?0:a<c?-1:1:a==c?0:a<c?1:-1}:function(a,c,d,g,f){a+="";c+="";if(1==a.length-c.length&&a.substring(0,a.length-1)==c&&"+"==a.charAt(a.length-1))return!0===d?-1:1;if(1==c.length-a.length&&c.substring(0,c.length-1)==a&&"+"==c.charAt(c.length-1))return!0===d?1:-1;if(""!==c+""&&""!==a+""&&!0!==/[^0-9.\-+]/.test(c+"")&&!0!==/[^0-9.\-+]/.test(a+"")&&(g=parseFloat(a),f=parseFloat(c),!isNaN(g)&&
!isNaN(f)&&!0!==/[^0-9.\-+]|([0-9]+)\.([0-9]+)\.|([0-9.]+)[^.0-9]+([0-9.]+)|^0(?!.)/.test(a+"")&&!0!==/[^0-9.\-+]|([0-9]+)\.([0-9]+)\.|([0-9.]+)[^.0-9]+([0-9.]+)|^0(?!.)/.test(c+"")))return!0===d?g==f?0:g>f?1:-1:g==f?0:g>f?-1:1;a=(a+"").toLowerCase();c=(c+"").toLowerCase();return!0===d?a==c?0:a<c?-1:1:a==c?0:a<c?1:-1}},createComplexComparator:function(a,b){for(var c=b.split(","),d="var asc, desc, a2, b2, result = 0, a2_float, b2_float, isnumeric = false;",g=0,f=c.length;g<f;g++){var h=c[g].replace(/\s(asc|desc)$/gi,
""),k=-1!==(c[g]+"").toLowerCase().indexOf(" asc")?!0:!1,l=-1!==(c[g]+"").toLowerCase().indexOf(" desc")?!0:!1,d=d+("a2 = (( item1."+h+" !== undefined ) ? item1."+h+" : item1."+h.toUpperCase()+");"),d=d+("b2 = (( item2."+h+" !== undefined ) ? item2."+h+" : item2."+h.toUpperCase()+");");if(!a||"alphanumeric"==a||"string"==a)d+='if ( (b2+"") !== "" && (a2+"") !== "" && /[^0-9.\\-+]/.test(b2+"") !== true && /[^0-9.\\-+]/.test(a2+"") !== true ) {',d+="a2_float = parseFloat(a2); b2_float = parseFloat(b2);",
d+='if (!isNaN(a2_float) && !isNaN(b2_float) && /[^0-9.\\-+]|([0-9]+)\\.([0-9]+)\\.|([0-9.]+)[^.0-9]+([0-9.]+)|^0(?!.)/.test((a2+"")) !== true && /[^0-9.\\-+]|([0-9]+)\\.([0-9]+)\\.|([0-9.]+)[^.0-9]+([0-9.]+)|^0(?!.)/.test((b2+"")) !== true ) {',d+="isnumeric = true;",d+="if ( ( sortAsc && desc !== true ) || asc === true) {",d+="result = ( a2_float === b2_float ) ? 0 : ((a2_float > b2_float) ? 1 : -1 );",d+="} else {",d+="result = ( a2_float === b2_float ) ? 0 : ((a2_float > b2_float) ? -1 : 1 );",
d+="}",d+="if (result !== 0) { return result; }",d+="} else {",d+="isnumeric = false;",d+='a2 = (a2+"").toLowerCase();',d+='b2 = (b2+"").toLowerCase();',d+="}",d+="} else {",d+="isnumeric = false;",d+='a2 = (a2+"").toLowerCase();',d+='b2 = (b2+"").toLowerCase();',d+="}";else if("text"==a||"lookup"==a)d+="isnumeric = false;",d+='a2 = (a2+"").toLowerCase();',d+='b2 = (b2+"").toLowerCase();';d+="if ( isnumeric !== true ) {";d+="asc = "+k+";";d+="desc = "+l+";";d+="if ( ( sortAsc && desc !== true ) || asc === true) {";
d+="result = ( a2 === b2 ? result : ( a2 < b2 ? -1 : 1 ) );";d+="} else {";d+="result = ( a2 === b2 ? result : ( a2 < b2 ? 1 : -1 ) );";d+="}";d+="if (result !== 0) { return result; }";d+="}"}return new Function("a,b,sortAsc,item1,item2",d+"return 0;")},model:function(a,b){1<arguments.length?ab[a+""]=b:ab[a+""]||(ab[a+""]=new u.DataView);return ab[a+""]},createUUID:function(){for(var a=[],b=0;36>b;b++)a[b]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);a[14]="4";a[19]="0123456789abcdef".substr(a[19]&
3|8,1);a[8]=a[13]=a[18]=a[23]="-";return a.join("")}});Ha=function(a,b){var c=this,e=a||[];b||d.isArray(a)||(b=a);c.id="";c.filters=c.filters||{};c.filtertarget="";c.clientFilters=c.clientFilters||[];c.serverFilters=c.serverFilters||[];c.update=c.update||d.Callbacks();c.formset=!1;c.subscribe=c.update.add;c.publish=c.update.fire;c.unsubscribe=c.update.remove;c.has=c.update.has;c.isGroupUpdate=!1;c.groupUpdate={server:!1,client:!1,filters:[]};c.updateFilterField=function(b,e){var g=c.filterField.apply(this,
[void 0!==b.target?b.target:this,e]),h=K.cform(this),m,k,l="",n="",p,r;if(!0===g.bupdated){if(g.filter.replacestate&&f.history&&f.history.replaceState){m=g.filter.replacestate.split(",");k=f.location.href;1<k.split("#").length&&(n="#"+k.split("#")[1],k=k.split("#")[0]);for(r=0;r<m.length;r++)void 0!==g._data[m[r]]&&(p=new RegExp(m[r]+"(.+?)(&|$)","g"),k=p.test(k)?k.replace(p,m[r]+"="+g._data[m[r]]+"$2"):k+("&"+m[r]+"="+g._data[m[r]]));f.history.replaceState(g._data,document.title,k+""+n)}if(0<h.length&&
void 0!==h.attr("data-fiber_loadcount")&&"filter"===g.filter.field.getAttribute("data-validate")){m={__target:g.filter.field.id};k=c.getServerFilters();for(l in k)k.hasOwnProperty(l)&&(m[(l+"").toLowerCase()]=k[a]);d.when(h.inlineForm("validate",m)).then(function(a){g.filter.field.setAttribute("data-previousvalue",P(g.filter.field));c._updateFilters(a.__forms,[g.filter],{__target:g.filter.field.id})})}else c.filtertarget=g.filter.field.id,c.update.fire(d.extend(g.filter,{filtertarget:c.filtertarget}))}};
c.filterField=function(a,b){var e,g=null,f,h,m=!1,k=null,l=null;e=void 0!==this.selector||void 0!==this.jquery?this[0]:this;if((h=e.getAttribute("data-fiber_filterid"))&&c.filters[h]){f=c.filters[h];h=P(a);"{{tstamp}}"===h&&(h=(new Date).getTime());void 0!==h&&f.value!==h&&(void 0!==f.filteractive&&null!==f.filteractive&&(m=a.getAttribute("data-fiber_fieldidsrc"),void 0!==m&&null!==m&&""!==m&&(null===k&&(k=K.cform(a)),l=k.find("#"+m)),!0===f.filteractive.test(h)?(-1===(a.className||"").indexOf("filter-active")&&
(a.className=(a.className||"")+" filter-active"),null!==l&&l.addClass("filter-active")):(-1!==(a.className||"").indexOf("filter-active")&&(a.className=(a.className||"").replace(/^|\sfilter-active/gi,"")),null!==l&&l.removeClass("filter-active"))),b&&(f.data=b),f.data&&f.data.labels&&(m=d(a).find(".filter-labels"),0<m.length&&m.text(f.data.labels.join(","))),f.data&&f.data.values&&(m=d(a).find(".filter-values"),0<m.length&&m.text(f.data.values.join(","))),f.value=h,m=!0);for(h=0;h<f.fields.length;h++)"object"!==
typeof f.fields[h]||void 0!==f.fields[h].value&&null!==f.fields[h].value&&f.fields[h].value===e.attr(f.fields[h].attr)?"string"===typeof f.fields[h]&&(null===g&&(g={}),g[f.fields[h]]=f.value):(f.fields[h].value=e.getAttribute(f.fields[h].attr),m=!0);null!==g&&(null===k&&(k=K.cform(a)),0<k.length&&k.setDataAttr(g))}return{_data:g,bupdated:m,filter:f}};d.extend(c,e);(function(){var a=[],b;!0===d.isArray(e)?a=e:a.push(e);for(b=0;b<a.length;b++)c.setFilter(a[b])})()};d.extend(Ha.prototype,{getServerFilterParams:function(){return d.param(this.getServerFilters())},
_filters:function(a){var b={},c,d=this.filters,g,f,h=this[a+"Filters"];a&&"server"==a&&(b.filtertarget=this.filtertarget);for(a=0;a<h.length;a++)for(c=h[a],g=d[c],c=0;c<g.fields.length;c++)f=g.fields[c],void 0!==g.value&&null!==g.value?b[f]=g.value:"object"==typeof g.fields&&void 0!==f.value&&null!==f.value&&(b[f]=f.value);return b},_updateFilters:function(a,b,c){var d,g;b=void 0!==b?b:[];var f=!1,h=!1;if(a)for(d in this.filters)if("object"!==typeof a&&!0===a||void 0!==a[d])g=this.filterField.apply(this.filters[d].field,
[this.filters[d].field,this.filters[d].data]),(!0===g.bupdated||c&&c.forceupdate&&!0===c.forceupdate)&&b.push(g.filter);c&&c.__target&&(this.filtertarget=c.__target);if(0<b.length||c&&c.forceupdate&&!0===c.forceupdate){d=b.length;for(a=0;a<d;a++)!0===b[a].client&&(f=!0),!0===b[a].server&&(h=!0);this.update.fire({server:h,client:f,filters:b,filtertarget:this.filtertarget,forceupdate:c&&c.forceupdate&&!0===c.forceupdate?!0:!1,lastupdate:(new Date).getTime().toString()})}},getClientFilters:function(){return this._filters("client")},
clientFilter:new Function("item,data","var self=this, _id=null, b=true, jl=null, f=0, j=0, tmpvalue, tmparr, tmparrlen, tmpfield, jlen=0, a=0; var _cf = ( data && data.clientFilters ) ? data.clientFilters : self.clientFilters; var _f = ( data && data.filters ) ? data.filters : self.filters; if ( _cf ) { for( f=0; f < _cf.length; f++ ) { tmpvalue = _f[_cf[f]].value; if ( tmpvalue && tmpvalue != null && tmpvalue !== '' ) { tmparr = tmpvalue.split(','); tmparrlen = tmparr.length; _id = _cf[f]; b = false; al: for(a=0; a < tmparrlen; a++) { if ( tmparr[a] !== '' ) { jlen = _f[_id].fields.length; jl: for ( j=0; j < jlen; j++ ) { tmpfield = _f[_id].fields[j];if ( ( item[tmpfield] && ( ( _f[_cf[f]].wildcard === true && (item[tmpfield]+'').toLowerCase().indexOf(tmparr[a].toLowerCase()) !== -1 ) || ( _f[_cf[f]].wildcard !== true && (item[tmpfield]+'').toLowerCase() === tmparr[a].toLowerCase() ) ) ) || ( item[tmpfield.toUpperCase()] && ( ( _f[_cf[f]].wildcard === true && (item[tmpfield.toUpperCase()]+'').toLowerCase().indexOf(tmparr[a].toLowerCase()) !== -1 ) || ( _f[_cf[f]].wildcard !== true && (item[tmpfield.toUpperCase()]+'').toLowerCase() === tmparr[a].toLowerCase() ) ) ) ) { b = true;break jl;} } } } if ( b !== true ) { return false;}}}}return true;"),
getServerFilters:function(){return this._filters("server")},getFilterMeta:function(a){var b={},c,d,g;for(c=0;c<this[a+"Filters"].length;c++)for(g=this.filters[this[a+"Filters"][c]],d=0;d<g.fields.length;d++)b[g.fields[d]]={group:g.id,wildcard:g.wildcard};return b},updateFilters:function(a,b,c){var e,g,f,h={},k=[],l;this.beginUpdate();for(g in a)e=void 0===b[g]?g.toUpperCase():g,f=b[e].group,l=b[e].wildcard,void 0===h[f]&&(k.push(d.extend({id:f,client:!0,server:!1,wildcard:l,value:"",tmpvalue:a[g],
fields:[]},c)),h[f]=k.length-1),k[h[f]].fields.push(e);for(g=0;g<k.length;g++)this.setFilter(k[g],k[g].tmpvalue);this.endUpdate()},setFilter:function(a,b){var c=this,e,g,f,h=null,k=null;"string"===typeof a?g={id:a}:a.id?g=a:alert("invalid filter");g&&void 0!==c.filters[g.id]&&(e=c.filters[g.id],e.field&&(f=g.field||(""!==g.selector?d(g.selector):null),!f||void 0===f.selector&&void 0===f.jquery||(f=0<f.length?f[0]:null),f&&e.fiberid!==f.getAttribute("data-fiber_id")&&delete c.filters[g.id]));if(g&&
void 0===c.filters[g.id]){c.filters[g.id]={};e=d.extend({server:!g.client||!0!==g.client&&"true"!==g.client?!0:!1,client:!1,value:null,wildcard:!0,bind:"change populateinput",originalValue:null,replacestate:null,filteractive:/^(?!all|none)(.+)$/i,attr:null,fields:void 0!==g.filter&&null!==g.filter&&"true"!==g.filter&&""!==g.filter?(g.filter+"").split(","):(g.id+"").split(","),field:null,data:null,selector:"#"+g.id},g);"string"===typeof e.wildcard&&(e.wildcard="false"===e.wildcard?!1:!0);"string"===
typeof e.filteractive&&(e.filteractive=new RegExp(e.filteractive,"i"));"string"===typeof e.fields&&(e.fields=e.fields.split(","));void 0!==e.attr&&null!==e.attr?e.value=d(e.selector).attr(e.attr):g.value||""===e.selector||(e.value=d(e.selector).fieldValue());e.originalValue=e.value;c.filters[g.id]=e;if(!0===e.client||"true"===e.client)e.client=!0,c.clientFilters.push(e.id);if(!0===e.server||"true"===e.server)e.server=!0,c.serverFilters.push(e.id);e.field=e.field||(""!==e.selector?d(e.selector):null);
!e.field||void 0===e.field.selector&&void 0===e.field.jquery||(e.field=0<e.field.length?e.field[0]:null);if(e.field){e.fiberid=e.field.getAttribute("data-fiber_id");if(void 0===e.fiberid||null===e.fiberid||""===e.fiberid)e.fiberid="filter-"+K.createUUID(),e.field.setAttribute("data-fiber_id",e.fiberid);!1===c.formset&&(c.formset=!0,K.cform(e.field).on("inlineformpopulate",function(a,b){c._updateFilters(b,[])}).on("inlineformresetcomplete",function(a,b){c.filtertarget="";c._updateFilters(!0,[],{__target:b.__target,
forceupdate:b.forceupdate&&!0===b.forceupdate?!0:!1})}).on("inlineformrefreshfilters",function(a,b){c._updateFilters(!0,[],{__target:b.__target,forceupdate:b.forceupdate&&!0===b.forceupdate?!0:!1})}));g=e.field.getAttribute("data-fiber_filterid")||"";""!==g&&g!==e.id?(g=g.split(","),g.push(e.id),g=g.toString()):g=e.id;e.field.setAttribute("data-fiber_filterid",g);if(-1!==e.field.className.indexOf("btn"))d(e.field).on("click",function(a){a.preventDefault();a.stopPropagation();d(a.currentTarget).trigger("change")});
d(e.field).on(e.bind,c.updateFilterField);if(-1!==(e.bind+"").indexOf("keypress"))d(e.field).on("keypress",function(a){var b=(e.bind+"").split(" "),d,g,f,h,m,k;g=b.length;for(d=0;d<g;d++)if(-1!==b[d].indexOf("keypress")){m=(b[d]+"").split("-");k=0;m.splice(0,1);h=m.length;for(f=0;f<h;f++)"enter"===m[f]&&13==a.keyCode&&(a.stopPropagation(),a.preventDefault(),k++);k===m.length&&c.updateFilterField.apply(this,[a])}})}}e&&void 0!==b&&b!==e.value&&(e.value=b,!0===c.isGroupUpdate?(c.groupUpdate.server=
!0===e.server||"true"===e.server?!0:c.groupUpdate.server,c.groupUpdate.client=!0===e.client||"true"===e.client?!0:c.groupUpdate.client,c.groupUpdate.filters.push(e)):c.update.fire({server:e.server,client:e.client,filters:[e]}));e&&e.field&&void 0!==e.filteractive&&null!==e.filteractive&&(e.field&&(g=e.field.getAttribute("data-fiber_fieldidsrc"),void 0!==g&&null!==g&&""!==g&&(null===h&&(h=K.cform(e.field)),k=h.find("#"+g))),!0===e.filteractive.test(e.value)?(-1===(e.field.className||"").indexOf("filter-active")&&
(e.field.className=(e.field.className||"")+" filter-active"),null!==k&&k.addClass("filter-active")):(-1!==(e.field.className||"").indexOf("filter-active")&&(e.field.className=(e.field.className||"").replace(/^|\sfilter-active/gi,"")),null!==k&&k.removeClass("filter-active")))},beginUpdate:function(){this.isGroupUpdate=!0;this.groupUpdate={server:!1,client:!1,filters:[]}},cancelUpdate:function(){this.isGroupUpdate=!1;this.groupUpdate={server:!1,client:!1,filters:[]}},endUpdate:function(){!0===this.isGroupUpdate&&
(!0===u._debuggingEnabled&&u.log("update.fire"),this.update.fire(this.groupUpdate),this.isGroupUpdate=!1,this.groupUpdate={server:!1,client:!1,filters:[]})}});var zb="January February March April May June July August September October November December".split(" "),Pb="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");d.dateutils={intlDateFormat:function(a){try{var b=d.dateutils.parseDate(a),c=b.getDate(),e=b.getMonth()+1;return b.getFullYear()+"-"+e.toString().replace(/^([0-9]{1})$/i,
"0$1")+"-"+c.toString().replace(/^([0-9]{1})$/i,"0$1")}catch(g){return""}},now:function(){var a=new Date,b=a.getDate(),c=a.getMonth()+1;return a.getFullYear()+"-"+c+"-"+b},isToday:function(a){return d.dateutils.inputFormat(a)===d.dateutils.inputFormat(new Date)?!0:!1},inputFormat:function(a){try{if(void 0!==a&&null!==a&&""!==a){var b=d.dateutils.parseDate(a);a="";return a=b.getDate().toString().replace(/^([0-9]{1})$/i,"0$1")+"/"+(b.getMonth()+1).toString().replace(/^([0-9]{1})$/i,"0$1")+"/"+b.getFullYear()}return""}catch(c){return""}},
shortFormat:function(a){try{if(void 0!==a&&null!==a&&""!==a){var b=d.dateutils.parseDate(a);a="";return a=b.getDate().toString().replace(/^([0-9]{1})$/i,"0$1")+" "+zb[b.getMonth().toString()].substring(0,3)+" "+b.getFullYear()}return""}catch(c){return""}},longDayMonthFormat:function(a){try{if(void 0!==a&&null!==a&&""!==a){var b=d.dateutils.parseDate(a);a="";return a=b.getDate().toString()+" "+zb[b.getMonth().toString()]}return""}catch(c){return""}},daydateFormat:function(a){try{if(void 0!==a&&null!==
a&&""!==a){var b=d.dateutils.parseDate(a);a="";return a=Pb[b.getDay()].substring(0,3)+" "+b.getDate().toString().replace(/^([0-9]{1})$/i,"0$1")+"/"+(b.getMonth()+1).toString().replace(/^([0-9]{1})$/i,"0$1")+"/"+b.getFullYear()}return""}catch(c){return""}},longFormat:function(a){try{if(void 0!==a&&null!==a&&""!==a){var b=d.dateutils.parseDate(a);a="";return a=b.getDate().toString().replace(/^([0-9]{1})$/i,"0$1")+" "+zb[b.getMonth().toString()]+" "+b.getFullYear()}return""}catch(c){return""}},timeInputFormat:function(a){try{if(void 0!==
a&&null!==a&&""!==a){var b=d.dateutils.parseDate(a);a="";return a=(12<b.getHours()?b.getHours()-12:0===b.getHours()?12:b.getHours()).toString().replace(/^([0-9]{1})$/i,"0$1")+":"+b.getMinutes().toString().replace(/^([0-9]{1})$/i,"0$1")+" "+(11<b.getHours()?"pm":"am")}return""}catch(c){return""}},datetimeFormat:function(a,b){return d.dateutils.intlDateFormat(a)+" "+d.dateutils.timeInput24Format(a,b)},timeInput24Format:function(a,b){try{if(void 0!==a&&null!==a&&""!==a){var c=d.dateutils.parseDate(a),
e="",e=c.getHours().toString().replace(/^([0-9]{1})$/i,"0$1")+":"+c.getMinutes().toString().replace(/^([0-9]{1})$/i,"0$1")+"";b&&(e+=":"+c.getSeconds().toString().replace(/^([0-9]{1})$/i,"0$1"));return e}return""}catch(g){return""}},timeFormat:function(a){try{if(void 0!==a&&null!==a&&""!==a){var b=d.dateutils.parseDate(a);a="";return a=(12<b.getHours()?b.getHours()-12:0===b.getHours()?12:b.getHours()).toString().replace(/^([0-9]{1})$/i,"$1")+":"+b.getMinutes().toString().replace(/^([0-9]{1})$/i,"0$1")+
" "+(11<b.getHours()?"pm":"am")}return""}catch(c){return""}},_utcDate:function(){return new Date(Date.UTC.apply(Date,arguments))},utcDate:function(a){return d.dateutils._utcDate(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())},offsetDate:function(a,b){var c=new Date((new Date(a)).getTime()+864E5*b),d=c.getDate(),g=c.getMonth()+1;return c.getFullYear()+"-"+g+"-"+d},parseDate:function(a,b,c){if("object"==typeof a)return a;if("number"==typeof a)return new Date(1E3*
a);if("string"==typeof a){if(a.match(/^\d+(\.\d+)?$/))return new Date(1E3*parseFloat(a));b=a.match(/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{2,4})$/i);if(void 0!==b&&null!==b&&void 0!==b[1]&&void 0!==b[2]&&void 0!==b[3])return new Date(b[3],parseInt(b[2],10)-1,b[1]);b=a.match(/^[^0-9]*([0-9]{4}-[0-9]{2}-[0-9]{2})?[\sa-z]{0,2}([0-9]{1,2}:[0-9]{2}(?:[0-9:]*)\s?([AP]+[M]?)?)?[^\n\r]*$/i);if(void 0===b||null===b||void 0===b[1]&&void 0===b[2]){if(a=new Date(Date.parse(a)),!0!==isNaN(a.getDate()))return a}else return a=
new Date(1900,1,1,0,0,0),void 0!==b[1]&&""!==b[1]&&-1!=b[1].indexOf("-")?a=new Date(parseInt(b[1].split("-")[0],10),parseInt(b[1].split("-")[1].replace(/^0/i,""),10)-1,parseInt(b[1].split("-")[2],10),0,0,0):void 0!==b[1]&&""!==b[1]&&-1!=b[1].indexOf(":")&&(a.setHours(b[1].split(":")[0]),a.setMinutes(b[1].split(":")[1])),void 0!==b[2]&&""!==b[2]&&(a.setHours(parseInt(b[2].split(":")[0],10)),void 0!==b[3]&&0<b[3].length&&"p"==b[3].substring(0,1).toLowerCase()&&12>a.getHours()?a.setHours(a.getHours()+
12):void 0!==b[3]&&0<b[3].length&&"a"==b[3].substring(0,1).toLowerCase()&&12==a.getHours()&&a.setHours(0),a.setMinutes(parseInt(b[2].split(":")[1],10))),void 0===c||!0!==c&&"utc"!=c||(a=d.dateutils._utcDate(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())),a}return null}};d.ajaxSetup({error:K.ajaxError,type:"POST"});d.ajaxPrefilter(function(a,b,c){a&&a.hasOwnProperty("url")&&"string"===typeof a.url&&0===a.url.indexOf("https://www.bpoint.com.au/webapi/v3/txns/processiframetxn/")||
c.setRequestHeader("X-XSRF-Cookie",f._csrfToken)});ea("user.unauthorized").subscribe(K.error);ea("user.forbidden").subscribe(K.error);ea("redirect").subscribe(function(a){a&&a.url&&void 0!==a.target&&0<a.target.length?K.location(a.url,a.target):a&&a.url?K.location(a.url):a&&a.read?K.redirect(a.read):a&&"string"==typeof a&&K.redirect(a)});d("[autofocus]").first().focus().trigger("focus");if("complete"==document.readyState)d(f).trigger("loadComplete");else d(f).on("load",function(){d(this).trigger("loadComplete")});
void 0!==f.requirejs&&f.requirejs.config({enforceDefine:!0,waitSeconds:60});Z="fiber_source";Ca="ui-";f.CKEDITOR_BASEPATH="rte/";"1.9.2"===jQuery.ui.version&&(Ca="");var Ab={};d.widget("ui.dynamicselect",{options:{read:null,readurl:null,autoLoad:!1,clearOnBackspace:!1},_create:function(){var a=this,b=a.options,c=a.element;c.dataOptions(b);a.firstRead=!0;c.on("reload",function(){a._read()});c.on("keyup keydown keypress",function(b){var c=b?b.keyCode?b.keyCode:b.which:"";if(8==c||46===c)b.preventDefault(),
P(a.element[0],null,"")});!0===b.autoLoad&&a._read()},update:function(a,b){var c;c=this.element;u.setdata(c,a,{checkId:!0,diff:!0===b?!1:!0});c=c[0].getAttribute("data-fiber_diff")||"";!0!==b&&""===c&&!0!==this.firstRead||this._read()},reload:function(){this._read()},_templatevariables:function(){var a=this.element;return d.extend({},a.dataAttr(),{value:a.fieldValue()})},_read:function(){var a=this,b=a.options;if(null!==b.readurl&&""!==b.readurl){var c=a.element,e=c.getDataAttr(Z);d.ajax({url:b.readurl+
(e?"&sourceid="+e:"")+(document.body.className&&-1!==(" "+document.body.className+" ").indexOf(" responsive-ui ")?"&responsiveui=true":""),dataType:"json",data:a._templatevariables(),dataFilter:u.ajaxDataFilter,type:"POST",error:function(a,b,c){u.ajaxError(a,b,c)},success:function(b){a.firstRead=!1;b=u.unpackdata(b);c.setSingleDataAttr(Z,b.sourceid||b.SOURCEID);b&&(b.data||b.DATA)&&c.populateSelect(void 0!==b.data?b.data:b.DATA)}})}else a.firstRead=!1}});d.widget("ui.model",{options:{model:null,validationtarget:null,
intent:null,modifiedonly:!1,selectedonly:!1,idonly:!1,sequencecolumn:null,viewstate:null,warning:null,invalid:null,clearonreset:!1,serialize:!0,formonly:!1,modelprefix:""},_create:function(){var a=this,b=a.options,c=a.element,e,g,f,h=null;e=f=null;var k,h=null;if(1>a.element.length)return this;e=a.element[0];!(f=e.getAttribute("data-formonly"))||"true"!==f&&"TRUE"!==f&&!0!==f||(b.formonly=!0);g=e.getAttribute("id");f=u.cform(c);!0===b.formonly&&(b.modelprefix=u.createUUID()+"-",f.setSingleDataAttr("fiber_modelprefix",
b.modelprefix));null===b.model&&(b.model=e.getAttribute("data-model"));null===b.sequencecolumn&&(b.sequencecolumn=e.getAttribute("data-sequencecolumn"));null===b.validationtarget&&(b.validationtarget=e.getAttribute("data-validationtarget"));null===b.intent&&(b.intent=e.getAttribute("data-intent"));!(h=e.getAttribute("data-clearonreset"))||"true"!==h&&"TRUE"!==h&&!0!==h||(b.clearonreset=!0);!(h=e.getAttribute("data-selectedonly"))||"true"!==h&&"TRUE"!==h&&!0!==h||(b.selectedonly=!0);!(e=e.getAttribute("data-idonly"))||
"true"!==e&&"TRUE"!==e&&!0!==e||(b.idonly=!0);e=document.createDocumentFragment();e.appendChild(u.createhiddenfield(null,g+"_count",0,void 0,!1));e.appendChild(u.createhiddenfield(null,g+"_modified",0,void 0,!1));e.appendChild(u.createhiddenfield(null,g+"_sortby",void 0,void 0,!1));e.appendChild(u.createhiddenfield(null,g+"_setup",void 0,void 0,!1));f[0].appendChild(e);null!==b.validationtarget&&void 0!==b.validationtarget&&""!==b.validationtarget&&(e=d(b.validationtarget),0<e.length&&("popup"===
e[0].getAttribute("data-rel")&&(e=d(e[0].getAttribute("data-targetref"))),e.on("click",".validation-row",function(a){a.preventDefault();a.stopPropagation();a=d(a.currentTarget);var c=u.model(b.modelprefix+""+b.model);c.navigateTo&&c.navigateTo(a.getDataAttr("id"))})));k=u.model(b.modelprefix+""+b.model);k.setSequenceColumn(b.sequencecolumn);k.onRowsChanged.subscribe(function(){a._modelChanged()});k.onUpdate.subscribe(function(b,c){var d=u.cform(a.element).find("#"+g+"_modified");0<d.length&&(d[0].value=
c.updatedcount)});k.onRowCountChanged.subscribe(function(){a._modelChanged()});f.on("inlineformpopulate",function(){k.initView()});f.on("inlineformviewstate",function(a,c){c.viewstate&&b.viewstate!==c.viewstate&&(b.viewstate=c.viewstate,k.setViewstate(b.viewstate))});c.on("invalid warning",function(b,c){a._modelinvalid(b,c)});c.on("valid",function(){a._modelvalid()});c.on("waiting",function(b,c){a._waiting(c)});c.on("reset",function(){a._reset()})},_modelvalid:function(){var a=this.options,b=u.model(a.modelprefix+
""+a.model);a.invalid=null;a.warning=null;this._render({});b.clearStatus?!1!==b.clearStatus([])&&this._trigger("valid",0,{}):this._trigger("valid",0,{})},_modelinvalid:function(a,b){var c=this.options,e=u.model(c.modelprefix+""+c.model),g=null,f,h,k=0,g=0,l=a.type,n=[];if(b&&b.data){var p=d.extend({invalid:c.invalid,warning:c.warning},{data:[],rows:{},columns:{}});p[l]=[];k=0;for(f in b.data)g=e.getRowById(f),void 0!==g&&(n.push(g),p.rows[f]=g,p.data[k]=e.getItemById(f),p.data[k].title=void 0!==p.data[k].title?
p.data[k].title:p.data[k].TITLE,p.data[k].row=g,e.rowtitle&&"function"==typeof e.rowtitle&&(p.data[k].title=e.rowtitle(p.data[k])),void 0===p.data[k].title&&(p.data[k].title=f),p.data[k].__title=p.data[k].title,k+=1);p.data.sort(function(a,b){return a.row==b.row?0:a.row<b.row?-1:1});for(g=k=0;g<p.data.length;g+=1){p[l][k]=b.data[void 0!==p.data[g].id?p.data[g].id:p.data[g].ID];if(e.getColumnDef)for(h in p[l][k])void 0===p.columns[h]&&(p.columns[h]=e.getColumnDef(h)),void 0!==p.columns[h]&&void 0!==
p.columns[h].name&&(p[l][k][h]=p.columns[h].name+" - "+p[l][k][h]);p[l][k].id=void 0!==p.data[g].id?p.data[g].id:p.data[g].ID;p[l][k].__title=void 0!==p.data[g].__title?p.data[g].__title:"";k+=1}"invalid"===l&&e.setInvalid||"warning"===l&&e.setWarning?("invalid"===l&&!1!==e.setInvalid(b.data,n)||"warning"===l&&!1!==e.setWarning(b.data,n))&&this._trigger(l,0,p):"invalid"!==l&&"warning"!==l||this._trigger(l,0,p);c[l]=p[l];this._render(p)}},_modelChanged:function(){var a=this.options,a=u.model(a.modelprefix+
""+a.model).getItems();this.element.trigger("change",{data:a});this._count(a.length)},_render:function(a){var b=this.options,c,e,g=0,f,h=["invalid"],k,l="",n,p,r;if(null!==b.validationtarget){p=d(b.validationtarget);r="popup"===p.getDataAttr("rel")?d(p.getDataAttr("targetref")):p;if(0<r.length){for(e=0;e<h.length;e++)for(k=h[e],f=a[k]?a[k].length:0,b=0;b<f;b+=1){n=a[k][b];l+='<div class="validation-row validation-row-'+k+'" data-id="'+(void 0!==n.id?n.id:n.ID)+'"><a href="#">'+n.__title+"</a></div>";
for(c in n)"id"!==c&&"__title"!==c&&(l+='<div class="validation-column">'+n[c]+"</div>");g++}r[0].innerHTML=l}p.find(".count").html(g+"");0<g?(p.removeClass("btn-hidden").removeClass("include-hidden"),p.show()):p.hide()}},fieldvalue:function(a){var b=this.options;if(1>arguments.length)return"save"===b.intent||"submit"===b.intent?(null!==b.model&&u.model(b.modelprefix+""+b.model).commitCurrentEdit&&u.model(b.modelprefix+""+b.model).commitCurrentEdit(),""):this._fieldvalue();this._fieldvalue(a);this._count();
return this},_waiting:function(a){a=d.extend({},a);var b=this.element.attr("id");a[b]=this._fieldvalue();a[b+"_modifiedcolumns"]=this._modifiedcolumns().join(",");a[b+"_hiddencolumns"]=this._hiddencolumns().join(",");this.element.trigger("waitcomplete",a)},_modifiedcolumns:function(){var a=this.options,b=[];void 0!==a.model&&null!==a.model&&(u.model(a.modelprefix+""+a.model).commitCurrentEdit&&u.model(a.modelprefix+""+a.model).commitCurrentEdit(),b=u.model(a.modelprefix+""+a.model).getModifiedColumns());
return b},_hiddencolumns:function(){var a=this.options,b=[];void 0!==a.model&&null!==a.model&&(u.model(a.modelprefix+""+a.model).commitCurrentEdit&&u.model(a.modelprefix+""+a.model).commitCurrentEdit(),b=u.model(a.modelprefix+""+a.model).getHiddenColumns());return b},_count:function(a){var b=this.options,c=0,d=this.element.attr("id");1>arguments.length?void 0!==b.model&&null!==b.model&&(u.model(b.modelprefix+""+b.model).commitCurrentEdit&&u.model(b.modelprefix+""+b.model).commitCurrentEdit(),c=u.model(b.modelprefix+
""+b.model).getItemsCount({modifiedonly:b.modifiedonly,selectedonly:b.selectedonly,idonly:b.idonly})):c=a;b=u.cform(this.element).find("#"+d+"_count");0<b.length&&(b[0].value=c);return c},_fieldvalue:function(a){var b=this.options;if(1>arguments.length){var c="";void 0!==b.model&&null!==b.model&&(u.model(b.modelprefix+""+b.model).commitCurrentEdit&&u.model(b.modelprefix+""+b.model).commitCurrentEdit(),b=u.model(b.modelprefix+""+b.model).getItems({modifiedonly:b.modifiedonly,selectedonly:b.selectedonly,
idonly:b.idonly}),c=JSON.stringify(b));return c}if(void 0!==b.model&&null!==b.model){if(void 0!==a&&null!==a&&void 0!==a.setup&&null!==a.setup){var e="__default__",g={},f=this.element.attr("id");void 0!==a.setup.id&&null!==a.setup.id&&(e=a.setup.id);void 0!==a.setup.sequencecolumn&&null!==a.setup.sequencecolumn&&(b.sequencecolumn=a.setup.sequencecolumn);g[f+"_setup"]=e;u.setdata(u.cform(this.element),g,{checkId:!0})}e=u.model(b.modelprefix+""+b.model);if(d.isArray(a))a={data:a};else if(void 0!==a&&
null!==a)for(c in a)"data"!==c&&"DATA"!==c&&"setup"!==c&&e.setModelProperty(c,a[c]);e.setModel(a,!1);e.setSequenceColumn(b.sequencecolumn)}return this},reset:function(){this._reset()},_reset:function(){var a=this.options,b=a.model;!0===a.clearonreset&&void 0!==b&&null!==b&&setTimeout(function(){u.model(a.modelprefix+""+b).setModel({data:[]},!0)},1)}});d.widget("ui.textarea",{options:{maxlength:0,countref:null,maxlines:0,countseperator:" of ",maxcolumncharacters:0},_create:function(){var a=this,b=
a.options,c=a.element,d=c[0];d.className+=" textarea";d.getAttribute("data-autosize")&&(d.className+=" textarea-autosize");b.maxlength=parseInt(d.getAttribute("data-maxlength")||d.getAttribute("maxlength")||0,10);b.maxlines=parseInt(d.getAttribute("data-maxlines")||0,10);b.countseperator=d.getAttribute("data-countseperator")||" of ";b.maxcolumncharacters=parseInt(d.getAttribute("data-maxcolumncharacters")||0,10);b.countref=d.getAttribute("data-countref");b.countref&&b.maxlength&&u.cform(d).find("#"+
b.countref).text(d.value.length+""+b.countseperator+""+b.maxlength);c.on("change input keypress keyup keydown populateinput focus blur",function(b){a._inputhandler(b)});c.trigger("change")},_resizeTextarea:function(a,b){var c=getComputedStyle(a),d;d=document.createElement("textarea");d.className="fake-textarea";d.style.height="0";d.style.width=a.offsetWidth?a.offsetWidth+"px":c.width;d.value=a.value;document.body.appendChild(d);c=d.scrollHeight;document.body.removeChild(d);d=Math.max(b,c+2);parseInt(a.style.height.replace(/[px\s]+/gi,
""),10)!==d&&(a.style.height=d+"px")},_cleanstring:function(a){a=a.replace(/[\u2018|\u2019]/g,"'");a=a.replace(/[\u201A]/g,",");a=a.replace(/[\u201C|\u201D]/g,'"');a=a.replace(/\u2026/g,"...");a=a.replace(/[\u2013|\u2014]/g,"-");a=a.replace(/\u02C6/g,"^");a=a.replace(/\u2039/g,"<");a=a.replace(/\u203A/g,">");a=a.replace(/[\u02DC]/g,"~");a=a.replace(/[\u00A0]/g," ");for(var b="",c=0;c<a.length;c++)if(127>a.charCodeAt(c)&&31<a.charCodeAt(c)||160<a.charCodeAt(c)&&255>=a.charCodeAt(c)||10===a.charCodeAt(c)||
13===a.charCodeAt(c))b+=a.charAt(c);return b},_inputhandler:function(a){var b=this,c=b.element,d=b.options,g=c[0],f,h,k=!1,l=0;-1!==a.currentTarget.className.indexOf("textarea-autosize")&&(b.blurchangetimer&&(b.blurchangetimer=clearTimeout(b.blurchangetimer)),"blur"===a.type||"change"===a.type?b.blurchangetimer=setTimeout(function(){try{b._resizeTextarea(a.currentTarget,50)}catch(x){}},200):b._resizeTextarea(a.currentTarget,50));d.countref&&d.maxlength&&u.cform(g).find("#"+d.countref).text((g.value+
"").replace(/[\n\r]/,"-").length+""+d.countseperator+""+d.maxlength);h=g.value+"";f=b._cleanstring(h);h!==f&&(h=g.value=f);f=h.split(/\n/g);if("keypress"===a.type&&g.selectionStart===g.selectionEnd){if(0<d.maxlines&&(13===a.keyCode||13===a.keyCode)&&f.length+1>d.maxlines)return!1;if(0<d.maxcolumncharacters&&13!==a.keyCode&&13!==a.keyCode){for(h=c=0;h<f.length;h++)if(c+=f[h].length+1,c>g.selectionStart){l=h;break}for(h=0;h<f.length;h++)if(c+=f[h].length+1,f[h].length+1>d.maxcolumncharacters&&l===h)return!1}}else if("keyup"===
a.type||"keydown"===a.type||"input"===a.type)if(0<d.maxcolumncharacters){for(h=0;h<f.length;h++)f[h].length>d.maxcolumncharacters&&f[h].length>d.maxcolumncharacters&&(f[h]=f[h].substring(0,d.maxcolumncharacters),k=!0);0<d.maxlines&&f.length>d.maxlines&&(f=f.slice(0,d.maxlines),k=!0);!0===k&&c.val(f.join("\n"))}else 0<d.maxlines&&f.length>d.maxlines&&(f=f.slice(0,d.maxlines),c.val(f.join("\n")))}});d.widget("ui.dateinput",{options:{range:!1,rangeid:null,rangepresets:null,showtoday:!0,datefrom:null,
dateto:null,rangeinline:!1,rangefrom:null,rangeto:null,inline:!1,showclear:!0,showonfocus:!0},_create:function(){this._createpicker()},_setOption:function(a,b){"rangepresets"===a&&(this.options.rangepresets=b,this._createrangepresets())},_createrangepresets:function(){var a=this.options,b=d("#rangepicker-"+a.rangeid),c,e,g,f,h;if(0<b.length){b=b.find(".datepicker-range-options");0<b.length&&b.html("");if(null!==a.rangepresets)for(e=a.rangepresets.length,c=0;c<e;c++)g=a.rangepresets[c].split("|")[1],
f=(g+"").toLowerCase(),h=a.rangepresets[c].split("|")[0],"today"===f?b.append('<button class="btn" data-action="today">Today</button>'):"days"===f||"months"===f?b.append('<button data-action="'+f+'" data-duration="'+h+'" class="btn">'+(-1!==h.indexOf("-")?"Last":"Next")+" "+h.replace("-","")+" "+g+"</button>"):b.append('<button data-action="custom" data-datefrom="'+(0<h.split("~").length?d.dateutils.inputFormat(d.dateutils.parseDate(h.split("~")[0])):"")+'" data-dateto="'+(1<h.split("~").length?d.dateutils.inputFormat(d.dateutils.parseDate(h.split("~")[1])):
"")+'" class="btn">'+g+"</button>");!0===a.showclear&&b.append('<button data-action="clear" class="btn btn-clear">Clear Dates</button>')}},_createpicker:function(){var a=this,b=a.element,c=a.options,e,g,f,h,k,l,n,p,r,t;l=b[0].getAttribute("id")||"dateinput-"+u.createUUID();var w="wrapper-"+l;b.dataOptions(c,{list:"?range rangeid ?showtoday ?showonfocus rangefrom rangeto datefrom dateto *rangepresets ?rangeinline ?showclear ?inline".split(" ")});!0!==c.range||null!==c.rangeid||b.isTag("input")||(c.rangeid=
l);b.on("adjust.dateinput populateinput",function(){!0!==c.range&&""!==u.mobileos()||t===d(this).val()||!0===c.range&&null!==c.rangeid||(d(this).datepicker("update").datepicker("place"),t=d(this).val())});if(!0===c.range&&null!==c.rangeid){if(0<d("#rangepicker-"+c.rangeid).length)return this;k=d('<div id="rangepicker-'+c.rangeid+'" class="rangepicker clearfix form-horizontal"></div>');l=d('<div class="datepicker-range datepicker-range-options"></div>');k.append(l);l=d('<div class="datepicker-range datepicker-range-from" style="float: left;"></div>');
n=d('<div class="datepicker-range datepicker-range-to" style="float: left;"></div>');!0===c.rangeinline&&(c.rangefrom="dateinput-"+c.rangeid+"-from",c.rangeto="dateinput-"+c.rangeid+"-to",l.append('<div class="control-group control-group-xsmall"><label class="control-label">From</label><input type="text" id="'+c.rangefrom+'" name="'+c.rangefrom+'" value="'+(c.dateto?d.dateutils.inputFormat(c.datefrom):"")+'" /></div>'),n.append('<div class="control-group control-group-xsmall"><label class="control-label">To</label><input type="text" id="'+
c.rangeto+'" name="'+c.rangeto+'" value="'+(c.dateto?d.dateutils.inputFormat(c.dateto):"")+'" /></div>'));k.append(l);k.append(n);g=d.merge(l,n);b.is(".btn")?b.qpopup({text:k,nounfocus:c.rangefrom&&c.rangeto?c.rangefrom+","+c.rangeto:null,autofocus:!1,"static":!0,render:function(){a._createrangepresets()},hideevent:"mouseleave",deferreddelay:200,delay:300,position:"bottomleft",classname:""}):(c.rangeid||(c.rangeid=u.createUUID()),d('<div id="rangepickerpopup-'+c.rangeid+'"></div>').qpopup({multitarget:!0,
"static":!0,text:k,render:function(){a._createrangepresets()},nounfocus:c.rangefrom&&c.rangeto?c.rangefrom+","+c.rangeto:null,autofocus:!1,delay:0,hideevent:"unfocus",position:"bottomleft",classname:""}));a._createrangepresets();e=b;l=u.cform(b);!0===c.rangeinline?(p=l.find("#"+c.rangeid+"_to"),r=l.find("#"+c.rangeid+"_from")):(p=[],r=[]);c.rangefrom&&c.rangeto&&(f=(b.hasClass("btn")?k:l).find("#"+c.rangefrom).addClass("input-datepicker-rangefrom ui-dateinput").on("populateinput",function(){c.datefrom=
d.dateutils.parseDate(f.fieldValue());g.filter(".datepicker-range-from").data("date",d.dateutils.inputFormat(c.datefrom)).datepicker("update")}),h=(b.hasClass("btn")?k:l).find("#"+c.rangeto).addClass("input-datepicker-rangeto ui-dateinput").on("populateinput",function(){c.dateto=d.dateutils.parseDate(h.fieldValue());g.filter(".datepicker-range-to").data("date",d.dateutils.inputFormat(c.dateto)).datepicker("update")}),0<p.length&&0<r.length&&(c.datefrom=d.dateutils.parseDate(r.fieldValue()),c.dateto=
d.dateutils.parseDate(p.fieldValue()),r.on("populateinput",function(){c.datefrom=d.dateutils.parseDate(r.fieldValue());f.val(d.dateutils.inputFormat(c.datefrom));g.filter(".datepicker-range-from").data("date",d.dateutils.inputFormat(c.datefrom)).datepicker("update")}),p.on("populateinput",function(){c.dateto=d.dateutils.parseDate(p.fieldValue());h.val(d.dateutils.inputFormat(c.dateto));g.filter(".datepicker-range-to").data("date",d.dateutils.inputFormat(c.dateto)).datepicker("update")})),null!==c.datefrom?
f.val(d.dateutils.inputFormat(d.dateutils.parseDate(c.datefrom))):(c.datefrom=d.dateutils.parseDate(f.fieldValue()),f.val(d.dateutils.inputFormat(c.datefrom))),null!==c.dateto?h.val(d.dateutils.inputFormat(d.dateutils.parseDate(c.dateto))):(c.dateto=d.dateutils.parseDate(h.fieldValue()),h.val(d.dateutils.inputFormat(c.dateto))),e=d.merge(f,h));b.hasClass("btn")||(e.on("focus",function(b){a._focus(b)}),e.on("blur",function(b){a._blur(b)}));g.filter(".datepicker-range-to").data("date",d.dateutils.inputFormat(c.dateto));
g.filter(".datepicker-range-from").data("date",d.dateutils.inputFormat(c.datefrom))}else g=e=b;n=l=0;var A,y;if(!0!==c.range&&""!==u.mobileos()){l=0;for(n=e.length;l<n;l++)-1===e[l].className.indexOf("btn")&&(b=e[l].value,e[l].setAttribute("type","date"),b&&(e[l].value=b.replace(/^(?:[a-z'\{\}\s]*)([0-9]{4})\-([0-9]{2})\-([0-9]{2})(?:[a-z'\{\}\s\:0-9\.]*)$/i,"$1-$2-$3")),e[l].setAttribute("size","12"),e[l].className+=" input-datepicker");e.on("focus",function(a){a=d(a.target);!a.is('[type="date"]')||
!0!==a.prop("readonly")&&!0!==a.prop("disabled")||a.trigger("blur")})}else{l=0;for(n=e.length;l<n;l++)-1===e[l].className.indexOf("btn")&&(e[l].value=d.dateutils.inputFormat(d.dateutils.parseDate(e[l].value)),e[l].setAttribute("size","12"),e[l].setAttribute("data-fiber_componentid",w),!0!==c.inline&&((y=e[l].parentElement)&&-1===y.className.indexOf("input-append")?(y=document.createElement("div"),y.id=w,y.className="input-append",e[l].parentElement.insertBefore(y,e[l]),y.appendChild(e[l])):y&&y.setAttribute("id",
w),A=y.querySelector(".datepicker-trigger"),A||(A=document.createElement("span"),A.className="datepicker-trigger add-on",A.innerHTML='&nbsp;<i class="icon icon-calendar icon-custom"></i>&nbsp;',y.appendChild(A)),d(A).on("click",function(b){a._pickertriggerclick(b)})));e.inputmask("dd/mm/yyyy",{clearMaskOnLostFocus:!0,onKeyDown:function(a,b,e,g){if(38===a.keyCode||40===a.keyCode||-1===d.inArray(a.keyCode,g.ignorables))a=d(a.target),!0!==c.range&&(a.datepicker("update"),a.datepicker("show",!0))},oncomplete:function(a){!0===
c.range&&(a=d(a.target),a.hasClass("input-datepicker-rangeto")?g.filter(".datepicker-range-to").data("date",a.val()).datepicker("update"):a.hasClass("input-datepicker-rangefrom")&&g.filter(".datepicker-range-from").data("date",a.val()).datepicker("update"))},greedy:!1,rtrim:!0}).addClass("input-datepicker");e.on("focus",function(a){a=d(a.target);!a.is('[type="date"]')||!0!==a.prop("readonly")&&!0!==a.prop("disabled")?a.select():a.trigger("blur")});if(g)g.datepicker({dateFormat:"dd/mm/yy",format:"dd/mm/yyyy",
showOtherMonths:!0,showOnFocus:c.showonfocus,todayBtn:!0===c.showtoday?"linked":!1,showOn:"button",placement:b[0].getAttribute("data-placement"),autoclose:!0,inline:c.inline,forceParse:!1,todayHighlight:!0,dayNamesMin:"Sun Mon Tue Wed Thu Fri Sat".split(" "),selectOtherMonths:!0,constrainInput:!0,buttonImage:"img/calendar-select.png",buttonImageOnly:!0}).on("blur",function(){d(this).val(d.dateutils.inputFormat(d(this).val()))});!0===c.range&&(b.is(".btn.filter")&&(c.datefrom||c.dateto?b.addClass("filter-active"):
b.removeClass("filter-active")),c.datefrom&&c.dateto&&g.datepicker("setRange",[(new Date(c.datefrom)).valueOf(),(new Date(c.dateto)).valueOf()]),g.on("setValue",function(a){-1!==a.currentTarget.className.indexOf("-from")?e.filter(".input-datepicker-rangefrom").val(a.format()).trigger("change"):-1!==a.currentTarget.className.indexOf("-to")&&e.filter(".input-datepicker-rangeto").val(a.format()).trigger("change")}),g.on("changeDate clearDate",function(b){a._changedatehandler(b,g,p,r)}),e.on("keydown keyup",
function(a){var b=d(a.currentTarget);b.hasClass("input-datepicker-rangeto")?g.filter(".datepicker-range-to").datepicker(a.type,a):b.hasClass("input-datepicker-rangefrom")&&g.filter(".datepicker-range-from").datepicker(a.type,a)}),k.on("click",function(){a.blurTimeout&&clearTimeout(a.blurTimeout);a.ignoreBlur=!0}),k.on("click",".btn",function(b){a._rangeclick(b,g,e)}));e.on("active.dateinput",function(){}).on("inactive.dateinput",function(a){""===u.mobileos()&&d(a.currentTarget).datepicker("hide")})}},
_pickertriggerclick:function(a){var b=this.options,c=d(a.currentTarget),e;!0===b.range&&null!==b.rangeid?(e=d("#rangepickerpopup-"+b.rangeid),e.qpopup("target",c),e.qpopup("show",a)):(e=c.siblings("input"),e.is("[disabled]")||e.is("[readonly]")?(e.datepicker("update"),e.datepicker("show",!0)):(!0!==b.showonfocus&&e.datepicker("show",!0),e.focus(),e.select()))},_changedatehandler:function(a,b,c,e){var g=this.element,f=this.options,h=[];-1!==a.currentTarget.className.indexOf("-from")?f.datefrom=a.date:
-1!==a.currentTarget.className.indexOf("-to")&&(f.dateto=a.date);f.datefrom&&f.dateto&&(h=[(new Date(f.datefrom)).valueOf(),(new Date(f.dateto)).valueOf()]);b.datepicker("setRange",h);g.is(".btn.filter")&&(f.datefrom||f.dateto?g.addClass("filter-active"):g.removeClass("filter-active"));c&&0<c.length&&c.val(d.dateutils.intlDateFormat(f.dateto)).trigger("change");e&&0<e.length&&e.val(d.dateutils.intlDateFormat(f.datefrom)).trigger("change")},_blur:function(a){var b=this,c=b.options;b.blurTimeout=setTimeout(function(){b.ignoreBlur&&
!0===b.ignoreBlur?b.ignoreBlur=!1:d("#rangepickerpopup-"+c.rangeid).qpopup("hide",a)},100)},_rangeclick:function(a,b,c){var e=this.options,g=d(a.currentTarget),f=a.currentTarget.getAttribute("data-action"),h=a=!1;if(f){switch(f){case "clear":e.datefrom=void 0;e.dateto=void 0;h=!0;break;case "cancel":a=!0;break;case "ok":a=h=!0;break;case "today":e.datefrom=new Date;e.datefrom=e.datefrom.getFullYear()+"-"+(e.datefrom.getMonth()+1)+"-"+e.datefrom.getDate();e.dateto=e.datefrom;a=h=!0;break;case "days":g=
parseInt(g.getDataAttr("duration"),10);e.datefrom=new Date;e.datefrom.setTime(e.datefrom.getTime()+864E5*g);e.datefrom=e.datefrom.getFullYear()+"-"+(e.datefrom.getMonth()+1)+"-"+e.datefrom.getDate();e.dateto=new Date;e.dateto=e.dateto.getFullYear()+"-"+(e.dateto.getMonth()+1)+"-"+e.dateto.getDate();a=h=!0;break;case "months":g=parseInt(g.getDataAttr("duration"),10);e.datefrom=new Date;e.datefrom.setMonth(e.datefrom.getMonth()+g);e.datefrom=e.datefrom.getFullYear()+"-"+(e.datefrom.getMonth()+1)+"-"+
e.datefrom.getDate();e.dateto=new Date;e.dateto=e.dateto.getFullYear()+"-"+(e.dateto.getMonth()+1)+"-"+e.dateto.getDate();a=h=!0;break;case "custom":g.getDataAttr("datefrom")?e.datefrom=d.dateutils.intlDateFormat(d.dateutils.parseDate(g.getDataAttr("datefrom"))):e.datefrom=null,g.getDataAttr("dateto")?e.dateto=d.dateutils.intlDateFormat(d.dateutils.parseDate(g.getDataAttr("dateto"))):e.dateto=null,a=h=!0}!0===h&&(g=[],e.datefrom&&e.dateto&&(g=[(new Date(e.datefrom)).valueOf(),(new Date(e.dateto)).valueOf()]),
b.datepicker("setRange",g),c.filter(".input-datepicker-rangefrom").val(e.datefrom?d.dateutils.inputFormat(new Date(e.datefrom)):"").trigger("change"),b.filter(".datepicker-range-from").data("date",e.datefrom?d.dateutils.inputFormat(new Date(e.datefrom)):"").datepicker("update"),c.filter(".input-datepicker-rangeto").val(e.dateto?d.dateutils.inputFormat(new Date(e.dateto)):"").trigger("change"),b.filter(".datepicker-range-to").data("date",e.dateto?d.dateutils.inputFormat(new Date(e.dateto)):"").datepicker("update"));
a&&d("#rangepickerpopup-"+e.rangeid).qpopup("hide")}},_focus:function(a){var b=this.options;if(!this.element.hasClass("btn")){this.blurTimeout&&clearTimeout(this.blurTimeout);var b=d("#rangepickerpopup-"+b.rangeid),c=d(a.currentTarget);b.qpopup("option","positiontarget",c);b.qpopup("target",c);!0===b.qpopup("isvisible")?b.qpopup("adjust",a):b.qpopup("show",a)}}});d.fn.extend({urlinput:function(){d(this).inputmask("url",{clearMaskOnLostFocus:!0});return this},confirm:function(){d(this).each(function(){var a=
d(this);a.on("waiting",function(b,c){var e={message:null,title:null,view:null,submitno:!0,id:a.attr("id"),norobots:!1};a.dataOptions(e,{list:["message","title","view"]});var g=u.cform(a);g.inlineForm("busy",!1);g.inlineForm("confirm",d.extend({},e,c.value),void 0,!0)})})},maskinput:function(){var a=d(this),b=a[0].getAttribute("data-mask");d.inputmask.prototype.defaults.aliases[b]?a.inputmask(b):a.inputmask({mask:b,placeholder:"",showMaskOnFocus:!1,autoUnmask:!1,autoClear:!1,clearMaskOnLostFocus:!1,
clearIncomplete:!1,showMaskOnHover:!1});a.on("focus",function(a){d(a.target).select()});return this},numberinput:function(a){var b=d(this);a=d.extend({allowMinus:!1,digits:null,integerdigits:null,integerDigits:null},a);b.dataOptions(a,{list:["#scale","#digits","?allowMinus","#integerdigits"]});null===a.integerDigits?null!==a.integerdigits?a.integerDigits=a.integerdigits:(a.integerDigits=12,a.integerdigits=12):a.integerdigits=a.integerDigits;null===a.digits?null!==a.scale?a.digits=a.scale:(a.digits=
2,a.scale=2):a.scale=a.digits;b.inputmask("numeric",a);b.on("focus",function(a){d(a.target).select()});return this},currencyinput:function(a){var b=d(this);a=d.extend({groupSeparator:",",scale:null,clearMaskOnLostFocus:!1,integerdigits:null,integerDigits:null,autoUnmask:!1,clearIncomplete:!1,formatOnBlur:!0,autoGroup:!0,digits:null,appendDigits:!0,allowMinus:!0},a);var c=/Android/g.test(navigator.userAgent);b.dataOptions(a,{list:["#scale","#digits","?allowMinus","#integerdigits"]});null===a.integerDigits?
null!==a.integerdigits?a.integerDigits=a.integerdigits:(a.integerDigits=12,a.integerdigits=12):a.integerdigits=a.integerDigits;null===a.digits?null!==a.scale?a.digits=a.scale:(a.digits=2,a.scale=2):a.scale=a.digits;c||b.inputmask("numeric",a);if(!0===a.formatOnBlur)b.on("blur",function(a){a=d(a.target);var b=a.fieldValue();a.fieldValue(b)});b.on("focus",function(a){d(a.target).select()});a=b.fieldValue();b.fieldValue(a);return this},decimalinput:function(a){var b=d(this);a=d.extend({groupSeparator:",",
scale:null,autoGroup:!0,digits:2,integerdigits:12,integerDigits:12,appendDigits:!0,allowMinus:!0},a);b.dataOptions(a,{list:["#scale","#digits","?allowMinus","#integerdigits"],alias:{digits:"scale",integerDigits:"integerdigits"}});b.inputmask("numeric",a);b.on("focus",function(a){d(a.target).select()});a=P(b);P(b,null,a);return this},listinput:function(){return this},timeinput:function(){var a=d(this),b;b=!0;var c;a.attr("size","12").addClass("timeinput");c=a.attr("data-create");void 0!==c&&null!==
c&&("false"===c+""||"boolean"===typeof c&&!1===c)&&(b=!1);if(""!==u.mobileos()&&!0===b)a.attr("type","time");else{b=a.selectize({preload:"focus",load:G,closeAfterSelect:!0,loadingClass:"",labelField:"label",valueField:"data",searchField:"label",create:!0===b?function(a){if(a){a=d.dateutils.parseDate(a);var b=d.dateutils.timeInputFormat(a);return a?{time:60*a.getHours()+a.getMinutes(),data:b,label:b}:!1}return!1}:!1,dropdownParent:"body",setActiveOnFocus:!0,sortField:[{field:"time"},{field:"$score"}],
searchFilter:!1,maxItems:1,selectOnTab:!0,plugins:["restore_on_backspace"],openOnFocus:!1,selectOnBlur:!0,createOnBlur:!0,openOnClick:!0,addBlankRow:!0,score:function(a){var b=this.getScoreFunction(a);return function(c){return!0===D(a,!1,!0).test(c.data)?1*(b(c)+1):(b(c)+1)*(D(a,!0,!0).test(c.data)?.5:.1)}}});c="selectize-"+b.attr("id");var e=d(b[0].selectize.$control_input);e.inputmask("h:s t",{placeholder:"\u00a0",showMaskOnFocus:!1});e.on("focus",function(a){d(a.target).select()});d(b[0].selectize.$control).attr("id",
c);u.cform(a).find('label[for="'+b.attr("id")+'"]').on("click",function(){!0!==e.prop("disabled")&&e.focus()});b.setSingleDataAttr("fiber_target",c)}return this},file:function(){d(this).button({icons:{primary:"ui-icon-arrowthickstop-1-s"}}).addClass("secondary").on("click",function(a){a.preventDefault();u.location(u.options.downloadURL+"studentportal.includeFile&uid="+d(this).getDataAttr("file"),d(this).getDataAttr("target"))});return this},formstate:function(){d(this).on("reset",function(a){d(a.currentTarget).val("")})},
fileinput:function(){return this},setInputState:function(a,b,c,d,g){K.setinputstate(this,a,b,c,d,g)}});d.widget("ui.inlineForm",{options:{isDialogForm:!1,loadingContainer:null,autoLoad:!1,chain:!0,process:null,processurl:null,read:null,readurl:null,view:null,viewurl:null,viewstate:null,viewstate_readonly:"view,editable,delete",readonly:!1,viewstate_previous:null,"viewstate_current:":null,data:null,topic:null,topicsubscribe:null,topicpublish:null,updateonselected:!0,intent:"save",permittedactions:null,
visibleactions:null,readinterval:null,validationClass:"validation",resetonclose:!0,resetonlock:!1,inheritprivateproperties:!1,inheritidproperties:!0,submitonenter:!1,enableconflictmanagement:!1,enablebeforeunload:!1,ignoretopicreset:!1,lasttabindex:null,includekeys:!1,focusonsetupcomplete:!0,validateonprocesscomplete:!1,parentform:null,destroyonclose:!1},_create:function(){this.isSetup=!1;this.isActive=!0;this.element.addClass("ui-inlineform");this.element.attr("data-loadviewts","");this.__token=
"";this._trigger("init",0,{});this._setupForm();this.hasInlineView=!1;this.warningCount=this.invalidCount=-1;this.processDeferred=null;this.processIsDeferred=!1;this.processChain=null;this.hasformchangedEnabled=!1;this.element.setSingleDataAttr("fiber_id","inlineform-"+u.createUUID());this._trigger("created")},templatevariables:function(a){return this._templatevariables(a)},_templatevariables:function(a){return this.element.dataAttr(a)},_setOption:function(a,b){this.__setOption(a,b)},_optionField:function(a,
b){var c=this.element.find("#__"+a);1>c.length?u.createhiddenfield(this.element,"__"+a,b+""):c.val(b+"")},_readinterval:function(a){var b=this,c=b.options.readinterval;b.readinterval=clearTimeout(b.readinterval);null!==c&&-1<c&&(b._optionField("readinterval",c),b.readinterval=setTimeout(function(){b._read(a,"interval")},c))},__setOption:function(a,b){var c=this.options;"viewstate"===a?(c[a]=b,this._updateViewState(b)):"readinterval"===a?(c[a]=b,this._readinterval(this._templatevariables())):"openerid"===
a?c[a]=b:"parentform"===a?c[a]=b:this._superApply(arguments)},_setupForm:function(){var a=this,b=this.options,c,e;e=a.element;var g=[],h;c=0;c=a.element.attr("id");if(void 0===c||null===c||""===c)c="inlineform-"+u.createUUID(),a.element.attr("id",c);if(0<e.length)c=e[0],c=c.getAttribute("action");else return this;!0!==e.hasDataAttr("id")&&e.setSingleDataAttr("id","");1>e.find("input#id").length&&u.createhiddenfield(e,"id","");h=u.defaultOptList;h.push("?resetonclose");h.push("?updateonselected");
h.push("?inheritprivateproperties");h.push("?inheritidproperties");h.push("?submitonenter");h.push("?enableconflictmanagement");h.push("?enablebeforeunload");h.push("*topicsubscribe");h.push("?ignoretopicreset");h.push("?includekeys");h.push("?validateonprocesscomplete");h.push("?focusonsetupcomplete");!0===b.isDialogForm&&h.push("?destroyonclose");h.push("lasttabindex");e.dataOptions(b,{list:h});e.has(".ui-inlineview")&&(a.hasInlineView=!0);!0===b.isDialogForm&&!0===b.destroyonclose&&e.closest(".ui-dialogform").dialogForm("option",
"destroyOnClose",!0);h=document.createElement("button");h.className="focus-manager";h.innerText="focus";null!==b.lasttabindex&&(h.tabIndex=b.lasttabindex);e[0].appendChild(h);h=d(h);h.on("focus",function(b){a._focus(b)});null===b.viewstate&&(b.viewstate=null!==b.processurl&&""!==b.processurl||void 0!==c&&null!==c&&""!==c?"add":"view");a._loading();null!==b.topic&&g.push(b.topic);null!==b.topicsubscribe&&(g=g.concat(b.topicsubscribe));!0===b.enablebeforeunload&&(f.addEventListener("beforeunload",function(b){return a.allownavigate(b,
!0)}),f.addEventListener("popstate",function(b){return a.allownavigate(b,!0)},!1));if(0<g.length)for(c=0;c<g.length;c++)u.topic(g[c]).subscribe(function(c){if(!c||void 0===c.originator||null===c.originator||c.originator!==a.element[0].getAttribute("data-fiber_id"))switch(c.type){case "selected":!0===b.updateonselected&&(d.isEmptyObject(c.data)||a.update(c.data,!1,!0));break;case "processcomplete":if(!0===b.validateonprocesscomplete){var e=c&&c.data?c.data:{};!e.__target&&c.topicid&&(e.__target=c.topicid);
a.validate(e)}break;case "reset":!0!==b.ignoretopicreset&&a._resetPrivate()}});this.cache={};a._setupButtons();e.on("submit",function(b){a._submit(b)});e.on("waitcomplete",function(b,c){void 0===c||void 0===c["for"]||null===c["for"]||""===c["for"]||c.originator&&"form"===c.originator||a.element.find("#"+c["for"]).trigger("waitcomplete",d.extend({},c,{originator:"form"}))});a._setupFieldTypes();!0===b.autoLoad&&(e=d.extend(a._templatevariables(),b.data),a._load(e));a._setupHotKeys();return this},_submit:function(a){var b=
this.options,c=b.processurl,d=this.element.attr("action");if(null!==c||void 0===d||null===d)a&&(a.preventDefault(),a.stopImmediatePropagation(),a.stopPropagation()),!0!==this._busy()&&null!==c&&!0===this.isSetup&&(this.element.setSingleDataAttr("fiber_busy",!0),this._setValidations("destroy"),this._loading({loadingtext:"processing"}),this._processForm({intent:b.intent}))},_setForms:function(a,b){var c,e,g=this.options,f=this.element,h=null,k,l=["required","disabled","readonly","visible"],n,p=!1;void 0!==
a.__readinterval&&this.__setOption("readinterval",a.__readinterval);void 0!==a.__viewstate&&this.__setOption("viewstate",a.__viewstate);void 0!==a.__permittedactions&&this.__setOption("permittedactions",a.__permittedactions);void 0!==a.__visibleactions&&this.__setOption("visibleactions",a.__visibleactions);for(k in a)if(!(1<(""+k).length&&"__"==(""+k).substring(0,2))&&(c=void 0!==f[0][k]?f[0][k]:f[0][k.toLowerCase()],Object.prototype.toString.call(c),void 0!==c&&null!==c?e=d(c):(e=jQuery("#"+k,f),
0<e.length&&(c=e[0])),0<e.length)){if(void 0!==a[k].value){if(1<e.length)for(c=0,n=e.length;c<n;c++)this._populateFormElement(e[c],a[k].value,{createMissing:!0,setup:!0,setupintent:b,enableconflictmanagement:!1});else this._populateFormElement(c,a[k].value,{createMissing:!0,setup:!0,setupintent:b,enableconflictmanagement:!1});void 0!==a[k].replacestate&&""!==a[k].replacestate&&(null===h&&(h={}),h[a[k].replacestate]=a[k].value)}void 0!==a[k].tooltip&&(c=e,e.hasDataAttr("tiptarget")&&(c=f.find("#"+
e.getDataAttr("tiptarget")),0<c.length?0<a[k].tooltip.length?c.removeClass("include-hidden").show():c.hide():c=e),null===a[k].tooltip||""===a[k].tooltip?("tooltip"===c.attr("data-rel")&&c.removeAttr("data-rel"),c.removeAttr("data-targetid"),c.removeAttr("title")):(c.hasDataAttr("rel")||(c.setSingleDataAttr("rel","tooltip"),c.setSingleDataAttr("targetid","forms_tooltip")),c.attr("title",a[k].tooltip),c.attr("data-title",a[k].tooltip)));for(c=0;c<l.length;c++)n=void 0!==a[k][l[c]]?a[k][l[c]]:a[k][l[c].toUpperCase()],
void 0!==n&&(n=K.setinputstate(e,l[c],n,g,b,f))&&n.layoutchanged&&!0===n.layoutchanged&&(p=!0);void 0!==a[k].source&&K.setinputstate(e,"source",a[k].source,{sourceid:void 0!==a[k].sourceid?a[k].sourceid:a[k].SOURCEID,sourcemulti:void 0!==a[k].sourcemulti?a[k].sourcemulti:a[k].SOURCEMULTI},b,f);if(void 0!==a[k].data)for(c in a[k].data)e.setSingleDataAttr(c,a[k].data[c]);if(void 0!==a[k].options&&!0!==d.isEmptyObject(a[k].options)){var r=e[0].getAttribute("data-role");void 0!==r&&null!==r&&""!==r&&
e.requireRole(a[k].options).then(function(){var b;if("object"==typeof a[k].options)for(b in a[k].options)a[k].options.hasOwnProperty(b)&&u.requireRoleCall(e,r,"option",b,a[k].options[b])})}}null!==h&&u.updateParams(h,!0);!0===p&&u.topic("resize").publish()},close:function(){if(null!==this.options.processurl&&""!==this.options.processurl||null!==this.options.readurl&&""!==this.options.readurl)this._setValidations("inactive"),this.isActive=!1,!0===this.options.resetonclose&&!0!==this._busy()&&this._reset()},
alert:function(a,b,c){if(!0!==self._busy())u.alert(a,b,c).on("dialogformbuttonclick",function(a,c){b.id&&(self.element.find("#"+b.id).val(c.value?c.value:c.type),self.__target=b.id,self.__targetvalue=c.value?c.value:c.type);self.element.submit();d(this).trigger("close")})},confirm:function(a,b,c){var e=this;if(!0!==e._busy())if(void 0===a||null!==a){var g={title:"Save",type:"question",buttons:"no,yes",defaultbutton:"yes",id:null,message:"Are you sure you wish to save this form?",submitno:!1,intent:"save",
openerid:null,norobots:!1};a&&"string"==typeof a?g.message=a:g=d.extend({},g,a);void 0!==b&&(g.id=b);!0===g.norobots&&(a=[Math.ceil(10*Math.random()),Math.ceil(10*Math.random())],g.additionalhtml='<form id="norobots-form" class="form-horizontal" style="padding: 8px;"><div class="control-group control-group-xsmall"><label style="font-size: 16px;" class="control-label"><strong> '+a[0]+" + "+a[1]+' = </label><div class="controls"><input type="text" id="norobots-input" name="norobots-input" data-sum="'+
a.join(",")+'" data-role="numberinput" data-integerdigits="3" class="span1" value="" /></div></form>');u.alert(g).on("dialogformbuttonclick",function(a,b){var f,h=!0,k,m,q,l;null!==g.id&&(f=e.element.find("#"+g.id),f.val(b.value?b.value:b.type),e.__target=g.id,e.__targetvalue=b.value?b.value:b.type);if(!0===g.norobots&&"no"!==(b.value?b.value:b.type)){k=d(this).find("#norobots-input");m=k.getDataAttr("sum").split(",");for(l=q=0;l<m.length;l++)q+=parseInt(m[l]);if(k.val()!==q+""){try{k.validation("destroy")}catch(ja){}k.validation({text:"Invalid",
type:"invalid"});h=!1}}void 0!==c&&!0===c?null!==g.id&&!0===h&&f.trigger("waitcomplete",b):"no"===(b.value?b.value:b.type)&&!0!==g.submitno||!0!==h||(e.options.intent=g.intent,e.element.submit());!0===h&&u.close(this)})}else e._refresh(!0);else u.warning("FORM is still processing.")},revert:function(a){var b=this;!0!==b._busy()?void 0===a||null!==a?u.question({title:"Restore",message:void 0===a?"Are you sure you wish to restore this form to it's original state?":a},{clickyes:function(){b._refresh(!0);
d(this).trigger("close")},clickno:function(){d(this).trigger("close")}}):b._refresh(!0):u.warning("Unable to Revert because FORM is currently processing.")},busy:function(){this._busy.apply(this,arguments)},_busy:function(a,b){var c=this;if(1>arguments.length){var d=c.element.getDataAttr("fiber_busy");return!d||!0!==d&&"true"!==(d+"").toLowerCase()?!1:!0}void 0!==b&&null!==b?setTimeout(function(){c._busy(a)},b):c.element.setSingleDataAttr("fiber_busy",a);return this},_updateForms:function(a,b,c){void 0!==
a&&null!==a&&!1!==this._trigger("beforeupdateforms",0,b)&&(this._setForms(a,c),this._trigger("updateforms",0,b))},_loadView:function(a,b){var c=this,e=c.element.find("#"+a.__load),g,f="load";1>e.length&&(e=d(document.getElementById(a.__load)));void 0!==a.__loadfn&&(f=a.__loadfn);0<e.length&&(g=e[0].getAttribute("data-role"),"dialog"===g&&(g="dialogForm"),e.hasClass("viewstack-child")?(g=e.closest(".viewstack"),u.requireRoleCall(g,"viewStack",f,d.extend({selectedroute:a.__load},a,a.__loaddata?a.__loaddata:
{}))):void 0!==g&&null!==g&&""!==g&&u.requireRoleCall(e,g,f,d.extend({},a,a.__loaddata?a.__loaddata:{}),null));a.__loadevent&&""!==a.__loadevent&&e.trigger(a.__loadevent,a.__loaddata?a.__loaddata:{});!a.__loadclose||!0!==a.__loadclose&&"true"!==(a.__loadclose+"").toLowerCase()?(c._loading("complete"),e.one("inlineformprocesscomplete processcomplete inlineformcancel cancel",function(a,e){var g={},f;for(f in e)if(2>f.length||"__"!==f.substring(0,2))g[f]=e[f];"save"===b&&(b="validation");-1===a.type.indexOf("cancel")?
(c._updateViewstack(e?e.__childselectedroute:null,g),c._updateForms(e?void 0!==e.__forms?e.__forms:e.__FORMS:null,g,!1),c._processForm(d.extend({},g,{intent:b}),!0)):c._busy(!1,500)})):c.element.trigger("close")},_updateViewstack:function(a,b){if(void 0!==a&&null!==a){var c=this.element.find(".ui-viewstack").first();c.length&&c.viewStack("load",a,{data:b})}},_resetViewstack:function(){var a=this.element.find(".ui-viewstack").first();if(0<a.length)try{a.viewStack("reset")}catch(b){}},_waitingitem:function(a,
b,c,d,g,f){var e=this;1<(b+"").length&&"__"===(b+"").substring(0,2)?(e.__setOption((b+"").replace(/^__/i,""),c),e._processForm({intent:"save",__target:d})):"conflictmanagement"===b?u.warning({title:"Conflict",message:"A conflict has occurred, please resolve promptly.",clickclose:function(){u.close(this);f(c);e._attachValidations(c,"conflict",!0)}}):(a=e.element.find("#"+b),a.one("waitcomplete",function(a,b){void 0!==b.invalid&&!0===b.invalid?f(b):g(b)}),a.trigger("waiting",{value:c,waitid:b,__token:e.__token,
__target:d}))},_waiting:function(a,b,c){if(a){var e=this,g=d.map(a,function(b,d){return new Promise(function(g,f){e._waitingitem(b,d,a[d],c,g,f)})});0<g.length&&Promise.all(g).then(function(a){var c=b,g={},f,h;if(a&&d.isArray(a))for(h=a.length,f=0;f<h;f++)d.extend(g,a[f]);else a&&d.extend(g,a);"setup"===c&&(c="validation");"upload"===c&&(c="save");g.intent=c;e._processForm(g,!0)},function(){e._busy(!1);e._loading("complete")})}},_whitelistForms:function(a){var b,c,d;if(a&&""!==a)for(b=[],b=b.concat(Array.prototype.slice.call(this.element[0].getElementsByTagName("input"))),
b=b.concat(Array.prototype.slice.call(this.element[0].getElementsByTagName("textarea"))),b=b.concat(Array.prototype.slice.call(this.element[0].getElementsByTagName("select"))),b=b.concat(Array.prototype.slice.call(this.element[0].getElementsByClassName("faux-input"))),d=b.length,c=0;c<d;c++)b[c].id&&-1!==(","+a+",").indexOf(","+b[c].id+",")||b[c].parentNode.removeChild(b[c])},_processSuccess:function(a,b,c,d,g,f){var e=this,h=e.options;b=e.element;var k,m,l,n,p,r,t=!1,w;e.invalidCount=-1;e.warningCount=
-1;r=a?void 0!==a.__locks?a.__locks:a.__LOCKS:void 0;n=a?void 0!==a.__status?a.__status:a.__STATUS:void 0;p=a?a.__msg:void 0;void 0!==r&&(e.__locks=r);void 0!==a.__token?e.__token=a.__token:void 0!==a.__TOKEN&&(e.__token=a.__TOKEN);a.__key&&(a=a[a.__key]);e._checkTitle(a);void 0===n?(u.error(u.constants.invalidStatusText),e._busy(!1,500),e._trigger("invalid")):(e._validation(a,a.__clearvalidation),k=void 0!==a.__forms?a.__forms:a.__FORMS,c=void 0!==a.__waiting?a.__waiting:a.__WAITING,m=void 0!==a.__intent?
a.__intent:a.__INTENT,(l=void 0!==a.__model?a.__model:a.__MODEL)&&!1!==e._trigger("beforeupdatemodel",0,a)&&(u.updatemodel(l,!0),e._trigger("updatemodel",0,a)),void 0!==m&&(h.intent=m),void 0!==k&&void 0!==k.__viewstate&&e.__setOption("viewstate",k.__viewstate),void 0!==m&&-1!=="validation,print,continue,setup,filter".indexOf(m)?(("continue"!==m&&"filter"!==m||void 0!==n&&"success"===n)&&e._trigger(m,0,a),void 0!==a.repost&&""!==a.repost||void 0!==a.__repost&&""!==a.__repost?(h=void 0!==a.repost&&
""!==a.repost?a.repost:a.__repost,l=void 0!==a.repost_whitelist&&""!==a.repost_whitelist?a.repost_whitelist:a.__repost_whitelist,b.off("submit"),e._updateViewstack(a?a.__childselectedroute:null,a),e._updateForms(k,a,"setup"===m?!0:!1),e._whitelistForms(l),b.attr("method","post"),b.attr("action",h),b.submit()):(void 0!==n&&"invalid"===n||e._waiting(c,h.intent,a.__target),e._updateViewstack(a?a.__childselectedroute:null,a),e._updateForms(k,a,"setup"===m?!0:!1),(0<e.invalidCount||void 0!==n&&"invalid"===
n)&&e._invalidForm(a),0<e.warningCount&&e._warningForm(a),"continue"!=m&&("validation"!=m&&"print"!=m||c)||!0!==e._busy()||e._busy(!1,500),"filter"==m&&e._trigger("refreshfilters",0,{__target:e.__target,forceupdate:!0})),w=m):void 0===n||"success"!==n&&"warning"!==n?(void 0!==n&&"invalid"===n||e._waiting(c,h.intent,a.__target),e._updateForms(k,a,!1),e._invalidForm(a)):(w="save","upload"==m?(e._trigger(m,0,a),e._updateViewstack(a?a.__childselectedroute:null,a),e._updateForms(k,a,!1),e._trigger("uploadcomplete",
0,a)):void 0!==c?e._waiting(c,h.intent,a.__target):void 0===m||"save"!=m&&"submit"!=m&&m!=h.intent?"warning"===n&&0<e.warningCount&&e._warningForm(a):(0<e.warningCount&&e._warningForm(a),void 0!==a.repost&&""!==a.repost||void 0!==a.__repost&&""!==a.__repost?(h=void 0!==a.repost&&""!==a.repost?a.repost:a.__repost,l=void 0!==a.repost_whitelist&&""!==a.repost_whitelist?a.repost_whitelist:a.__repost_whitelist,b.off("submit"),e._updateViewstack(a?a.__childselectedroute:null,a),e._updateForms(k,a,!1),e._whitelistForms(l),
b.attr("action",h),b.submit()):"cancel"===m?(t=!0,e._topic("cancelprocesscomplete",a)):(!1!==e._trigger("success",0,a)&&(t=!0),e._trigger("processcomplete",0,a),e._topic("processcomplete",a)))),void 0===c&&e._loading("complete"),p||n||r?Promise.all([e._statusMsg(a),e._lockingMsg(a)]).then(function(b){t=e._processcomplete(r,b,t,a,k,w,d,g,f)}):t=e._processcomplete(r,{},t,a,k,w,d,g,f))},_processcomplete:function(a,b,c,d,g,f,h,k,l){var e=this,m=e.element,q=e.options,n=!0,p;e.invalidlock&&!0===e.invalidlock&&
(void 0!==a&&(!0!==q.resetonlock&&(a.retry=!0),e.__locks=a),e._trigger("invalidlock",0,d),n=!1,!0!==c&&(c=!0,e._trigger("processcomplete",0,d),e._topic("processcomplete",d)));!0===c&&(a=void 0!==d.__redirect?d.__redirect:d.__REDIRECT,p=void 0!==d.__print?d.__print:d.__PRINT,e.invalidlock&&!0===e.invalidlock?(e.invalidlock=!1,m.setSingleDataAttr("fiber_loadcount",null).removeDataAttr("fiber_loadcount"),!0===q.resetonlock&&e._reset()):void 0!==a&&""!==a&&"#"!=a.charAt(0)||void 0!==p&&""!==p&&"#"!=p.charAt(0)?
(m.setSingleDataAttr("fiber_loadcount",null).removeDataAttr("fiber_loadcount"),e._busy(!1)):e._reset(),!d||void 0===d.__redirect||!0!==d.__redirectclose&&"true"!==d.__redirectclose&&"TRUE"!==d.__redirectclose||u.close(m),e.hasformchangedEnabled=!1,e._loading("complete"));void 0!==b&&void 0!==b.type&&"redirect"!=b.type||!d||void 0===d["__redirect"+(b&&b.suffix?b.suffix:"")]||""===d["__redirect"+(b&&b.suffix?b.suffix:"")]||(void 0!==d.__target?u.topic("redirect").publish({url:d["__redirect"+(b&&b.suffix?
b.suffix:"")],target:d.__target}):u.topic("redirect").publish({url:d["__redirect"+(b&&b.suffix?b.suffix:"")]}));void 0!==b&&void 0!==b.type&&"print"!=b.type||!d||void 0===d.__print||""===d.__print||u.print(d.__print,d,function(a){void 0!==a.__token?e.__token=a.__token:void 0!==a.__TOKEN&&(e.__token=a.__TOKEN)});void 0!==b&&void 0!==b.type&&"update"!=b.type||!d||void 0===d.__update||!0!==d.__update&&"true"!==(d.__update+"").toLowerCase()||(e._updateForms(g,d,!1),e._update(d,!0));void 0!==d.__load&&
""!==d.__load&&e._loadView(d,f);h&&h(d);k&&(!0===n?k(d):l&&l());return c},_focus:function(a,b){var c=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),d=this.element;if(!c){var g,f;if(void 0!==b)for(var c=b.split(","),h=0,k=c.length;h<k;h++)if("autofocus"==c[h]){g=d.find("[autofocus]").filter(":visible").not(".data-fiber_readonly").not(".data-fiber_disabled").not(".include-hidden").not("[disabled]").not("[readonly]").first();break}else{if(f=d.find("#"+c[h]),0<f.length&&f.is(":visible")&&!f.is(":disabled")&&
!f.is("[disabled]")&&!f.is("[readonly]")){g=f;break}}else g=d.find("[autofocus]").filter(":visible").not(".data-fiber_readonly").not(".data-fiber_disabled").not(".include-hidden").not("[disabled]").not("[readonly]").first();if(void 0!==g&&0<g.length){g.focus();try{g.select()}catch(I){}g.hasRole()&&u.requireRoleCall(g[0],g[0].getAttribute("data-role"),"focus")}}},_lockingMsg:function(a){var b=a?void 0!==a.__locks?a.__locks:a.__LOCKS:void 0;return void 0!==b&&void 0!==b.status&&"invalid"===b.status?
(this.invalidlock=!0,new Promise(function(a,d){u.locking({message:b.msg?b.msg:"Locking Invalid",type:"invalid"}).on("dialogformbeforeclose",function(){a()})})):!0},_statusMsg:function(a){var b=this,c=a?void 0!==a.__status?a.__status:a.__STATUS:void 0,e=a?a.__msg:void 0;if(void 0!==c&&void 0!==e){var g=d.Deferred();if("object"==typeof e){var f=d.extend({type:c,view:null,data:d.extend({},e,a)},e);if(!1!==b._trigger("statusmsg",0,f))K[f.type](f).on("dialogformbeforeclose",function(){g.resolve();b._trigger("statusmsgclose",
0,f)}).on("dialogformbuttonclick",function(a,c){!0!==c.handled&&(g.resolve(d.extend({},f,c)),u.close(d(this)),b._trigger("statusmsgclose",0,f))});u.topic("status").publish(f)}else if("string"==typeof e&&""!==e)if("success"===c)!1!==b._trigger("statusmsg",0,{message:e,type:"notification"})&&(a&&(void 0!==a.__redirect&&""!==a.__redirect||void 0!==a.__print&&""!==a.__print)||g.resolve(),u.notification({message:e,type:"notification"},function(){g.resolve();b._trigger("statusmsgclose",0,{message:e,type:"notification"})}));
else if(!1!==b._trigger("statusmsg",0,{message:e,type:c}))K[c]({message:e,type:c}).on("dialogformbeforeclose",function(){g.resolve();b._trigger("statusmsgclose",0,{message:e,type:c})});return g.promise()}return!0},_topic:function(a,b){var c=this.options.topic;void 0!==c&&null!==c?u.topic(c).publish({type:a,data:b,openerid:this.options.openerid,originator:this.element[0].getAttribute("data-fiber_id")}):this._trigger(a,0,b)},_invalidForm:function(a){this._trigger("invalid",0,a);this._loading("complete");
this._busy(!1,500)},_warningForm:function(a){this._trigger("warning",0,a)},_processError:function(a,b){u.ajaxError(a,b);this._invalidForm()},_packageForm:function(a,b){return void 0!==b&&null!==b&&void 0!==b.dataPriority&&!0===b.dataPriority?d.extend({},this.element.packageForm(b),a):d.extend({},a,this.element.packageForm(b))},formvariables:function(a){var b={};void 0!==a&&!0===a.templatevariables&&(b=this._templatevariables(a));return this._packageForm(b)},_processForm:function(a,b,c,d){"parentportal.students.student.extracurricular.activity.signup.process"===
this.options.process&&(console.log(this.options.process),console.log(a.intent));var e=this;!0!==e.processIsDeferred?(e.processIsDeferred=!0,e.processDeferred=e._processFormDeferred(a,b,c,d),e.processChain=e.processDeferred):e.processChain=e.processChain.then(function(){return e._processFormDeferred(a,b,c,d)});e.processChain&&e.processChain.then(function(){e.processIsDeferred=!1;e.processDeferred=null;e.processChain=null});return e.processDeferred},_processFormDeferred:function(a,b,c,d){var e=this;
void 0===a.intent&&(a.intent=e.options.intent);var f=null,f=e._beforeProcess(a);if(null!==f&&f.promise)return f.then(function(){return e._processFormFinal(a,b,c,d)},function(){d&&d()});if(!1!==f)return e._processFormFinal(a,b,c,d);d&&d();return!1},_beforeProcess:function(a){a=this._trigger("beforeprocess",a);return null!==a?a:!1!==a?!0:!1},_processFormFinal:function(a,b,c,e){var g=this,h=this.options,k={},l=a.intent,n=h.processurl,p;p=g.element.find(".ui-viewstack").first();k=g._packageForm(a,{intent:l||
h.intent,filter:"[data-intent~='"+l+"'],:not([data-intent])",dataPriority:b});!0===h.includekeys&&(b=Object.keys(k),k.__keys=b.join(","));void 0===k.__target&&(k.__target=void 0!==g.__target&&null!==g.__target?g.__target:"");void 0===k.intent&&(k.intent=h.intent);"continue"===k.intent&&g._loading();0<p.length&&(p=u.templateVariables({element:p,options:{inherit:!0,dynamic:!1,client:!1}}).selectedroute,void 0!==p&&(k.childselectedroute=p));k.__base=f.location.search+(f.location.hash?"#"+f.location.hash.replace(/^#+/,
""):"");!k.openerid&&h.openerid&&(k.openerid=h.openerid);!k.__parentform&&h.parentform&&(k.__parentform=h.parentform);k.viewstate=h.viewstate;void 0!==g.__locks&&(k.__locks=JSON.stringify(g.__locks));k.__token=g.__token;return new Promise(function(b,f){null!==n&&""!==n?d.ajax({url:u.resolveURL(n,k)+(document.body.className&&-1!==(" "+document.body.className+" ").indexOf(" responsive-ui ")?"&responsiveui=true":""),context:document.body,data:u.packdata(k),dataFilter:u.ajaxDataFilter,type:"POST",dataType:"json",
success:function(a,d,f){a=u.unpackdata(a);g._processSuccess(a,d,f,b,c,e);g._trigger("process",0,k)},error:function(c,d,f){g._processError(c,d,f);g._trigger("process",0,k);b(a);e&&e()}}):(c&&c(a),b())})},_preventEnter:function(a){a.keyCode==d.ui.keyCode.ENTER&&(a.preventDefault(),a.stopPropagation())},validate:function(a){return this._processForm(d.extend({},a,{intent:"validation"}),!0)},print:function(a){return this._processForm(d.extend({},a,{intent:"print"}),!0)},"continue":function(a){return this._processForm(d.extend({},
a,{intent:"continue"}),!1)},upload:function(a){return this._processForm(d.extend({},a,{intent:"upload"}),!1)},process:function(a,b){return this._processForm(d.extend({},a,{intent:"save"}),b)},save:function(a,b){return this._processForm(d.extend({},a,{intent:"save"}),b)},_changeHandler:function(a){var b,c=a.currentTarget,d=c.getAttribute("data-linked"),g=c.getAttribute("fiber-preventdefault"),f={},h=c.getAttribute("id"),k;if(d)for(d=d.toString().split(","),f[h]=P(c),b=0;b<d.length;b++)k=this.element.find("#"+
d[b]),0<k.length&&(u.setdata(k,f),k.trigger("reload"));c.getAttribute("data-fiber_default")&&""!==c.value&&c.removeAttribute("data-fiber_default");if(a&&a.type&&("blur"==a.type||"focusout"==a.type&&"file"!==a.currentTarget.type))-1===(c.getAttribute("data-validate")+"").indexOf("blur")||void 0!==g&&null!==g||this.validate({__target:c.getAttribute("id")});else if(-1!==(c.getAttribute("data-validate")+"").indexOf("change")&&(void 0===g||null===g)){a=P(c);b=c.getAttribute("data-previousvalue");var l;
if((void 0!==a&&null!==a?a:"")!==(void 0!==b&&null!==b?b:"")){d={__target:h};d[h]=void 0!==a&&null!==a?a:"";d[h+"_previous"]=void 0!==b&&null!==b?b:"";h=c.getAttribute("type");if("radio"===h||"checkbox"===h)l=c.getAttribute("name"),d[l]=void 0!==a&&null!==a?a:"",d[l+"_previous"]=void 0!==b&&null!==b?b:"";this.validate(d);c.setAttribute("data-previousvalue",void 0!==a&&null!==a?a:"");!l||"radio"!==h&&"checkbox"!==h||this.element.find('input[name="'+l+'"]').filter('[type="'+h+'"]').attr("data-previousvalue",
void 0!==a&&null!==a?a:"")}}},_nextFocus:function(a){var b;b=a.currentTarget.type||a.currentTarget.tagName&&a.currentTarget.tagName.toLowerCase()||a.currentTarget.tagName;var c=a.keyCode||a.which;8!==c||"select-one"!==b&&"select-multiple"!==b&&"select"!==b||(a.preventDefault(),P(a.currentTarget,null,""));"keypress"!==a.type&&"keydown"!==a.type||9!==c||(b=a.currentTarget.getAttribute("data-nextfocus"),void 0!==b&&null!==b&&""!==b&&(a.preventDefault(),"autofocus"===b?this._focus(a):this._focus(a,b)))},
_setupFieldTypes:function(){var a=this;a.element.on("change blur linkedchanged","select,button,input,textarea",function(b,c){a._changeHandler(b,c)});a.element.on("keypress keydown","select,button[data-nextfocus],input[data-nextfocus]",function(b){a._nextFocus(b)});a.element.find("select[data-read]").not("[data-role]").not("[data-deferredrole]").addRole("dynamicselect");a.element.find('input[type="file"]').not(".no-role").addRole("upload",{done:function(b,c){a._processSuccess(c.result,c.textStatus,
c.jqXHR)}})},_setupHotKeys:function(){var a=this.element,b=this.options,c=this.options.processurl,e=a.attr("action");a.on("keypress","input",function(g){13==g.keyCode&&(g.isDefaultPrevented()&&!0===g.isDefaultPrevented()?(g.preventDefault(),g.stopPropagation()):a.isTag("form")&&(null!==c||void 0!==e&&null!==e&&""!==e)&&(g.preventDefault(),!0===b.submitonenter||"submit"===d(g.target).attr("type"))&&(b.intent="save",a.submit()))})},_setupButtons:function(){var a=this,b=a.options;a.element.on("click propagateclick propagateinlineformvalidation propagateinlineformprocesscomplete",
"button,input[type='button'],input[type='submit'],.faux-button",function(c,e){var g,f={};g="";var h=!0,k;if("propagateclick"===c.type)if(e&&e.target)g=d(e.target),f=g.dataAttr();else return;else{if("propagateinlineformvalidation"===c.type||"propagateinlineformprocesscomplete"===c.type){if(e)for(g in e)g&&"target"!==g&&e.hasOwnProperty(g)&&(2>g.length||"__"!==g.substring(0,2))&&(f[g]=e[g]);a._updateViewstack(e?e.__childselectedroute:null,f);a._updateForms(e?void 0!==e.__forms?e.__forms:e.__FORMS:null,
f,!1);a._processForm(d.extend({},f,{intent:"validation"}),!0);return}g=d(c.currentTarget)}k=void 0!==g.getDataAttr("event")?g.getDataAttr("event"):g.text().toLowerCase().replace(/\s/gi,"");k||(g.isTag("input")&&"submit"==g.attr("type")?(k="save",h=!1):g.isTag("input")&&"button"==g.attr("type")&&(k=g.attr("value"))&&(k=k.replace(/\s/gi,"").toLowerCase()));if(!0===g.hasClass("disabled"))return c.stopImmediatePropagation(),c.preventDefault(),c.stopPropagation(),!1;switch(k){case "delete":case "save":case "submit":!0!==
c.isDefaultPrevented()&&(!0===h&&c.preventDefault(),b.intent=k,a.__target=g.attr("id"),a.element.submit());break;case "cancel":case "edit":case "detail":case "view":case "add":!0!==c.isDefaultPrevented()&&(c.preventDefault(),!0!==a._busy()&&("cancel"==k&&(null!==b.processurl&&""!==b.processurl?a._processForm({intent:"cancel"}):a._reset()),a._trigger(k,0,a._packageForm(a._templatevariables()))));break;case "filter":a._trigger("refreshfilters",0,{__target:g.attr("id"),forceupdate:!0});break;case "refresh":a._refresh(!0);
break;case "validate":!0!==c.isDefaultPrevented()&&(c.preventDefault(),f.__target=g.attr("id"),a.validate(f));break;case "print":!0!==c.isDefaultPrevented()&&(c.preventDefault(),a.print({__target:g.attr("id")}));break;case "continue":!0!==c.isDefaultPrevented()&&(c.preventDefault(),a["continue"]({__target:g.attr("id")}));break;default:c.preventDefault()}})},_checkTitle:function(a){void 0!==a&&void 0!==a.__views&&void 0!==a.__views.__title&&this.element.children("div.modal-header").first().text(a.__views.__title).trigger("update")},
_populate:function(a,b,c,d){this._checkTitle(a);this._updateForms(a?void 0!==a.__forms?a.__forms:a.__FORMS:null,a,!1);this._trigger("beforepopulate",0,a);this._populateForm(a,b);this._trigger("populate",0,a);void 0===b.setup||!0===b.setup?(this._processForm({intent:"setup"},!1,c,d),this._busy(!1),this.isSetup=!0,this._loading("complete")):(void 0!==c&&c(a),this._busy(!1))},populate:function(a){this._populate(a)},destroy:function(){this.element.removeClass("ui-inlineform").undelegate("input","keypress").off(".inlineform").find(".buttonpane").undelegate("button",
"click");this._setValidations("destroy");this._superApply(arguments)},reset:function(){this._reset()},_reset:function(){var a=this.element;this.options.topic&&u.topic(this.options.topic).publish({type:"reset",data:{},openerid:this.options.openerid,originator:a.getDataAttr("fiber_id")});this._resetPrivate()},_resetPrivate:function(){var a=this.element,b=this.options,c,d,g;this._trigger("reset",0,{});this._setValidations("destroy");this._busy(!1);a.find("[data-role]").trigger("reset");a.setSingleDataAttr("fiber_loadcount",
null).removeDataAttr("fiber_loadcount");this._loading("complete");a.find(".uneditable-input[data-previousvalue]").fieldValue("");a[0].reset();if(!0===b.enableconflictmanagement||!0===b.enablebeforeunload)for(b=a[0].getElementsByClassName("input-has-original"),d=b.length,c=0;c<d;c++)g=P(b[c]),P(a.find("#"+b[c].getAttribute("name")+"_original").get(0),null,void 0!==g&&null!==g?g:"");a.find("[data-previousvalue]").removeDataAttr("previousvalue");this._resetViewstack();this._trigger("resetcomplete",0,
{})},_populateFormElement:function(a,b,c,e){var g=this.element,f=null,h="string"===typeof a?g[0][a]||g[0][a.toLowerCase()]:a;a="string"===typeof a?a:null;var k;if(void 0===h)if(h=jQuery("#"+a,g),h=0<h.length?h:jQuery("#"+a.toLowerCase(),g),0<h.length)h=h[0],k=!0;else if(!0===c.createMissing)k=!0,h=u.createhiddenfield(g,a,"",void 0,!0===e?!1:!0),!0===e&&(null===f&&(f=[]),f.push(h));else return;else(void 0!==h.selector||void 0!==h.jquery)&&0<h.length&&(h=h[0]),k=!0;if(h&&(null===a&&(a=h.getAttribute("name"),
void 0===a||null===a)&&(a=h.getAttribute("id")),!0!==c.exfilters||!h.getDataAttr("fiber_filterid"))){P(h,c,b);if(!0===k&&!0===c.setupintent&&-1===(" "+h.className+" ").indexOf("exclude-originalvalue")&&(!0===c.enableconflictmanagement||!0===c.enablebeforeunload||!0===this.options.enablebeforeunload))if(c=g[0][a+"_original"]||g[0][a.toLowerCase()+"_original"],void 0===c&&(h.className+=" input-has-original",c=jQuery("#"+a+"_original",g),a=a.toLowerCase(),c=0<c.length?c[0]:jQuery("#"+a+"_original",g),
0<c.length?(c=c[0],c.className+=" exclude-previousvalue"):(c=h.getAttribute("data-role"),c=u.createhiddenfield(g,a+"_original","",c?{valuerole:c}:null,!0===e?!1:!0,"exclude-previousvalue"),!0===e&&(null===f&&(f=[]),f.push(c)))),"string"===typeof b)c.value=b;else if("number"===typeof b||"boolean"===typeof b)c.value=b+"";d(h).trigger("populateinput");return{new_hiddenfields:f}}},_comparevalues:function(a,b){return"string"===typeof a&&"string"===typeof b&&a!==b?u.unescapeHtmlEntities(a)!==b&&u.unescapeHtmlEntities(b)!==
a?!1:!0:!0},allownavigate:function(a,b){var c=!0;!0===this.hasformchangedEnabled&&!0===this._hasformchanged()&&(!0===b?c=(a||f.event).returnValue="It looks like you have been editing something. If you leave before saving, your changes will be lost.":(c=confirm("It looks like you have been editing something. If you leave before saving, your changes will be lost."),!0===c&&this._resetchanged()));return c},_resetchanged:function(){var a,b,c=!1,d={};if(!0===this.hasformchangedEnabled){a=this._packageForm({},
{checkvaluerole:!0});for(b in a)a.hasOwnProperty(b)&&-1===b.indexOf("_original")&&a.hasOwnProperty(b+"_original")&&!0!==this._comparevalues(a[b],a[b+"_original"])&&(c=!0,d[b]={original:a[b+"_original"],value:a[b]},this.element.find("#"+b+"_original").fieldValue(a[b]));if(!0===c)try{console.log(d)}catch(g){}}return c},_hasformchanged:function(){var a,b,c=!1,d={};if(!0===this.hasformchangedEnabled){a=this._packageForm({},{checkvaluerole:!0});for(b in a)a.hasOwnProperty(b)&&-1===b.indexOf("_original")&&
a.hasOwnProperty(b+"_original")&&!0!==this._comparevalues(a[b],a[b+"_original"])&&(c=!0,d[b]={original:a[b+"_original"],value:a[b]});if(!0===c)try{console.log(d)}catch(g){}}return c},_setValidations:function(a,b,c,e){var g=this.element,f=this.options.validationClass;!0===g.hasClass(f+""+(void 0!==c?"-"+c:""))?(f=0<g.length?g[0].getAttribute("id"):"______","destroy"===a?(!b||!b[f]||e&&(e._ALL_||e[f]))&&g.validation(a,{type:c}):g.validation(a,b)):(g=g.find("."+f+""+(void 0!==c?"-"+c:"")),0<g.length&&
g.each(function(g,f){"destroy"===a?(!b||!b[f.id]||e&&(e._ALL_||e[f.id]))&&d(f).validation(a,{type:c}):d(f).validation(a,b)}))},clearValidations:function(a,b){this._setValidations("destroy",a,b)},_attachValidations:function(a,b,c){var d,g=this.options.validationClass,f=0,h,k,l;void 0!==c&&null!==c&&this._setValidations("destroy",a,b,c);for(h in a)k=h,c=this.element.find("#"+k),1>c.length&&(c=this.element.find("#"+(k+"").toLowerCase()),0<c.length&&(k=(k+"").toLowerCase())),c.hasDataAttr("fiber-validation_parent")?
c=c.closest(c.getDataAttr("fiber-validation_parent")):(c.parent().hasClass("input-append")&&(c=c.parent()),c.parent().hasClass("selectize-control")&&c.parent().parent().hasClass("input-append")&&(c=c.parent().parent()),c.parent().is("label.checkbox")&&(c=c.parent()),!0!==c.hasClass("btn-rel-dialog")&&(d=c.getDataAttr("fiber_target"),void 0!==d&&(c=this.element.find("#"+d)))),null!==a[h]&&"string"===typeof a[h]?d=!0:(d=!1,void 0!==a[h].reread&&null!==a[h].reread&&(l=this.element.find("#"+k+"_original"),
0<l.length&&(l[0].value=a[h].reread))),!0===c.hasClass(g)?c.validation("process",{text:d?a[h]:void 0,item:h,data:d?void 0:a[h],tooltip:d,active:this.isActive,type:b,fieldid:k}):c.validation({text:d?a[h]:void 0,item:h,data:d?void 0:a[h],tooltip:d,active:this.isActive,type:b,fieldid:k}),f++;return f},_validation:function(a,b,c){var d,g;d=0;g=void 0!==a.__status?a.__status:a.__STATUS;void 0===g||null===g||""===g||"success"!==g?(b&&null!==b&&this._setValidations("destroy",null,c,b),d=void 0!==a.__invalid?
a.__invalid:a.__INVALID,void 0===d&&(d={}),d=this._attachValidations(d,"invalid",b)):void 0!==b&&null!==b&&this._setValidations("destroy",null,c,b);this.invalidCount=d;this.warningCount=a=this._attachValidations(void 0!==a.__warning?a.__warning:a.__WARNING,"warning",b);0<d||0<a||(this.warningCount=this.invalidCount=0,this._trigger("valid",0,{type:c}))},_loading:function(a,b,c){void 0===a||null===a||"string"!==typeof a?!0===this.element.hasClass("ui-loading")?this.element.loading("adjust"):this.element.loading(a):
!0===this.element.hasClass("ui-loading")&&this.element.loading(a,b,c)},adjust:function(a){this._setValidations("adjust",null,a)},update:function(a,b,c){return this._update(a,b,c)},_updateprocess:function(a,b){var c=this,d=c.options,g,f,h=c.element[0];u.setdata(c.element,a,{checkId:d.inheritidproperties,inheritprivate:d.inheritprivateproperties,diff:!0===b?!1:!0,chain:d.chain});g=h.getAttribute("data-fiber_diff")||"";!0!==b&&""===g&&(f=h.getAttribute("data-fiber_loadcount"));if(!0===b||""!==g||void 0===
f||null===f)return(new Promise(function(a,b){c._loading();h.setAttribute("data-fiber_loadcount","1");c._load(c._templatevariables(),a,b)})).then(function(){c._trigger("setupcomplete",0,a);!0===d.focusonsetupcomplete&&c._focus()});c._loading("complete");return new Promise(function(b,c){b(a)})},_update:function(a,b){var c=this,d=a&&void 0!==a["data-fiber_id"]?a["data-fiber_id"]:null,g=c.element[0];return null===d||d==g.getAttribute("data-fiber_id")||d==c.element.closest(".ui-inlineview,.ui-inlinelist,.ui-viewstack").first().getDataAttr("fiber_id")?
c.processDeferred?Promise.all([c.processDeferred]).then(function(){c._updateprocess(a,b)}):c._updateprocess(a,b):new Promise(function(b,c){b(a)})},_refresh:function(a){this._update({},a)},_updateViewState:function(){var a=this.options,b=[],c,e,g,f=a.viewstate;if(f!==a.viewstate_current){a.viewstate_previous=a.viewstate_current;c=a.viewstate_readonly.split(",");g=c.length;a.readonly=!1;for(e=0;e<g;e++)if(c[e]===f){a.readonly=!0;break}c=[];c=c.concat(Array.prototype.slice.call(this.element[0].getElementsByTagName("input")));
c=c.concat(Array.prototype.slice.call(this.element[0].getElementsByTagName("textarea")));c=c.concat(Array.prototype.slice.call(this.element[0].getElementsByTagName("select")));c=c.concat(Array.prototype.slice.call(this.element[0].getElementsByClassName("faux-input")));K.setinputstate(c,"readonly",a.readonly,a,!0,this.element);c=this.element.find("[data-excludefrom]");0<c.length&&c.each(function(a,b){var c=d(b),e;e=c.getDataAttr("excludefrom").split(",");-1===d.inArray(f,e)?c.removeClass("include-hidden").removeClass("btn-hidden").trigger("show"):
c.addClass("include-hidden").trigger("hide")});c=this.element.find("[data-includein]");0<c.length&&c.each(function(a,c){var e=d(c);b=e.getDataAttr("includein").split(",");-1===d.inArray(f,b)?e.addClass("include-hidden").trigger("hide"):e.removeClass("include-hidden").removeClass("btn-hidden").trigger("show")});a.viewstate_current=f;this._focus();this.element[0].setAttribute("data-viewstate",a.viewstate_current);this._trigger("viewstate",0,a)}},load:function(a){this._load(a)},_onReadError:function(a,
b,c,d){var e=this,f=function(){e._busy(!1);e.load(d);u.topic("user.continued").unsubscribe(f);return!1};u.topic("user.continued").unsubscribe(f);u.topic("user.continued").subscribe(f);e._loading("complete");e._busy(!1);u.ajaxError(a,b,c)},_read:function(a,b,c,e){var g=this,h=g.options.readurl;null!==h&&""!==h&&(a||(a={}),a.__base=f.location.search+(f.location.hash?"#"+f.location.hash.replace(/^#+/,""):""),d.ajax({url:u.resolveURL(h,a)+"&intent="+b+""+(document.body.className&&-1!==(" "+document.body.className+
" ").indexOf(" responsive-ui")?"&responsiveui=true":""),dataType:"json",data:u.unpackdata(u.unescapeHtmlEntities(a)),dataFilter:u.ajaxDataFilter,type:"POST",error:function(b,c,d){g._onReadError(b,c,d,a)},success:function(a,d,f){"success"==d?(g._readComplete(u.unpackdata(a),"setup"===b?!0:!1,c,e),g._readinterval()):g._onReadError(f,d,void 0,a)}}))},_load:function(a,b,c){var d=this.options;if(!0!==this._busy()){this._busy(!0);var g=d.readurl;a&&void 0!==a.viewstate?this.__setOption("viewstate",a.viewstate):
(null!==g&&""!==g||null!==d.processurl&&""!==d.processurl)&&this._updateViewState();this.__target="";this.element.find("select[data-read]").trigger("reload");null!==g&&""!==g?(this._loading(),this._populateForm(a,{createMissing:!0,setup:!0,setupintent:!0}),this._read(a,"setup",b,c)):this._readComplete(a,!0,b,c)}},inactive:function(){this.isActive=!1;this._setValidations("inactive");this._trigger("inactive")},active:function(a){this.isActive=!0;"open"===a&&this._focus();this._setValidations("active");
this._trigger("active")},_readComplete:function(a,b,c,d){var e=this,f=e.options,h=a?void 0!==a.__locks?a.__locks:a.__LOCKS:void 0,k=a?void 0!==a.__status?a.__status:a.__STATUS:void 0;void 0!==h&&(e.__locks=h);e.hasformchangedEnabled=!0;e._populate(a,{setup:b,setupintent:b,enableconflictmanagement:e.options.enableconflictmanagement},c,d);e._trigger("load",0,a);void 0!==k?(e._trigger("load"+k,0,a),a=e._statusMsg(a),"object"===typeof a?Promise.all([a]).then(function(){!0===f.focusonsetupcomplete&&e._focus()}):
!0===f.focusonsetupcomplete&&e._focus()):!0===f.focusonsetupcomplete&&e._focus()},_populateForm:function(a,b){var c,e=null,g,f,h,k,l,n=d.extend({createMissing:!1,setup:!1,setupintent:!1,exfilters:!1,enableconflictmanagement:!1},b);if(a){g=Object.keys(a);f=g.length;for(l=0;l<f;l++)if(c=g[l],(c=this._populateFormElement(c,a[c],n,!0))&&c.new_hiddenfields&&0<c.new_hiddenfields.length)for(k=c.new_hiddenfields.length,null===e&&(e=document.createDocumentFragment()),h=0;h<k;h++)e.appendChild(c.new_hiddenfields[h]);
null!==e&&this.element[0].appendChild(e)}}});p.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:d.noop,onincomplete:d.noop,oncleared:d.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:d.noop,onBeforeMask:null,onBeforePaste:function(a,b){return d.isFunction(b.onBeforeMask)?
b.onBeforeMask(a,b):a},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:d.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5]",
cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:d.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0},masksCache:{},mask:function(a){var b=this;"string"===typeof a&&(a=document.getElementById(a)||document.querySelectorAll(a));a=a.nodeName?[a]:a;d.each(a,
function(a,e){var c=d.extend(!0,{},b.opts);U(e,c,d.extend(!0,{},b.userOptions));var f=L(c,b.noMasksCache);void 0!==f&&(void 0!==e.inputmask&&e.inputmask.remove(),e.inputmask=new p,e.inputmask.opts=c,e.inputmask.noMasksCache=b.noMasksCache,e.inputmask.userOptions=d.extend(!0,{},b.userOptions),e.inputmask.el=e,e.inputmask.maskset=f,e.inputmask.isRTL=!1,d.data(e,"_inputmask_opts",c),E({action:"mask",el:e}))});return a&&a[0]?a[0].inputmask||this:this},option:function(a){if("string"===typeof a)return this.opts[a];
if("object"===typeof a)return d.extend(this.opts,a),d.extend(this.userOptions,a),this.el&&(void 0!==a.mask||void 0!==a.alias?this.mask(this.el):(d.data(this.el,"_inputmask_opts",this.opts),E({action:"mask",el:this.el}))),this},unmaskedvalue:function(a){return E({action:"unmaskedvalue",el:this.el,value:a},this.el&&this.el.inputmask?this.el.inputmask.maskset:L(this.opts,this.noMasksCache),this.opts)},remove:function(){if(this.el)return E({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el},
getemptymask:function(){return E({action:"getemptymask"},this.maskset||L(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return E({action:"isComplete",el:this.el},this.maskset||L(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return E({action:"getmetadata"},this.maskset||L(this.opts,this.noMasksCache),this.opts)},isValid:function(a){return E({action:"isValid",value:a},this.maskset||L(this.opts,this.noMasksCache),
this.opts)},format:function(a,b){return E({action:"format",value:a,metadata:b},this.maskset||L(this.opts,this.noMasksCache),this.opts)}};p.extendDefaults=function(a){d.extend(!0,p.prototype.defaults,a)};p.extendDefinitions=function(a){d.extend(!0,p.prototype.defaults.definitions,a)};p.extendAliases=function(a){d.extend(!0,p.prototype.defaults.aliases,a)};p.format=function(a,b,c){return p(b).format(a,c)};p.unmask=function(a,b){return p(b).unmaskedvalue(a)};p.isValid=function(a,b){return p(b).isValid(a)};
p.remove=function(a){d.each(a,function(a,c){c.inputmask&&c.inputmask.remove()})};p.escapeRegex=function(a){return a.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^)","gim"),"\\$1")};p.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,
NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var Na=navigator.userAgent,Qb=/mobile/i.test(Na),Gb=/iemobile/i.test(Na),Yb=/iphone/i.test(Na)&&!Gb;/android.*safari.*/i.test(Na);f.Inputmask=p;d.inputmask=p;void 0===d.fn.inputmask&&(d.fn.inputmask=function(a,b){var c,e=this[0];void 0===b&&(b={});if("string"===typeof a)switch(a){case "unmaskedvalue":return e&&e.inputmask?e.inputmask.unmaskedvalue():d(e).val();case "remove":return this.each(function(){this.inputmask&&
this.inputmask.remove()});case "getemptymask":return e&&e.inputmask?e.inputmask.getemptymask():"";case "hasMaskedValue":return e&&e.inputmask?e.inputmask.hasMaskedValue():!1;case "isComplete":return e&&e.inputmask?e.inputmask.isComplete():!0;case "getmetadata":return e&&e.inputmask?e.inputmask.getmetadata():void 0;case "setvalue":d(e).val(b);e&&void 0!==e.inputmask&&d(e).triggerHandler("setvalue");break;case "option":if("string"===typeof b){if(e&&void 0!==e.inputmask)return e.inputmask.option(b)}else return this.each(function(){if(void 0!==
this.inputmask)return this.inputmask.option(b)});break;default:return b.alias=a,c=new p(b),this.each(function(){c.mask(this)})}else{if("object"==typeof a)return c=new p(a),void 0===a.mask&&void 0===a.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(a);c.mask(this)}):this.each(function(){c.mask(this)});if(void 0===a)return this.each(function(){c=new p(b);c.mask(this)})}});p.extendDefinitions({A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5]",cardinality:1,
casing:"upper"},X:{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5.,-\\/]",cardinality:1,casing:"upper"},Z:{cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5]",cardinality:1,casing:"upper"},U:{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5]",cardinality:1,casing:"upper"},$:{validator:"[0-9A-Za-z$%\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\u00c0-\u00ff\u00b5]",
cardinality:1,casing:"upper"}});p.extendAliases({url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:/[fh]/,urlpre2:/(ft|ht)/,urlpre3:/(ftp|htt)/,urlpre4:/(ftp:|http|ftps)/,urlpre5:/(ftp:\/|ftps:|http:|https)/,urlpre6:/(ftp:\/\/|ftps:\/|http:\/|https:)/,urlpre7:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/)/,urlpre8:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/\/)/},definitions:{i:{validator:function(a,b,c,d,g){return!0},cardinality:8,prevalidator:function(){for(var a=[],b=0;8>b;b++)a[b]=
function(){var a=b;return{validator:function(b,c,d,f,h){if(h.regex["urlpre"+(a+1)]){var e=b;0<a+1-b.length&&(e=c.buffer.join("").substring(0,a+1-b.length)+""+e);b=h.regex["urlpre"+(a+1)].test(e);if(!f&&!b){d-=a;for(f=0;f<h.defaultPrefix.length;f++)c.buffer[d]=h.defaultPrefix[f],d++;for(f=0;f<e.length-1;f++)c.buffer[d]=e[f],d++;return{pos:d}}return b}return!1},cardinality:a}}();return a}()},r:{validator:".",cardinality:492}},insertMode:!0,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(a,
b,c,d,g){-1<c-1&&"."!==b.buffer[c-1]?(a=b.buffer[c-1]+a,a=-1<c-2&&"."!==b.buffer[c-2]?b.buffer[c-2]+a:"0"+a):a="00"+a;return/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/.test(a)},cardinality:1}},onUnMask:function(a,b,c){return a}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(a,b){a=a.toLowerCase();return a.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}},onUnMask:function(a,
b,c){return a}},mac:{mask:"##:##:##:##:##:##"}});p.extendAliases({numeric:{mask:function(a){function b(b){for(var c="",d=0;d<b.length;d++)c=a.definitions[b.charAt(d)]||a.optionalmarker.start===b.charAt(d)||a.optionalmarker.end===b.charAt(d)||a.quantifiermarker.start===b.charAt(d)||a.quantifiermarker.end===b.charAt(d)||a.groupmarker.start===b.charAt(d)||a.groupmarker.end===b.charAt(d)||a.alternatormarker===b.charAt(d)?c+("\\"+b.charAt(d)):c+b.charAt(d);return c}0!==a.repeat&&isNaN(a.integerDigits)&&
(a.integerDigits=a.repeat);a.repeat=0;a.groupSeparator===a.radixPoint&&(a.groupSeparator="."===a.radixPoint?",":","===a.radixPoint?".":"");" "===a.groupSeparator&&(a.skipOptionalPartCharacter=void 0);a.autoGroup=a.autoGroup&&""!==a.groupSeparator;if(a.autoGroup&&("string"==typeof a.groupSize&&isFinite(a.groupSize)&&(a.groupSize=parseInt(a.groupSize)),isFinite(a.integerDigits))){var c=Math.floor(a.integerDigits/a.groupSize),d=a.integerDigits%a.groupSize;a.integerDigits=parseInt(a.integerDigits)+(0===
d?c-1:c);1>a.integerDigits&&(a.integerDigits="*")}1<a.placeholder.length&&(a.placeholder=a.placeholder.charAt(0));a.radixFocus=a.radixFocus&&""!==a.placeholder&&!0===a.integerOptional;a.definitions[";"]=a.definitions["~"];a.definitions[";"].definitionSymbol="~";!0===a.numericInput&&(a.radixFocus=!1,a.digitsOptional=!1,isNaN(a.digits)&&(a.digits=2),a.decimalProtect=!1);c=b(a.prefix);c+="[+]";c=!0===a.integerOptional?c+("~{1,"+a.integerDigits+"}"):c+("~{"+a.integerDigits+"}");void 0!==a.digits&&(isNaN(a.digits)||
0<parseInt(a.digits))&&(a.decimalProtect&&(a.radixPointDefinitionSymbol=":"),c=a.digitsOptional?c+("["+(a.decimalProtect?":":a.radixPoint)+";{1,"+a.digits+"}]"):c+((a.decimalProtect?":":a.radixPoint)+";{"+a.digits+"}"));c=c+"[-]"+b(a.suffix);a.greedy=!1;null!==a.min&&(a.min=a.min.toString().replace(new RegExp(p.escapeRegex(a.groupSeparator),"g"),""),","===a.radixPoint&&(a.min=a.min.replace(a.radixPoint,".")));null!==a.max&&(a.max=a.max.toString().replace(new RegExp(p.escapeRegex(a.groupSeparator),
"g"),""),","===a.radixPoint&&(a.max=a.max.replace(a.radixPoint,".")));return c},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:12,integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(a,b,c){!0===c.numericInput&&(a=a.reverse(),isFinite(b)&&
(b=a.join("").length-b-1));var e=!1,g,f;a.length>=c.suffix.length&&a.join("").indexOf(c.suffix)===a.length-c.suffix.length&&(a.length-=c.suffix.length,e=!0);b=b>=a.length?a.length-1:b<c.prefix.length?c.prefix.length:b;var h,k=a[b],l=a.slice();k===c.groupSeparator&&(l.splice(b--,1),k=l[b]);k!==c.radixPoint&&k!==c.negationSymbol.front&&k!==c.negationSymbol.back&&(l[b]="?");g=l=l.join("");if(0<l.length&&c.autoGroup||-1!==l.indexOf(c.groupSeparator)){f=p.escapeRegex(c.groupSeparator);l.indexOf(c.groupSeparator);
l=l.replace(new RegExp(f,"g"),"");f=l.split(c.radixPoint);l=""===c.radixPoint?l:f[0];if(l!==c.prefix+"?0"&&l.length>=c.groupSize+c.prefix.length)for(h=new RegExp("([-+]?[\\d?]+)([\\d?]{"+c.groupSize+"})");h.test(l)&&""!==c.groupSeparator;)l=l.replace(h,"$1"+c.groupSeparator+"$2"),l=l.replace(c.groupSeparator+c.groupSeparator,c.groupSeparator);""!==c.radixPoint&&1<f.length&&(l+=c.radixPoint+f[1])}h=g!==l;a.length=l.length;g=0;for(f=l.length;g<f;g++)a[g]=l.charAt(g);l=d.inArray("?",a);-1===l&&(l=d.inArray(k,
a));a[l]=k;if(!h&&e)for(g=0,f=c.suffix.length;g<f;g++)a.push(c.suffix.charAt(g));l=c.numericInput&&isFinite(b)?a.join("").length-l-1:l;c.numericInput&&(a=a.reverse(),d.inArray(c.radixPoint,a)<l&&a.join("").length-c.suffix.length!==l&&--l);return{pos:l,refreshFromBuffer:h,buffer:a}},onBeforeWrite:function(a,b,c,e){if(a&&("blur"===a.type||"checkval"===a.type||"keydown"===a.type)){var g=e.numericInput?b.slice().reverse().join(""):b.join(""),f=g.replace(e.prefix,""),f=f.replace(e.suffix,""),f=f.replace(new RegExp(p.escapeRegex(e.groupSeparator),
"g"),"");","===e.radixPoint&&(f=f.replace(e.radixPoint,"."));var h=f.match(new RegExp("[-"+p.escapeRegex(e.negationSymbol.front)+"]","g")),h=null!==h&&1===h.length,f=f.replace(new RegExp("[-"+p.escapeRegex(e.negationSymbol.front)+"]","g"),""),f=f.replace(new RegExp(p.escapeRegex(e.negationSymbol.back)+"$"),""),f=f===e.negationSymbol.front?f+"0":f;if(""!==f&&isFinite(f)){var k=parseFloat(f),f=h?-1*k:k;null!==e.min&&isFinite(e.min)&&f<parseFloat(e.min)?(k=Math.abs(e.min),h=0>e.min,g=void 0):null!==
e.max&&isFinite(e.max)&&f>parseFloat(e.max)&&(k=Math.abs(e.max),h=0>e.max,g=void 0);f=k.toString().replace(".",e.radixPoint).split("");if(isFinite(e.digits)){var l=d.inArray(e.radixPoint,f),n=d.inArray(e.radixPoint,g);-1===l&&(f.push(e.radixPoint),l=f.length-1);for(var r=1;r<=e.digits;r++)e.digitsOptional||void 0!==f[l+r]&&f[l+r]!==e.placeholder.charAt(0)?-1!==n&&void 0!==g[n+r]&&(f[l+r]=f[l+r]||g[n+r]):f[l+r]="0";f[f.length-1]===e.radixPoint&&delete f[f.length-1]}if(k.toString()!==f&&k.toString()+
"."!==f||h)return!h||0===k&&"blur"===a.type||(f.unshift(e.negationSymbol.front),f.push(e.negationSymbol.back)),f=(e.prefix+f.join("")).split(""),e.numericInput&&(f=f.reverse()),a=e.postFormat(f,e.numericInput?c:c-1,e),a.buffer&&(a.refreshFromBuffer=a.buffer.join("")!==b.join("")),a}}if(e.autoGroup)return a=e.postFormat(b,e.numericInput?c:c-1,e),a.caret=c<=e.prefix.length?a.pos:a.pos+1,a},regex:{integerPart:function(a){return new RegExp("["+p.escapeRegex(a.negationSymbol.front)+"+]?\\d+")},integerNPart:function(a){return new RegExp("[\\d"+
p.escapeRegex(a.groupSeparator)+p.escapeRegex(a.placeholder.charAt(0))+"]+")}},signHandler:function(a,b,c,d,g){return(!d&&g.allowMinus&&"-"===a||g.allowPlus&&"+"===a)&&(d=b.buffer.join("").match(g.regex.integerPart(g)))&&0<d[0].length?b.buffer[d.index]===("-"===a?"+":g.negationSymbol.front)?"-"===a?""!==g.negationSymbol.back?{pos:d.index,c:g.negationSymbol.front,remove:d.index,caret:c,insert:{pos:b.buffer.length-g.suffix.length-1,c:g.negationSymbol.back}}:{pos:d.index,c:g.negationSymbol.front,remove:d.index,
caret:c}:""!==g.negationSymbol.back?{pos:d.index,c:"+",remove:[d.index,b.buffer.length-g.suffix.length-1],caret:c}:{pos:d.index,c:"+",remove:d.index,caret:c}:b.buffer[d.index]===("-"===a?g.negationSymbol.front:"+")?"-"===a&&""!==g.negationSymbol.back?{remove:[d.index,b.buffer.length-g.suffix.length-1],caret:c-1}:{remove:d.index,caret:c-1}:"-"===a?""!==g.negationSymbol.back?{pos:d.index,c:g.negationSymbol.front,caret:c+1,insert:{pos:b.buffer.length-g.suffix.length,c:g.negationSymbol.back}}:{pos:d.index,
c:g.negationSymbol.front,caret:c+1}:{pos:d.index,c:a,caret:c+1}:!1},radixHandler:function(a,b,c,e,g){if(!e&&!0!==g.numericInput&&a===g.radixPoint&&void 0!==g.digits&&(isNaN(g.digits)||0<parseInt(g.digits))){a=d.inArray(g.radixPoint,b.buffer);e=b.buffer.join("").match(g.regex.integerPart(g));if(-1!==a&&b.validPositions[a])return b.validPositions[a-1]?{caret:a+1}:{pos:e.index,c:e[0],caret:a+1};if(!e||"0"===e["0"]&&e.index+1!==c)return b.buffer[e?e.index:c]="0",{pos:(e?e.index:c)+1,c:g.radixPoint}}return!1},
leadingZeroHandler:function(a,b,c,e,g,f){if(!e)if(!0===g.numericInput){if(a=b.buffer.slice("").reverse(),"0"===a[g.prefix.length]&&void 0===b.validPositions[c-1])return{pos:c,remove:a.length-g.prefix.length-1}}else{var h=d.inArray(g.radixPoint,b.buffer);if((e=b.buffer.slice(0,-1!==h?h:void 0).join("").match(g.regex.integerNPart(g)))&&(-1===h||c<=h)){h=-1===h?0:parseInt(b.buffer.slice(h+1).join(""));if(0===e["0"].indexOf(""!==g.placeholder?g.placeholder.charAt(0):"0")&&(e.index+1===c||!0!==f&&0===
h))return b.buffer.splice(e.index,1),{pos:e.index,remove:e.index};if("0"===a&&c<=e.index&&e["0"]!==g.groupSeparator)return!1}}return!0},definitions:{"~":{validator:function(a,b,c,e,g,f){var h=g.signHandler(a,b,c,e,g);h||(h=g.radixHandler(a,b,c,e,g),h||(h=e?(new RegExp("[0-9"+p.escapeRegex(g.groupSeparator)+"]")).test(a):/[0-9]/.test(a),!0===h&&(h=g.leadingZeroHandler(a,b,c,e,g,f),!0===h&&(a=d.inArray(g.radixPoint,b.buffer),h=-1!==a&&(!1===g.digitsOptional||b.validPositions[c])&&!0!==g.numericInput&&
c>a&&!e?{pos:c,remove:c}:{pos:c}))));return h},cardinality:1},"+":{validator:function(a,b,c,d,g){var e=g.signHandler(a,b,c,d,g);!e&&(d&&g.allowMinus&&a===g.negationSymbol.front||g.allowMinus&&"-"===a||g.allowPlus&&"+"===a)&&(e=d||"-"!==a?!0:""!==g.negationSymbol.back?{pos:c,c:"-"===a?g.negationSymbol.front:"+",caret:c+1,insert:{pos:b.buffer.length,c:g.negationSymbol.back}}:{pos:c,c:"-"===a?g.negationSymbol.front:"+",caret:c+1});return e},cardinality:1,placeholder:""},"-":{validator:function(a,b,c,
d,g){b=g.signHandler(a,b,c,d,g);!b&&d&&g.allowMinus&&a===g.negationSymbol.back&&(b=!0);return b},cardinality:1,placeholder:""},":":{validator:function(a,b,c,d,g){d=g.signHandler(a,b,c,d,g);d||(d="["+p.escapeRegex(g.radixPoint)+"]",(d=(new RegExp(d)).test(a))&&b.validPositions[c]&&b.validPositions[c].match.placeholder===g.radixPoint&&(d={caret:c+1}));return d?{c:g.radixPoint}:d},cardinality:1,placeholder:function(a){return a.radixPoint}}},onUnMask:function(a,b,c){a=a.replace(c.prefix,"");a=a.replace(c.suffix,
"");a=a.replace(new RegExp(p.escapeRegex(c.groupSeparator),"g"),"");return c.unmaskAsNumber?(""!==c.radixPoint&&-1!==a.indexOf(c.radixPoint)&&(a=a.replace(p.escapeRegex.call(this,c.radixPoint),".")),Number(a)):a},isComplete:function(a,b){var c=a.join(""),d=a.slice();b.postFormat(d,0,b);if(d.join("")!==c)return!1;c=c.replace(b.prefix,"");c=c.replace(b.suffix,"");c=c.replace(new RegExp(p.escapeRegex(b.groupSeparator),"g"),"");","===b.radixPoint&&(c=c.replace(p.escapeRegex(b.radixPoint),"."));return isFinite(c)},
onBeforeMask:function(a,b){if(""!==b.radixPoint&&isFinite(a))a=a.toString().replace(".",b.radixPoint);else{var c=a.match(/,/g),d=a.match(/\./g);d&&c?d.length>c.length?(a=a.replace(/\./g,""),a=a.replace(",",b.radixPoint)):c.length>d.length?(a=a.replace(/,/g,""),a=a.replace(".",b.radixPoint)):a=a.indexOf(".")<a.indexOf(",")?a.replace(/\./g,""):a=a.replace(/,/g,""):a=a.replace(new RegExp(p.escapeRegex(b.groupSeparator),"g"),"")}0===b.digits&&(-1!==a.indexOf(".")?a=a.substring(0,a.indexOf(".")):-1!==
a.indexOf(",")&&(a=a.substring(0,a.indexOf(","))));""!==b.radixPoint&&isFinite(b.digits)&&-1!==a.indexOf(b.radixPoint)&&(c=a.split(b.radixPoint)[1].match(/\d*/)[0],parseInt(b.digits)<c.toString().length&&(c=Math.pow(10,parseInt(b.digits)),a=a.replace(p.escapeRegex(b.radixPoint),"."),a=Math.round(parseFloat(a)*c)/c,a=a.toString().replace(".",b.radixPoint)));return a.toString()},canClearPosition:function(a,b,c,d,g){d=a.validPositions[b].input;return d!==g.radixPoint||null!==a.validPositions[b].match.fn&&
!1===g.decimalProtect||isFinite(d)||b===c||d===g.groupSeparator||d===g.negationSymbol.front||d===g.negationSymbol.back},onKeyDown:function(a,b,c,e){b=d(this);if(a.ctrlKey)switch(a.keyCode){case p.keyCode.UP:b.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(e.step));b.trigger("setvalue");break;case p.keyCode.DOWN:b.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(e.step)),b.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,
digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}});p.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,
prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"\\d{2,4}",cardinality:4,prevalidator:[]}});p.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:/[0-3]/,val1:/0[1-9]|[12][0-9]|3[01]/,val2pre:function(a){a=p.escapeRegex.call(this,a);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+a+"[01])")},val2:function(a){a=p.escapeRegex.call(this,a);return new RegExp("((0[1-9]|[12][0-9])"+
a+"(0[1-9]|1[012]))|(30"+a+"(0[13-9]|1[012]))|(31"+a+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},onBeforeWrite:function(a,b,c,d){if(a&&("blur"===a.type||"checkval"===a.type)){a=b.join("");d=/([O]?)([0-9]{1,2})(y{2})/i;var e=a.match(d);e&&0<e.length&&(b=parseInt(e[2],10),a=a.replace(d,53<b?"19"+b:10>b?"200"+b:"20"+b),b=a.split(""),c+=2);return{pos:c,refreshFromBuffer:!0,buffer:b}}},isInYearRange:function(a,b,c){if(isNaN(a))return!1;var d=parseInt(a.concat(b.toString().slice(a.length)));
a=parseInt(a.concat(c.toString().slice(a.length)));return(isNaN(d)?!1:b<=d&&d<=c)||(isNaN(a)?!1:b<=a&&a<=c)},determinebaseyear:function(a,b,c){var d=(new Date).getFullYear();if(a>d)return a;if(b<d){for(var d=b.toString().slice(0,2),g=b.toString().slice(2,4);b<d+c;)d--;b=d+g;return a>b?a:b}if(a<=d&&d<=b){for(d=d.toString().slice(0,2);b<d+c;)d--;b=d+c;return b<a?a:b}return d},onKeyDown:function(a,b,c,e){b=d(this);a.ctrlKey&&a.keyCode===p.keyCode.RIGHT&&(a=new Date,b.val(a.getDate().toString()+(a.getMonth()+
1).toString()+a.getFullYear().toString()),b.trigger("setvalue"))},getFrontValue:function(a,b,c){for(var d=0,g=0,f=0;f<a.length&&"2"!==a.charAt(f);f++){var h=c.definitions[a.charAt(f)];h?(d+=g,g=h.cardinality):g++}return b.join("").substr(d,g)},definitions:{1:{validator:function(a,b,c,d,g){var e=g.regex.val1.test(a);return d||e||a.charAt(1)!==g.separator&&-1==="-./".indexOf(a.charAt(1))||!(e=g.regex.val1.test("0"+a.charAt(0)))?e:(b.buffer[c-1]="0",{refreshFromBuffer:{start:c-1,end:c},pos:c,c:a.charAt(0)})},
cardinality:2,prevalidator:[{validator:function(a,b,c,d,g){var e=a;isNaN(b.buffer[c+1])||(e+=b.buffer[c+1]);e=1===e.length?g.regex.val1pre.test(e):g.regex.val1.test(e);if(!d&&!e){if(e=g.regex.val1.test(a+"0"))return b.buffer[c]=a,b.buffer[++c]="0",{pos:c,c:"0"};if(e=g.regex.val1.test("0"+a))return b.buffer[c]="0",c++,{pos:c}}return e},cardinality:1}]},2:{validator:function(a,b,c,d,g){var e=g.getFrontValue(b.mask,b.buffer,g);-1!==e.indexOf(g.placeholder[0])&&(e="01"+g.separator);var f=g.regex.val2(g.separator).test(e+
a);if(!(d||f||a.charAt(1)!==g.separator&&-1==="-./".indexOf(a.charAt(1)))&&(f=g.regex.val2(g.separator).test(e+"0"+a.charAt(0))))return b.buffer[c-1]="0",{refreshFromBuffer:{start:c-1,end:c},pos:c,c:a.charAt(0)};if(g.mask.indexOf("2")===g.mask.length-1&&f){if(b.buffer.join("").substr(4,4)+a!==g.leapday)return!0;a=parseInt(b.buffer.join("").substr(0,4),10);return 0===a%4?0===a%100?0===a%400?!0:!1:!0:!1}return f},cardinality:2,prevalidator:[{validator:function(a,b,c,d,g){isNaN(b.buffer[c+1])||(a+=b.buffer[c+
1]);var e=g.getFrontValue(b.mask,b.buffer,g);-1!==e.indexOf(g.placeholder[0])&&(e="01"+g.separator);var f=1===a.length?g.regex.val2pre(g.separator).test(e+a):g.regex.val2(g.separator).test(e+a);return d||f||!(f=g.regex.val2(g.separator).test(e+"0"+a))?f:(b.buffer[c]="0",c++,{pos:c})},cardinality:1}]},y:{validator:function(a,b,c,d,g){if(g.isInYearRange(a,g.yearrange.minyear,g.yearrange.maxyear)){if(b.buffer.join("").substr(0,6)!==g.leapday)return!0;a=parseInt(a,10);return 0===a%4?0===a%100?0===a%400?
!0:!1:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(a,b,c,d,g){b=g.isInYearRange(a,g.yearrange.minyear,g.yearrange.maxyear);if(!d&&!b){d=g.determinebaseyear(g.yearrange.minyear,g.yearrange.maxyear,a+"0").toString().slice(0,1);if(b=g.isInYearRange(d+a,g.yearrange.minyear,g.yearrange.maxyear))return{pos:c};d=g.determinebaseyear(g.yearrange.minyear,g.yearrange.maxyear,a+"0").toString().slice(0,2);if(b=g.isInYearRange(d+a,g.yearrange.minyear,g.yearrange.maxyear))return{pos:c}}return b},
cardinality:1},{validator:function(a,b,c,d,g){var e=g.isInYearRange(a,g.yearrange.minyear,g.yearrange.maxyear);if(!d&&!e){d=g.determinebaseyear(g.yearrange.minyear,g.yearrange.maxyear,a).toString().slice(0,2);if(e=g.isInYearRange(a[0]+d[1]+a[1],g.yearrange.minyear,g.yearrange.maxyear))return{pos:c};d=g.determinebaseyear(g.yearrange.minyear,g.yearrange.maxyear,a).toString().slice(0,2);g.isInYearRange(d+a,g.yearrange.minyear,g.yearrange.maxyear)?b.buffer.join("").substr(0,6)!==g.leapday?e=!0:(a=parseInt(a,
10),e=0===a%4?0===a%100?0===a%400?!0:!1:!0:!1):e=!1;if(e)return{pos:c}}return e},cardinality:2},{validator:function(a,b,c,d,g){return g.isInYearRange(a,g.yearrange.minyear,g.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(a){a=p.escapeRegex.call(this,a);return new RegExp("((0[13-9]|1[012])"+a+"[0-3])|(02"+a+"[0-2])")},val2:function(a){a=p.escapeRegex.call(this,a);return new RegExp("((0[1-9]|1[012])"+
a+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+a+"30)|((0[13578]|1[02])"+a+"31)")},val1pre:/[01]/,val1:/0[1-9]|1[012]/},leapday:"02/29/",onKeyDown:function(a,b,c,e){b=d(this);a.ctrlKey&&a.keyCode===p.keyCode.RIGHT&&(a=new Date,b.val((a.getMonth()+1).toString()+a.getDate().toString()+a.getFullYear().toString()),b.trigger("setvalue"))}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(a,b,c,e){b=d(this);a.ctrlKey&&a.keyCode===p.keyCode.RIGHT&&(a=
new Date,b.val(a.getFullYear().toString()+(a.getMonth()+1).toString()+a.getDate().toString()),b.trigger("setvalue"))}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",
alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:/[012]/,hrs24:/2[0-4]|1[3-9]/,hrs:/[01][0-9]|2[0-4]/,ampm:/^[a|p|A|P][m|M]/,mspre:/[0-5]/,ms:/[0-5][0-9]/},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(a,b,c,d,
g){if("24"===g.hourFormat&&24===parseInt(a,10))return b.buffer[c-1]="0",b.buffer[c]="0",{refreshFromBuffer:{start:c-1,end:c},c:"0"};var e=g.regex.hrs.test(a);return d||e||a.charAt(1)!==g.timeseparator&&-1==="-.:".indexOf(a.charAt(1))||!(e=g.regex.hrs.test("0"+a.charAt(0)))?e&&"24"!==g.hourFormat&&g.regex.hrs24.test(a)?(a=parseInt(a,10),b.buffer[c+5]=24===a?"a":"p",b.buffer[c+6]="m",a-=12,10>a?(b.buffer[c]=a.toString(),b.buffer[c-1]="0"):(b.buffer[c]=a.toString().charAt(1),b.buffer[c-1]=a.toString().charAt(0)),
{refreshFromBuffer:{start:c-1,end:c+6},c:b.buffer[c]}):e:(b.buffer[c-1]="0",b.buffer[c]=a.charAt(0),c++,{refreshFromBuffer:{start:c-2,end:c},pos:c,c:g.timeseparator})},cardinality:2,prevalidator:[{validator:function(a,b,c,d,g){var e=g.regex.hrspre.test(a);return d||e||!(e=g.regex.hrs.test("0"+a))?e:(b.buffer[c]="0",c++,{pos:c})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(a,b,c,d,g){var e=g.regex.mspre.test(a);return d||e||!(e=g.regex.ms.test("0"+a))?
e:(b.buffer[c]="0",c++,{pos:c})},cardinality:1}]},t:{prevalidator:[{validator:function(a,b,c,d,g){return g.regex.ampm.test(a+"m")},cardinality:1}],validator:function(a,b,c,d,g){return g.regex.ampm.test(a)},cardinality:2}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(a){a=p.escapeRegex.call(this,
a);return new RegExp("((0[13-9]|1[012])"+a+"[0-3])|(02"+a+"[0-2])")},val2:function(a){a=p.escapeRegex.call(this,a);return new RegExp("((0[1-9]|1[012])"+a+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+a+"30)|((0[13578]|1[02])"+a+"31)")},val1pre:/[01]/,val1:/0[1-9]|1[012]/},leapday:"02/29/",onKeyDown:function(a,b,c,e){b=d(this);a.ctrlKey&&a.keyCode===p.keyCode.RIGHT&&(a=new Date,b.val((a.getMonth()+1).toString()+a.getDate().toString()+a.getFullYear().toString()),b.trigger("setvalue"))}},"hh:mm t":{mask:"h:s t",
placeholder:"hh:mm x",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t",placeholder:"hh:mm x",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(a){a=p.escapeRegex.call(this,a);return new RegExp("((0[1-9]|1[012])"+
a+"[0-3])")},val2:function(a){a=p.escapeRegex.call(this,a);return new RegExp("((0[1-9]|1[012])"+a+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+a+"30)|((0[1-6])"+a+"31)")},val1pre:/[01]/,val1:/0[1-9]|1[012]/},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}});p.extendAliases({upper:{mask:"U",placeholder:"",repeat:"*",separator:""},upperextended:{mask:"X",placeholder:"",repeat:"*",separator:""},upperany:{mask:"Z",placeholder:"",
repeat:"*",separator:""},flag:{mask:"#",placeholder:"",repeat:"*",separator:""},alphanumeric:{mask:"#",placeholder:"",repeat:"*",separator:""},billingflag:{mask:"$",placeholder:"",repeat:"*",separator:""}});var Zb=function(a,b){if("string"!==typeof b||b.length){var c="string"===typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(0<=e&&0<a.data.length){var g=a.data.match(c),b=document.createElement("span");b.className="highlight";a=a.splitText(e);a.splitText(g[0].length);
e=a.cloneNode(!0);b.appendChild(e);a.parentNode.replaceChild(b,a);b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(e=0;e<a.childNodes.length;++e)e+=d(a.childNodes[e]);return b};return a.each(function(){d(this)})}},Ja=function(){};Ja.prototype={on:function(a,b){this._events=this._events||{};this._events[a]=this._events[a]||[];this._events[a].push(b)},off:function(a,b){var c=arguments.length;if(0===c)return delete this._events;if(1===c)return delete this._events[a];
this._events=this._events||{};!1!==a in this._events&&this._events[a].splice(this._events[a].indexOf(b),1)},trigger:function(a){this._events=this._events||{};if(!1!==a in this._events)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}};Ja.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=Ja.prototype[b[c]]};var lb=function(a,b){this.items=a;this.settings=b||{diacritics:!0}};lb.prototype.tokenize=function(a){a=
(String(a||"").toLowerCase()+"").replace(/^\s+|\s+$|/g,"");if(!a||!a.length)return[];var b,c,d,g=[],f=a.split(/ +/);a=0;for(b=f.length;a<b;a++){c=(f[a]+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");if(this.settings.diacritics)for(d in Za)Za.hasOwnProperty(d)&&(c=c.replace(new RegExp(d,"g"),Za[d]));g.push({string:f[a],regex:new RegExp(c,"i")})}return g};lb.prototype.iterator=function(a,b){(wb(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;b<c;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&
a(this[b],b,this)}).apply(a,[b])};lb.prototype.getScoreFunction=function(a,b){var c,d,g,f;a=this.prepareSearch(a,b);d=a.tokens;c=a.options.fields;g=d.length;f=a.options.nesting;var h=function(a,b){var c,d;if(!a)return 0;a=String(a||"");d=a.search(b.regex);if(-1===d)return 0;c=b.string.length/a.length;0===d&&(c+=.5);return c},k=function(){var a=c.length;return a?1===a?function(a,b){return h(Db(b,c[0],f),a)}:function(b,d){for(var e=0,g=0;e<a;e++)g+=h(Db(d,c[e],f),b);return g/a}:function(){return 0}}();
return g?1===g?function(a){return k(d[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,e=0;c<g;c++){b=k(d[c],a);if(0>=b)return 0;e+=b}return e/g}:function(a){for(var b=0,c=0;b<g;b++)c+=k(d[b],a);return c/g}:function(){return 0}};lb.prototype.getSortFunction=function(a,b){var c,d,g,f,h,k,l,n,p,r;g=this;a=g.prepareSearch(a,b);r=!a.query&&b.sort_empty||b.sort;p=function(a,c){return"$score"===a?c.score:Db(g.items[c.id],a,b.nesting)};h=[];if(r)for(c=0,d=r.length;c<d;c++)(a.query||"$score"!==
r[c].field)&&h.push(r[c]);if(a.query){r=!0;c=0;for(d=h.length;c<d;c++)if("$score"===h[c].field){r=!1;break}r&&h.unshift({field:"$score",direction:"desc"})}else for(c=0,d=h.length;c<d;c++)if("$score"===h[c].field){h.splice(c,1);break}n=[];c=0;for(d=h.length;c<d;c++)n.push("desc"===h[c].direction?-1:1);return(k=h.length)?1===k?(f=h[0].field,l=n[0],function(a,b){return l*Bb(p(f,a),p(f,b))}):function(a,b){var c,d;for(c=0;c<k;c++)if(d=h[c].field,d=n[c]*Bb(p(d,a),p(d,b)))return d;return 0}:null};lb.prototype.prepareSearch=
function(a,b){if("object"===typeof a)return a;b=bb({},b);var c=b.fields,d=b.sort,g=b.sort_empty;c&&!wb(c)&&(b.fields=[c]);d&&!wb(d)&&(b.sort=[d]);g&&!wb(g)&&(b.sort_empty=[g]);return{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}};lb.prototype.search=function(a,b){var c,d,g,f;d=this.prepareSearch(a,b);b=d.options;a=d.query;f=b.score||this.getScoreFunction(d);a.length?this.iterator(this.items,function(a,e){c=f(a);(!1===b.filter||0<c)&&d.items.push({score:c,id:e})}):
this.iterator(this.items,function(a,b){d.items.push({score:1,id:b})});(g=this.getSortFunction(d,b))&&d.items.sort(g);d.total=d.items.length;"number"===typeof b.limit&&(d.items=d.items.slice(0,b.limit));return d};var Bb=function(a,b){if("number"===typeof a&&"number"===typeof b)return a>b?1:a<b?-1:0;a=S(String(a||""));b=S(String(b||""));return a>b?1:b>a?-1:0},bb=function(a,b){var c,d,g,f;c=1;for(d=arguments.length;c<d;c++)if(f=arguments[c])for(g in f)f.hasOwnProperty(g)&&(a[g]=f[g]);return a},Db=function(a,
b,c){if(a&&b){if(!c)return a[b];for(b=b.split(".");b.length&&(a=a[b.shift()]););return a}},wb=Array.isArray||"undefined"!==typeof d&&d.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},Za={a:"[a\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u0100\u0101\u0105\u0104]",c:"[c\u00c7\u00e7\u0107\u0106\u010d\u010c]",d:"[d\u0111\u0110\u010f\u010e\u00f0]",e:"[e\u00c8\u00c9\u00ca\u00cb\u00e8\u00e9\u00ea\u00eb\u011b\u011a\u0112\u0113\u0119\u0118]",i:"[i\u00cc\u00cd\u00ce\u00cf\u00ec\u00ed\u00ee\u00ef\u012a\u012b]",
l:"[l\u0142\u0141]",n:"[n\u00d1\u00f1\u0148\u0147\u0144\u0143]",o:"[o\u00d2\u00d3\u00d4\u00d5\u00d5\u00d6\u00d8\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u014c\u014d]",r:"[r\u0159\u0158]",s:"[s\u0160\u0161\u015b\u015a]",t:"[t\u0165\u0164]",u:"[u\u00d9\u00da\u00db\u00dc\u00f9\u00fa\u00fb\u00fc\u016f\u016e\u016a\u016b]",y:"[y\u0178\u00ff\u00fd\u00dd]",z:"[z\u017d\u017e\u017c\u017b\u017a\u0179]"},S=function(){var a,b,c,d,g="",f={};for(c in Za)if(Za.hasOwnProperty(c))for(d=Za[c].substring(2,Za[c].length-1),
g+=d,a=0,b=d.length;a<b;a++)f[d.charAt(a)]=c;var h=new RegExp("["+g+"]","g");return function(a){return a.replace(h,function(a){return f[a]}).toLowerCase()}}(),Da={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},Ea=/Mac/.test(navigator.userAgent),gb=16,ya=Ea?91:17,Xa=Ea?18:17,Lb=!/android/i.test(f.navigator.userAgent)&&!!document.createElement("form").validity,la=function(a){return"undefined"===typeof a||null===a?null:"boolean"===typeof a?a?"1":"0":a+
""},mb=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},sb=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},Wa=function(a,b,c){var d,g=a.trigger,f={};a.trigger=function(){var c=arguments[0];if(b&&b.indexOf&&-1!==b.indexOf(c))f[c]=arguments;else return g.apply(a,arguments)};c.apply(a,[]);a.trigger=g;for(d in f)f.hasOwnProperty(d)&&g.apply(a,f[d])},ub=function(a,b,c,d){a.on(b,c,function(b){for(var c=b.target;c&&
c.parentNode!==a[0];)c=c.parentNode;b.currentTarget=c;return d.apply(this,[b])})},db=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length);b.start=c.text.length-d;b.length=d}return b},$b=function(a,b){if(!a||""===a)return 0;var c=d("<test>").css({position:"absolute",top:-99999,left:-99999,
width:"auto",padding:0,whiteSpace:"pre"}).text(a).appendTo("body"),e=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"],g,f,h={};if(e)for(g=0,f=e.length;g<f;g++)h[e[g]]=b.css(e[g]);else h=b.css();c.css(h);e=c.width();c.remove();return e},xb=function(a){var b=null,c=function(c,d){var e,g,h,k,l,n;c=c||f.event||{};d=d||{};c.metaKey||c.altKey||!d.force&&!1===a.data("grow")||(e=a.val(),c.type&&"keydown"===c.type.toLowerCase()&&(g=c.keyCode,h=97<=g&&122>=g||65<=g&&90>=g||48<=g&&57>=
g||32===g,46===g||8===g?(h=db(a[0]),h.length?e=e.substring(0,h.start)+e.substring(h.start+h.length):8===g&&h.start?e=e.substring(0,h.start-1)+e.substring(h.start+1):46===g&&"undefined"!==typeof h.start&&(e=e.substring(0,h.start)+e.substring(h.start+1))):h&&(g=c.shiftKey,h=String.fromCharCode(c.keyCode),h=g?h.toUpperCase():h.toLowerCase(),e+=h)),g=a.attr("placeholder"),!e&&g&&(e=g),e=$b(e,a)+4,e!==b&&(b=e,a.css({"min-width":"1px",width:e+"px"}),a.triggerHandler("resize")),setTimeout(function(){if(a.parent().is(".selectize-input-single.focus")||
a.parent().is(".selectize-input-single.input-active"))k=a.offset().left,l=a.parent().offset().left,n=a.parent().width(),10<k-l&&(a.width(1),k=a.offset().left,l=a.parent().offset().left,n=a.parent().width()),10<k-l&&(a.css({width:n-(k-l)+"px"}),a.triggerHandler("resize"))},100))};a.on("keydown keyup update blur grow",c);c()},Oa=function(a,b){var c,e;c=a[0];c.selectize=this;d.extend(this,{order:0,settings:b,$input:a,tabIndex:a.attr("tabindex")||"",tagType:"select"===c.tagName.toLowerCase()?1:2,rtl:!1,
eventNS:".selectize"+ ++Oa.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:a.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,showActions:!1,currentResults:null,lastValue:"",lastChangeEventValue:"",caretPos:0,loading:0,loadedSearches:{},ignoreFilter:!1,$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:this.onSearchChange});
this.sifter=new lb(this.options,{diacritics:b.diacritics});if(this.settings.options){c=0;for(e=this.settings.options.length;c<e;c++)this.registerOption(this.settings.options[c]),this.userOptions[c]=this.settings.options[c],this.userOptions[c].user_created=!0;delete this.settings.options}if(this.settings.optgroups){c=0;for(e=this.settings.optgroups.length;c<e;c++)this.registerOptionGroup(this.settings.optgroups[c]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?
"single":"multi");"boolean"!==typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode);this.initializePlugins(this.settings.plugins);this.setupCallbacks();this.setupTemplates();this.setup()};Ja.mixin(Oa);(function(a){a.plugins={};a.prototype.initializePlugins=function(a){var b,d,g=[];this.plugins={names:[],settings:{},requested:{},loaded:{}};if(Da.isArray(a))for(b=0,d=a.length;b<d;b++)"string"===typeof a[b]?g.push(a[b]):(this.plugins.settings[a[b].name]=a[b].options,
g.push(a[b].name));else if(a)for(b in a)a.hasOwnProperty(b)&&(this.plugins.settings[b]=a[b],g.push(b));for(;g.length;)this.require(g.shift())};a.prototype.loadPlugin=function(b){var c=this.plugins,d=a.plugins[b];if(!a.plugins.hasOwnProperty(b))throw Error('Unable to find "'+b+'" plugin');c.requested[b]=!0;c.loaded[b]=d.fn.apply(this,[this.plugins.settings[b]||{}]);c.names.push(b)};a.prototype.require=function(a){var b=this.plugins;if(!this.plugins.loaded.hasOwnProperty(a)){if(b.requested[a])throw Error('Plugin has circular dependency ("'+
a+'")');this.loadPlugin(a)}return b.loaded[a]};a.define=function(b,c){a.plugins[b]={name:b,fn:c}}})(Oa);d.extend(Oa.prototype,{setup:function(){var a=this,b=a.settings,c=a.eventNS,e=d(f),g=d(document),h=a.$input,k,l,n,p,r,t,u;r=a.settings.mode;u=h.attr("class")||"";l=document.createElement("div");l.className=b.wrapperClass+" "+u+" "+r;n=document.createElement("div");n.className=b.inputClass+" "+b.inputClass+"-"+r+" items";""!==h[0].style.width+""&&(l.style.width=h[0].style.width+"px");l.appendChild(n);
k=d(l);n=d(n);p=d('<input title="Search Input"  type="text" autocomplete="off"'+(!0===b.autofocus?' autofocus="autofocus"':"")+" />").appendTo(n).attr("tabindex",h.is(":disabled")?"-1":a.tabIndex);t=d(b.dropdownParent||l);l=document.createElement("div");l.className=b.dropdownClass+" "+b.dropdownClass+"-"+this.settings.dropdownPosition+" "+r;l.style.display="none";t[0].appendChild(l);r=d(l);t=document.createElement("div");t.className=b.dropdownContentClass;l.appendChild(t);l=d(t);a.settings.copyClassesToDropdown&&
r.addClass(u.replace(/uneditable-input/gi,""));a.plugins.names.length&&(u="plugin-"+a.plugins.names.join(" plugin-"),k.addClass(u),r.addClass(u));if(void 0===a.settings.selectedParent||""===a.settings.selectedParent)a.settings.selectedParent=null;(null===b.maxItems||1<b.maxItems)&&1===a.tagType&&h.attr("multiple","multiple");a.settings.placeholder&&p.attr("placeholder",b.placeholder);!a.settings.splitOn&&a.settings.delimiter&&(u=a.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),a.settings.splitOn=
new RegExp("\\s*"+u+"+\\s*"));h.attr("autocorrect")&&p.attr("autocorrect",h.attr("autocorrect"));h.attr("autocapitalize")&&p.attr("autocapitalize",h.attr("autocapitalize"));a.$wrapper=k;a.$control=n;a.$control_input=p;a.$dropdown=r;a.$dropdown_content=l;r.on("mouseenter","[data-selectable]",function(){return a.onOptionHover.apply(a,arguments)});r.on("mousedown click","[data-selectable]",function(){return a.onOptionSelect.apply(a,arguments)});ub(n,"mousedown","*:not(input)",function(){return a.onItemSelect.apply(a,
arguments)});xb(p);n.on({mousedown:function(){return a.onMouseDown.apply(a,arguments)},click:function(){return a.onClick.apply(a,arguments)}});p.on({mousedown:function(b){a.isFocused||a.isDisabled||(b.stopPropagation(),a.isClickFocus=!0,a.onMouseDown.apply(a,arguments))},keydown:function(){return a.onKeyDown.apply(a,arguments)},keyup:function(){return a.onKeyUp.apply(a,arguments)},keypress:function(){return a.onKeyPress.apply(a,arguments)},resize:function(){a.positionDropdown.apply(a,[])},blur:function(){return a.onBlur.apply(a,
arguments)},focus:function(b){a.ignoreBlur=!1;return a.onFocus.apply(a,[b])},paste:function(){return a.onPaste.apply(a,arguments)}});g.on("keydown"+c,function(b){a.isCmdDown=b[Ea?"metaKey":"ctrlKey"];a.isCtrlDown=b[Ea?"altKey":"ctrlKey"];a.isShiftDown=b.shiftKey});g.on("keyup"+c,function(b){b.keyCode===Xa&&(a.isCtrlDown=!1);b.keyCode===gb&&(a.isShiftDown=!1);b.keyCode===ya&&(a.isCmdDown=!1)});g.on("mousedown"+c,function(b){if(a.isFocused){if(b.target===a.$dropdown[0]||b.target.parentNode===a.$dropdown[0])return!1;
a.$control.has(b.target).length||b.target===a.$control[0]||a.blur(b.target)}});e.on(["mousewheel scroll"+c,"resize"+c].join(" "),function(){a.isOpen&&a.positionDropdown.apply(a,arguments);a.blurTimeout&&clearTimeout(a.blurTimeout);a.blurTimeout=setTimeout(function(){a.isOpen&&a.positionDropdown.apply(a,arguments)},100)});e.on("mousemove"+c,function(){a.ignoreHover=!1});this.revertSettings={$children:h.children().detach(),tabindex:h.attr("tabindex")};h.attr("tabindex",-1).hide().before(a.$wrapper);
d.isArray(b.items)&&(a.setValue(b.items,!0),delete b.items);if(Lb)h.on("invalid"+c,function(b){b.preventDefault();a.isInvalid=!0;a.refreshState()});a.updateOriginalInput({silent:!0});a.refreshItems();a.refreshState();a.updatePlaceholder();a.updateParentNav();a.isSetup=!0;(h.is(":disabled")||h.is("[readonly]")||h.is("[disabled]"))&&a.disable();a.on("change",this.onChange);h.data("selectize",a);h.addClass("selectized");a.trigger("initialize");if(!0===b.preload)a.onSearchChange("")},setupTemplates:function(){var a=
this.settings.labelField,b=this.settings.optgroupLabelField;this.settings.render=d.extend({},{optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,d){return'<div class="optgroup-header">'+d(a[b])+"</div>"},option:function(b,d){return'<div class="option">'+(""===b[a]?"&nbsp;":d(b[a]))+"</div>"},parent:function(b,d){return'<div class="parent"><i class="icon icon-chevron-right" style="font-size: 11px; float: right; display: block; padding:4px 0;"></i>'+(""===
b[a]?"&nbsp;":d(b[a]))+"</div>"},item:function(b,d){return'<div class="item">'+d(b[a])+"</div>"},option_create:function(a,b){return'<div class="create"><strong>'+b(a.input)+"</strong></div>"},option_blank:function(a,b){return'<div class="create blank"><strong>&nbsp;</strong></div>'}},this.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_action:"onItemAction",clear:"onClear",option_add:"onOptionAdd",
option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",escape:"onEscape",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in c)if(c.hasOwnProperty(a)&&(b=this.settings[c[a]]))this.on(a,b)},onClick:function(a){var b=this;b.isDisabled||(b.isFocused?b.isOpen&&document.activeElement!==b.$control_input[0]?(b.ignoreFocus=
!0,b.$control_input[0].focus(),f.setTimeout(function(){b.ignoreFocus=!1},10)):"multi"===b.settings.mode&&(b.isFocused=!1,b.focus(a),a.preventDefault()):(b.focus(a),a.preventDefault()))},onMouseDown:function(a){var b=this,c=a.isDefaultPrevented();d(a.target);var e=b.isFocused;"multi"===b.settings.mode&&(b.isFocused=!1);if(!0===b.isDisabled)return!1;if(b.isFocused||!0===b.settings.openOnClick)if(a.target!==b.$control_input[0]||""===b.$control_input[0].value)if("single"===b.settings.mode||!0===b.settings.openOnClick?
b.isOpen?b.close(a):b.open(a):c||b.setActiveItem(null),e)return!1;b.isFocused||e||c||f.setTimeout(function(){b.focus(a)},0)},onChange:function(){if("single"!==this.settings.mode)this.$input.trigger("change");else if(!0!==this.preventChangeEvent){var a=this.getValue(),b;""!==a&&(b=this.options[a]);this.lastChangeEventValue!==a&&(this.lastChangeEventValue=a,this.$input.trigger("change",b))}},onPaste:function(a){var b=this;if(b.isFull()||b.isInputHidden||b.isLocked)a.preventDefault();else{var c=d.trim(b.$control_input.val()||
"");"single"!==b.settings.mode&&b.settings.splitOn?setTimeout(function(){for(var a=c.split(b.settings.splitOn),d=0,f=a.length;d<f;d++)b.createItem(a[d])},0):b.settings.doublecheck&&""!==c&&b.doubleCheckValue(c,function(){b.doubleCheckValueCallBack(c)})}},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);if(this.settings.create&&b===this.settings.delimiter)return this.createItem(),a.preventDefault(),!1},onKeyDown:function(a){var b=this,
c,e;if(b.isLocked)9!==a.keyCode&&a.preventDefault();else{switch(a.keyCode){case 65:if(b.isCmdDown){b.selectAll();return}break;case 67:if(b.isCmdDown){a=b.$control.children(".active");var g=!0;1>a.length&&"single"===b.settings.mode&&b.isOpen&&(g=!1,a=b.$control.children(":not(input)"));if(1==a.length&&document.createRange){a=a[0];e=document.createRange();e.selectNodeContents(a);var h=f.getSelection();h.removeAllRanges();h.addRange(e);setTimeout(function(){h.removeAllRanges();!0!==g&&b.focus()},100)}return}break;
case 27:if(b.settings.selectedParent){a.preventDefault();a.stopPropagation();b.parentBack();return}b.isOpen&&(a.preventDefault(),a.stopPropagation(),b.close());b.trigger("escape");return;case 78:if(!a.ctrlKey||a.altKey)break;case 40:a.stopPropagation();b.isOpen?b.$activeOption?(b.ignoreHover=!0,e=b.getAdjacentOption(b.$activeOption,1)):e=b.$dropdown_content.find("[data-selectable]:first"):(b.hasOptions&&b.open(),"single"===b.settings.mode&&!0===b.settings.makeeditable&&b.makeEditable(a));e&&e.length&&
b.setActiveOption(e,!0,!0);a.preventDefault();return;case 80:if(!a.ctrlKey||a.altKey)break;case 38:a.stopPropagation();"single"!==b.settings.mode||b.isOpen?b.$activeOption?(b.ignoreHover=!0,e=b.getAdjacentOption(b.$activeOption,-1),e.length&&b.setActiveOption(e,!0,!0)):"top"===this.settings.dropdownPosition&&(e=b.$dropdown_content.find("[data-selectable]:last"))&&e.length&&b.setActiveOption(e,!0,!0):(b.hasOptions&&b.open(a),"single"===b.settings.mode&&!0===b.settings.makeeditable&&b.makeEditable(a));
a.preventDefault();return;case 13:c=d.trim(b.$control_input.val()||"");b.isOpen&&b.$activeOption&&(b.$activeOption.hasClass("create")||""===c||""!==b.$activeOption.attr("data-value"))?(e=b.settings.selectedParent,b.onOptionSelect({currentTarget:b.$activeOption}),a.preventDefault(),"single"===b.settings.mode&&(b.settings.closeAfterSelect?(e===b.settings.selectedParent&&b.close(),b.focus(null,!1)):b.focus())):b.settings.doublecheck&&""!==c&&b.doubleCheckValue(c,function(){b.doubleCheckValueCallBack(c)});
return;case 37:b.advanceSelection(-1,a);return;case 39:"single"===b.settings.mode&&!0===b.settings.makeeditable?b.makeEditable(a):b.advanceSelection(1,a);return;case 9:c=d.trim(b.$control_input.val()||"");b.settings.selectOnTab&&b.isOpen&&b.$activeOption&&(b.$activeOption.hasClass("create")||""===c||""!==b.$activeOption.attr("data-value"))&&!b.$activeOption.hasClass("parent")?(b.onOptionSelect({currentTarget:b.$activeOption},!0),"single"===b.settings.mode||b.isFull()||a.preventDefault()):b.settings.create&&
b.createItem()||b.settings.doublecheck&&""!==c&&b.doubleCheckValue(c,function(){b.doubleCheckValueCallBack(c)});return;case 8:case 46:b.deleteSelection(a,!1);return;case Xa:case ya:case gb:case 17:if("single"==b.settings.mode)break;default:"single"==b.settings.mode&&0<b.$activeItems.length&&b.deleteSelection(null,!1)}!b.isFull()&&!b.isInputHidden||(Ea?a.metaKey:a.ctrlKey)||a.preventDefault()}},makeEditable:function(a,b,c){if("single"===this.settings.mode&&0<this.items.length){var d=this.options[this.items[this.items.length-
1]];this.preventChangeEvent=!0;this.lastItem=this.items[this.items.length-1];this.deleteSelection(a,b);a=this.settings.render.label?this.settings.render.label.apply(this,[d]):d[this.settings.labelField];this.setTextboxValue(a,c);this.preventChangeEvent=!1;this.refreshOptions(b);this.$control_input.trigger("grow",{force:!0})}},onKeyUp:function(a){if(this.isLocked)return a&&a.preventDefault();a=this.$control_input.val()||"";this.lastValue!==a&&(this.lastValue=a,this.onSearchChange(a),this.refreshOptions(!0,
!1),this.trigger("type",a))},onSearchChange:function(a,b){var c=this,d=c.settings.load;d&&!c.loadedSearches.hasOwnProperty(a)&&(c.loadedSearches[a]=!0,c.load(function(e){d.apply(c,[a,e,b])},a,b))},onFocus:function(a,b){var c=!(!a||!a.type||"mousedown"!==a.type),d=a&&a.type&&"focus"===a.type,g=this.isFocused;this.isFocused=!0;if(this.isDisabled)return this.blur(),a&&a.preventDefault(),this.isFocused=!1;if(this.isClickFocus)this.isFocused=this.isClickFocus=!1;else if(this.ignoreFocus)this.isFocused=
!1;else{if("focus"===this.settings.preload)this.onSearchChange("",!0);g||this.trigger("focus");this.$activeItems.length&&"single"!==this.settings.mode||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus&&!c&&(void 0===b||!1!==b)));!0===this.settings.setActiveOnFocus&&"single"===this.settings.mode&&("single"===this.settings.mode&&0<this.items.length&&!0===this.settings.makeeditable?this.makeEditable({keyCode:8},c&&(void 0===b||!1!==b),!0===c&&!0===this.settings.selectEditableOnClickFocus||
a&&a.type&&"focus"===a.type?!0:!1):c||(c=this.getValue(),""===this.$control_input.val()&&""!==c&&(this.setActiveOption(this.getOption(c)),d&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active"))))));this.refreshState()}},onBlur:function(a,b){var c=this,e;c.isFocused=!1;if(!c.ignoreFocus)if(c.ignoreBlur||document.activeElement!==c.$dropdown_content[0]){if("single"===c.settings.mode){var g=d.trim(c.$control_input.val());if(0<g.length){if(null!==c.lastItem){var f=
c.options[c.lastItem],h;f&&(h=c.settings.render.label?c.settings.render.label.apply(c,[f]):f[c.settings.labelField]);f&&h===g&&(g=f[c.settings.valueField])}0<c.getOption(g).length&&(c.lastQuery=null,c.lastItem=null,c.setTextboxValue(""),c.addItem(g))}else""!==(c.lastItem?c.lastItem:"")&&c.trigger("change")}g=function(a){"single"===c.settings.mode&&c.trigger("change");c.lastItem=null;c.close();a||c.setTextboxValue("");c.setActiveItem(null);c.setActiveOption(null);c.setCaret(c.items.length);c.refreshState();
c.ignoreFocus=!1;c.$input.trigger("blur");c.trigger("blur")};c.ignoreFocus=!0;if(c.settings.selectOnBlur&&c.isOpen&&c.$activeOption&&(c.$activeOption.hasClass("create")||""===e||""!==c.$activeOption.attr("data-value"))&&!c.$activeOption.hasClass("parent"))c.onOptionSelect({currentTarget:c.$activeOption},!0);else c.settings.create&&c.settings.createOnBlur&&""!==d.trim(c.$control_input.val())?c.createItem(null,!1,g):c.settings.doublecheck&&""!==d.trim(c.$control_input.val())?(e=d.trim(c.$control_input.val()),
g(!0),c.doubleCheckValue(e,function(){c.doubleCheckValueCallBack(e)})):g()}else c.ignoreBlur=!0,c.onFocus(a)},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},parentBack:function(){var a;if(this.settings.selectedParent){a=this.options[la(this.settings.selectedParent)];this.settings.selectedParent=a?a.parent_id:null;if(void 0===this.settings.selectedParent||""===this.settings.selectedParent)this.settings.selectedParent=null;this.settings.selectedParentTitle=a?a[this.settings.labelField]:
"";this.settings.selectedParent||this.$dropdown.find(".parent-back").remove();this.refreshOptions(!0,!0);this.setCaret(0);this.setActiveItem(null)}},selectParent:function(a,b){var c;c="string"===typeof a?a:a.attr("data-value");"undefined"!==typeof c&&(this.settings.selectedParent=c,c=this.options[la(this.settings.selectedParent)],this.settings.selectedParentTitle=c?c[this.settings.labelField]:b?b:"",this.refreshOptions(!0,!0));this.updateParentNav()},updateParentNav:function(){var a=this.$dropdown.find(".parent-back");
this.settings.selectedParent?1>a.length?(a=d('<div class="parent parent-back" data-selectable><i class="icon icon-chevron-left"></i> '+this.settings.backText+'&nbsp;<span class="parent-text">'+this.settings.selectedParentTitle+"</span></div>"),this.$dropdown.prepend(a)):a.find(".parent-text").html(this.settings.selectedParentTitle):a.remove()},onOptionSelect:function(a,b){var c,e=this;a.preventDefault&&(a.preventDefault(),a.stopPropagation());!a||"mousedown"!==a.type&&"click"!==a.type||(e.isFocused=
!1);c=d(a.currentTarget);c.hasClass("create")?e.createItem(null,function(){(e.settings.closeAfterSelect||!0===b)&&e.close()}):c.hasClass("parent-back")?e.parentBack():c.hasClass("parent")?e.selectParent(c):e.settings.actionoptions||e.settings.action?e.selectAction(c):(c=c.attr("data-value"),"undefined"!==typeof c&&(e.lastQuery=null,e.setTextboxValue(""),e.addItem(c),e.settings.closeAfterSelect||""===c||!0===b?e.close():!e.settings.hideSelected&&a.type&&/mouse/.test(a.type)&&e.setActiveOption(e.getOption(c))))},
selectAction:function(a){var b,c;b="string"===typeof a?a:a.attr("data-value");if("undefined"!==typeof b&&(c=this.options[la(b)]))if(!0===this.showActions&&null!==this.settings.selectedParent){for(var e in this.options)this.options[e].parent_id+""===this.settings.selectedParent+""&&delete this.options[e];b=this.options[la(this.settings.selectedParent)];this.settings.selectedParent=null;this.settings.selectedParentTitle=null;this.showActions=this.ignoreFilter=!1;this.setCaret(0);this.setActiveItem(null);
this.$control_input.val("");this.refreshOptions(!0,!0);this.close();this.settings.action.apply(this,[a,d.extend({},c,b)])}else if(this.settings.actionoptions){this.showActions=!0;this.settings.selectedParent=b;this.settings.selectedParentTitle=c[this.settings.labelField];if((a=this.settings.actionoptions(a,c))&&0<a.length){e=0;for(var g=a.length;e<g;e++)c=d.extend({parent_id:b,id:"action-"+e},a[e]),!c[this.settings.labelField]&&c.label&&(c[this.settings.labelField]=c.label),!c[this.settings.searchField]&&
c.label&&(c[this.settings.searchField]=c.label),!c[this.settings.valueField]&&c.action&&(c[this.settings.valueField]=c.action),this.addOption(c)}this.ignoreFilter=!0;this.refreshOptions(!0,!0)}else this.settings.action&&this.settings.action.apply(this,[a,d.extend({},c,this.options[la(b)])]);this.updateParentNav()},doubleCheckValueCallBack:function(a){var b=a,c=this.options[b];c||(b=(b+"").toUpperCase(),(c=this.options[b])||(b=a));if(!c&&this.settings.altvalueFields){var d=0,g=this.settings.altvalueFields.length;
a:for(;d<g;d++){var f;for(f in this.options)if(void 0!==this.options[f][this.settings.altvalueFields[d]]&&this.options[f][this.settings.altvalueFields[d]]+""===b+""){c=this.options[f];b=c[this.settings.valueField];break a}}}c?this.doublecheckvalues[a]!==c&&(this.doublecheckvalues[a]=c,this.doublecheckvalues[b]=c,this.addItem(b,!1,!1),this.trigger("change"),this.selectAction(b)):(this.doublecheckvalues[a]=!1,this.doublecheckvalues[b]=!1,this.lastQuery=null,this.setTextboxValue(""))},doubleCheckValue:function(a,
b){var c=this,e=c.settings.load;void 0===c.doublecheckvalues&&(c.doublecheckvalues={});void 0===c.doublecheckvalues[a]?(c.doublecheckvalues[a]=null,e&&c.load(function(b){a===d.trim(c.$control_input.val()||"")?e.apply(c,[a,b,!1]):(c.loading=Math.max(c.loading-1,0),c.loading||c.$wrapper.removeClass(c.settings.loadingClass))},a,!0,b)):null!==c.doublecheckvalues[a]&&(!1!==c.doublecheckvalues[a]&&c.addOption(c.doublecheckvalues[a]),c.doubleCheckValueCallBack(a))},onItemSelect:function(a){"multi"===this.settings.mode&&
(a.preventDefault(),this.setActiveItem(a.currentTarget,a))},load:function(a,b,c,d){var e=this;e.$wrapper.addClass(e.settings.loadingClass);e.loading++;void 0!==b&&""!==b&&!0!==c&&(e.isOpen||e.open());!0!==c&&null!==e.settings.loadThrottle&&0<e.settings.loadThrottle?(e.loadTimeout&&(e.loading=Math.max(e.loading-1,0),e.loadTimeout=clearTimeout(e.loadTimeout)),e.loadTimeout=setTimeout(function(){e.loadTimeout=null;e._load(a,b,c,d)},e.settings.loadThrottle)):e._load(a,b,c,d)},_load:function(a,b,c,d){var e=
this,f=e.$wrapper;a.apply(e,[function(a,b){e.loading=Math.max(e.loading-1,0);e.loading||f.removeClass(e.settings.loadingClass);!0!==e.settings.cachedata&&e.clearOptions(!0,!0,!0);a&&a.length&&e.addOption(a);e.refreshOptions(e.isFocused&&!e.isInputHidden&&(!!e.settings.openOnFocus||!b));e.trigger("load",a);d&&d.apply(e)}])},setTextboxValue:function(a,b){var c=this.$control_input;c.val()!==a&&(c.val(a).triggerHandler("update"),this.lastValue=a);b&&!0===b&&c.select()},getValue:function(){return 1===
this.tagType&&this.$input.attr("multiple")?this.items:1>this.items.length&&"single"===this.settings.mode&&!0===this.settings.makeeditable?this.$control_input.val():this.items.join(this.settings.delimiter)},setValue:function(a,b){Wa(this,b?[]:["change"],function(){this.clear(b);this.addItems(a,b,!0)})},itemAction:function(a,b){var c;b&&0<b.length&&(c=la(b.attr("data-value")))&&this.options.hasOwnProperty(c)&&this.trigger("item_action",a,this.options[c],b)},setActiveItem:function(a,b){var c,e,g;a=d(a);
if(this.isLocked||a.length){if(b&&b.type&&b.target&&"mousedown"===(b.type+"").toLowerCase()&&(c=d(b.target).closest(".item,.item-action"),c.hasClass("item-action")&&(b.stopPropagation(),this.itemAction(c.attr("data-action"),a))),!this.isLocked){c=b&&b.type.toLowerCase();if("mousedown"===c&&this.isShiftDown&&this.$activeItems.length){c=this.$control.children(".active:last");e=Array.prototype.indexOf.apply(this.$control[0].childNodes,[c[0]]);c=Array.prototype.indexOf.apply(this.$control[0].childNodes,
[a[0]]);e>c&&(g=e,e=c,c=g);for(;e<=c;e++)g=this.$control[0].childNodes[e],-1===this.$activeItems.indexOf(g)&&(d(g).addClass("active"),this.$activeItems.push(g));b.preventDefault()}else"mousedown"===c&&this.isCtrlDown||"keydown"===c&&this.isShiftDown?a.hasClass("active")?(c=this.$activeItems.indexOf(a[0]),this.$activeItems.splice(c,1),a.removeClass("active")):this.$activeItems.push(a.addClass("active")[0]):(d(this.$activeItems).removeClass("active"),this.$activeItems=[a.addClass("active")[0]]);this.hideInput();
this.isFocused||this.focus(null,!1)}}else this.$control.children(".active").removeClass("active"),d(this.$activeItems).removeClass("active"),this.$activeItems=[],this.isFocused&&this.showInput()},setActiveOption:function(a,b,c){var e,g;this.$activeOption&&this.$activeOption.removeClass("active");this.$activeOption=null;a=d(a);a.length&&(this.$activeOption=a.addClass("active"),b||"undefined"===typeof b)&&(a=this.$dropdown_content.height(),e=this.$activeOption.outerHeight(!0),b=this.$dropdown_content.scrollTop()||
0,g=this.$activeOption.offset().top-this.$dropdown_content.offset().top+b,g+e>a+b?this.$dropdown_content.stop().animate({scrollTop:g},c?this.settings.scrollDuration:0):g<b&&this.$dropdown_content.stop().animate({scrollTop:g},c?this.settings.scrollDuration:0))},selectAll:function(){this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active"));"single"!==this.settings.mode&&(this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue("");
this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1E4:-1E4});this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.$control_input.trigger("grow",{force:!0});this.isInputHidden=!1},focus:function(a,b){var c=this;c.isDisabled||(c.ignoreFocus=!0,c.$control_input[0].focus(),c.$control_input.trigger("grow",{force:!0}),f.setTimeout(function(){c.ignoreFocus=!1;c.onFocus(a,b);c.$control_input.trigger("grow",{force:!0})},0))},blur:function(a){try{this.$control_input[0].blur(),
this.onBlur(null,a)}catch(b){}},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;"string"===typeof b&&(b=[{field:b}]);return{fields:a.searchField,conjunction:a.searchConjunction,filter:!0===this.ignoreFilter?!1:a.searchFilter,sort:b}},search:function(a){var b,c;b=this.settings;var e=this.getSearchOptions();if(b.score&&(c=this.settings.score.apply(this,[a]),"function"!==typeof c))throw Error('Selectize "score" setting must be a function that returns a function');
!0!==this.ignoreFilter&&0<b.minCharacters&&a.length<b.minCharacters?a=d.extend(!0,{items:[],query:a,total:0,tokens:[]}):a!==this.lastQuery?(this.lastQuery=a,this.currentResults=a=this.sifter.search(a,d.extend(e,{score:c}))):a=d.extend(!0,{},this.currentResults);if(b.hideSelected)for(b=a.items.length-1;0<=b;b--)-1!==this.items.indexOf(la(a.items[b].id))&&a.items.splice(b,1);return a},refreshOptions:function(a,b,c){var e,g,f,h,k,l,n,p,r,t,u,w,A;"undefined"===typeof a&&(a=!0);var y=this,D=d.trim(y.$control_input.val()),
E=y.search(D),F=y.$dropdown_content,G=y.$activeOption&&la(y.$activeOption.attr("data-value"));h=E.items.length;"number"===typeof y.settings.maxOptions&&(h=Math.min(h,y.settings.maxOptions));k={};l=[];for(e=0;e<h;e++)if(null===y.settings.selectedParent&&!y.options[E.items[e].id].parent_id||null!==y.settings.selectedParent&&y.options[E.items[e].id].parent_id+""===y.settings.selectedParent+"")for(n=y.options[E.items[e].id],p="Y"===n.has_children||1===n.has_children?y.render("parent",n):y.render("option",
n),n=n[y.settings.optgroupField]||"",r=d.isArray(n)?n:[n],g=0,f=r&&r.length;g<f;g++)n=r[g],y.optgroups.hasOwnProperty(n)||(n=""),k.hasOwnProperty(n)||(k[n]=[],l.push(n)),k[n].push(p);this.settings.lockOptgroupOrder&&l.sort(function(a,b){return(y.optgroups[a].$order||0)-(y.optgroups[b].$order||0)});p=[];if((0<E.items.length||t)&&!0===y.settings.addBlankRow&&"single"==y.settings.mode){t={};t[y.settings.valueField]="";t[y.settings.labelField]="";if(y.settings.altvalueFields){var O;for(e=y.settings.altvalueFields.length;O<
e;O++)t[y.settings.altvalueFields[O]]=""}p.push(y.render("option",t))}e=0;for(h=l.length;e<h;e++)n=l[e],y.optgroups.hasOwnProperty(n)&&k[n].length?(t=y.render("optgroup_header",y.optgroups[n])||"",t+=k[n].join(""),p.push(y.render("optgroup",d.extend({},y.optgroups[n],{html:t})))):p.push(k[n].join(""));F[0].innerHTML=p.join("");"top"===this.settings.dropdownPosition&&setTimeout(function(){y.positionDropdown()},10);if(y.settings.highlight&&E.query.length&&E.tokens.length)for(e=0,h=E.tokens.length;e<
h;e++)Zb(F,E.tokens[e].regex);if(!y.settings.hideSelected)for(e=0,h=y.items.length;e<h;e++)y.getOption(y.items[e]).addClass("selected");""===D&&(F.prepend(y.render("option_blank",{input:""})),w=d(F[0].childNodes[0]));if(t=y.canCreate(D,b))F.prepend(y.render("option_create",{input:D})),A=d(F[0].childNodes[0]);y.hasOptions=0<E.items.length||t||!!w;if(y.hasOptions){b="single"===y.settings.mode&&!0===y.settings.addBlankRow&&""!==D?!0:!1;if(w)u=w;else if(0<E.items.length){if((w=G&&y.getOption(G))&&w.length&&
("single"!==y.settings.mode||!0!==y.settings.addBlankRow||""!==D)?(u=w,b=!1):"single"===y.settings.mode&&y.items.length&&(u=y.getOption(y.items[0]))&&u.length&&!0===b&&(u=y.getAdjacentOption(u,1)),u&&u.length||(t&&A&&!y.settings.addPrecedence?u=y.getAdjacentOption(A,1):!0===y.settings.selectFirst&&(u=F.find("[data-selectable]:first"))),!0===b&&(u=y.getAdjacentOption(u,1)),""!==D&&!0!==y.settings.searchFilter){var H;for(f=0;f<E.items.length;f++)if(!H||E.items[f].score>H.score)H=E.items[f];u=null;if(H&&
H.score>y.settings.newScoreThreshold)u=y.getOption(H.id);else if(t&&A)u=A;else if(!0===y.settings.addBlankRow||null!==y.settings.selectParent)u=F.find("[data-selectable]:first")}}else u=A;y.setActiveOption(u,!0===c?!1:void 0);a&&!y.isOpen&&y.open()}else!0===y.settings.displaySearchStatus&&""!==D?(a&&!y.isOpen&&y.open(),D.length<y.settings.minCharacters?F.prepend('<div class="dropdown-status"><span class="dropdown-status-norecords">Type at least '+y.settings.minCharacters+" characters to search</span></div>"):
y.loading?F.prepend('<div class="dropdown-status"><span class="dropdown-status-loading">Searching...</span></div>'):F.prepend('<div class="dropdown-status"><span class="dropdown-status-norecords">No records found.</span></div>'),y.setActiveOption(null)):(y.setActiveOption(null),a&&y.isOpen&&y.close())},addOption:function(a,b,c){var e,f;f=!1;if(d.isArray(a))for(e=0,f=a.length;e<f;e++)a[e].__index=a.length-e,this.addOption(a[e],b,c);else{e=la(a[this.settings.valueField]);if(!e||this.options.hasOwnProperty(e))if(e&&
(!0===this.settings.replaceCached||this.userOptions[e]&&!0===this.userOptions[e].user_created||this.options[e]&&!0===this.options[e].user_created))c=f=!0;else return;a.user_created=b&&!0===b?!0:!1;!0===a.user_created&&(this.userOptions[e]=a);this.options[e]=a;this.lastQuery=null;this.trigger("option_add",e,a);this.preservedItems&&this.preservedItems[e]&&(this.addItem(this.preservedItems[e],c),delete this.preservedItems[e]);!0===f&&this.updateOption(e,a,c)}},registerOption:function(a){var b=la(a[this.settings.valueField]);
if(!b||this.options.hasOwnProperty(b))return!1;a.$order=a.$order||++this.order;this.options[b]=a;return b},registerOptionGroup:function(a){var b=la(a[this.settings.optgroupValueField]);if(!b)return!1;a.$order=a.$order||++this.order;this.optgroups[b]=a;return b},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a;(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.renderCache=
{},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={};this.renderCache={};this.trigger("optgroup_clear")},updateOption:function(a,b,c){var e,f,h;a=la(a);e=la(b[this.settings.valueField]);if(null!==a&&this.options.hasOwnProperty(a)){if("string"!==typeof e)throw Error("Value must be set in option data");h=this.options[a].$order;e!==a&&(delete this.options[a],f=this.items.indexOf(a),-1!==f&&this.items.splice(f,1,e));b.$order=b.$order||h;this.options[e]=b;f=this.renderCache.item;
h=this.renderCache.option;f&&(delete f[a],delete f[e]);h&&(delete h[a],delete h[e]);-1!==this.items.indexOf(e)?(a=this.getItem(a),b=d(this.render("item",b)),a.hasClass("active")&&b.addClass("active"),a.replaceWith(b),this.$input.trigger("optionchange",this.options[e])):e===d.trim(this.$control_input.val()||"")&&this.$input.trigger("optionchange",this.options[e]);this.lastQuery=null;this.isOpen&&this.refreshOptions(!1,!1,c);this.$control_input.trigger("grow",{force:!0})}},removeOption:function(a,b){a=
la(a);var c=this.renderCache.item,d=this.renderCache.option;c&&delete c[a];d&&delete d[a];delete this.userOptions[a];delete this.options[a];this.lastQuery=null;this.trigger("option_remove",a);this.removeItem(a,b)},clearOptions:function(a,b,c){var e=[];this.loadedSearches={};if(b&&!0===b||a&&!0===a)for(var f=0,h=this.items.length;f<h;f++)void 0!==this.options[this.items[f]]&&(a&&!0===a&&!0===this.options[this.items[f]].user_created?e.push(this.items[f]):b&&!0===b&&(this.preservedItems||(this.preservedItems=
{}),this.preservedItems[this.items[f]]=this.items[f]));a&&!0===a?this.options=this.sifter.items=d.extend({},this.userOptions):(this.userOptions={},this.renderCache={},this.options=this.sifter.items={});this.lastQuery=null;this.trigger("option_clear");this.clear(c);a&&!0===a&&0<e.length&&this.addItems(e,c)},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(a,b){var c=this.$dropdown.find("[data-selectable]"),e=c.index(a)+
b;return 0<=e&&e<c.length?c.eq(e):d()},getElementWithValue:function(a,b){a=la(a);if("undefined"!==typeof a&&null!==a)for(var c=0,e=b.length;c<e;c++)if(b[c].getAttribute("data-value")===a)return d(b[c]);return d()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(a,b,c){a=d.isArray(a)?a:"string"==typeof a?a.split(","):[a];for(var e=0,f=a.length;e<f;e++)this.isPending=e<f-1,"object"===typeof a[e]?(this.addOption(a[e],!0,!0),this.addItem(a[e][this.settings.valueField],
b,c)):this.addItem(a[e],b,c)},addItem:function(a,b,c){Wa(this,b?[]:["change"],function(){var e,f,h,k=this.settings.mode;a=la(a);this.items&&this.items.indexOf&&-1!==this.items.indexOf(a)?"single"===k&&this.close():("single"===k&&this.clear(b),"multi"===k&&this.isFull()||(this.options.hasOwnProperty(a)?(e=d(this.render("item",this.options[a])),h=this.isFull(),this.items.splice(this.caretPos,0,a),this.insertAtCaret(e),(!this.isPending||!h&&this.isFull())&&this.refreshState(),this.isSetup&&(h=this.$dropdown_content.find("[data-selectable]"),
this.isPending||(f=this.getOption(a),f=this.getAdjacentOption(f,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==k,c),f&&this.setActiveOption(this.getOption(f))),!h.length||this.isFull()?this.close():this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",a,e),this.updateOriginalInput({silent:b})),this.$control_input.trigger("grow",{force:!0})):""===a||!this.settings.create&&!0!==c||this.createItem(a,!1,c,b)))})},removeItem:function(a,b){var c,d,f;c="object"===
typeof a?a:this.getItem(a);a=la(c.attr("data-value"));d=this.items.indexOf(a);-1!==d&&(c.remove(),c.hasClass("active")&&(f=this.$activeItems.indexOf(c[0]),this.$activeItems.splice(f,1)),this.items.splice(d,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(a)&&this.removeOption(a,b),d<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:b}),this.positionDropdown(),this.trigger("item_remove",a,c))},createItem:function(a,
b,c,e){var f=this,h=f.caretPos;a=a||d.trim(f.$control_input.val()||"");var k=arguments[arguments.length-1];"function"!==typeof k&&(k=function(){});"boolean"!==typeof b&&(b=!0);if(!f.canCreate(a,"boolean"!==typeof b?!1:c))return k(),!1;f.lock();var l="function"===typeof f.settings.create?this.settings.create:function(a){var b={};b[f.settings.labelField]=a;b[f.settings.valueField]=a;if(f.settings.altvalueFields)for(var c,d=f.settings.altvalueFields.length;c<d;c++)tmp[f.settings.altvalueFields[c]]=a;
return b},n=sb(function(a){f.unlock();if(!a||"object"!==typeof a)return k();var c=la(a[f.settings.valueField]);if("string"!==typeof c)return k();f.setTextboxValue("");f.addOption(a,!0);f.setCaret(h);f.addItem(c,e);f.refreshOptions(b&&"single"!==f.settings.mode);k(a)}),l=l.apply(this,[a,n]);"undefined"!==typeof l&&n(l);return!0},refreshItems:function(){this.lastQuery=null;this.isSetup&&this.addItem(this.items,!0);this.refreshState();this.updateOriginalInput({silent:!0})},refreshState:function(){this.isRequired&&
(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0));this.refreshClasses()},refreshClasses:function(){var a=this.isFull(),b=this.isLocked;this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",b).toggleClass("full",a).toggleClass("not-full",!a).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",
this.isOpen).toggleClass("has-options",!d.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length);this.$control_input.data("grow",!a&&!b)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,c,d,f;a=a||{};if(1===this.tagType){d=[];b=0;for(c=this.items.length;b<c;b++)f=this.options[this.items[b]][this.settings.labelField]||"",d.push('<option value="'+mb(this.items[b])+'" selected="selected">'+mb(f)+
"</option>");d.length||this.$input.attr("multiple")||d.push('<option value="" selected="selected"></option>');this.$input.html(d.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(a.silent||this.trigger("change",this.$input.val()));this.$control_input.trigger("grow",{force:!0})},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder);
a.triggerHandler("update",{force:!0})}},open:function(a){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||("single"===this.settings.mode&&a&&"mousedown"===a.type||this.focus(a),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown),this.positionDropdown())},close:function(){var a=this.isOpen;"single"===this.settings.mode&&this.items.length&&
this.hideInput();this.isOpen=!1;this.$dropdown.hide();this.setActiveOption(null);this.refreshState();a&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var a=this.$control,b,c=a.outerHeight(!0),e=this.$input.data("maxdropdownwidth");"body"===this.settings.dropdownParent?(b=a.offset(),"bottom"===this.settings.dropdownPosition&&b.top+c+211>d("body").height()&&(1>a.closest(".modal").length?(this.$dropdown.appendTo(this.$wrapper),this.settings.dropdownParent=null,b=a.position()):
this.settings.dropdownPosition="top")):b=a.position();b.top+=c;this.$dropdown.css({width:"auto",minWidth:a.outerWidth(),maxWidth:void 0!==e&&null!==e?e:"auto",top:"bottom"===this.settings.dropdownPosition?b.top:b.top-this.$dropdown.height()-30,left:b.left})},clear:function(a){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastItem=this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:a}),this.refreshState(),
this.showInput(),this.trigger("clear"))},insertAtCaret:function(a){var b=Math.min(this.caretPos,this.items.length);0===b?this.$control.prepend(a):d(this.$control[0].childNodes[b]).before(a);this.setCaret(b+1)},deleteSelection:function(a,b){var c,e,f,h,k;c=!a||8!==a.keyCode&&37!==a.keyCode&&38!==a.keyCode&&39!==a.keyCode&&40!==a.keyCode?1:-1;e=db(this.$control_input[0]);this.$activeOption&&!this.settings.hideSelected&&(k=this.getAdjacentOption(this.$activeOption,-1).attr("data-value"));f=[];if(this.$activeItems.length){h=
this.$control.children(".active:"+(0<c?"last":"first"));h=this.$control.children(":not(input)").index(h);0<c&&h++;c=0;for(e=this.$activeItems.length;c<e;c++)f.push(d(this.$activeItems[c]).attr("data-value"));a&&a.preventDefault&&(a.preventDefault(),a.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(0>c&&0===e.start&&0===e.length?f.push(this.items[this.caretPos-1]):0<c&&e.start===this.$control_input.val().length&&f.push(this.items[this.caretPos]));if(!f.length||
"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[f]))return!1;for("undefined"!==typeof h&&this.setCaret(h);f.length;)this.removeItem(f.pop());this.showInput();this.positionDropdown();this.refreshOptions(b);k&&(f=this.getOption(k),f.length&&this.setActiveOption(f));return!0},advanceSelection:function(a,b){var c,d;0!==a&&(c=0<a?"last":"first",d=db(this.$control_input[0]),this.isFocused&&!this.isInputHidden?("single"===this.settings.mode&&!0===this.settings.makeeditable&&
(0<a?this.makeEditable({keyCode:8}):this.makeEditable(b)),c=this.$control_input.val().length,(d=0>a?0===d.start&&0===d.length:d.start===c)&&!c&&this.advanceCaret(a,b)):(d=this.$control.children(".active:"+c),d.length&&(d=this.$control.children(":not(input)").index(d),this.setActiveItem(null),this.setCaret(0<a?d+1:d))))},advanceCaret:function(a,b){var c;0!==a&&(c=0<a?"next":"prev",this.isShiftDown?(c=this.$control_input[c](),c.length&&(this.hideInput(),this.setActiveItem(c),b&&b.preventDefault())):
this.setCaret(this.caretPos+a))},setCaret:function(a){a="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,a));if(!this.isPending){var b,c,e,f;e=this.$control.children(":not(input)");b=0;for(c=e.length;b<c;b++)f=d(e[b]).detach(),b<a?this.$control_input.before(f):this.$control.append(f)}this.caretPos=a},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked=!1;this.refreshState()},disable:function(){this.$input.prop("disabled",
!0);this.$control_input.prop("disabled",!0).prop("tabindex",-1);this.isDisabled=!0;this.lock()},enable:function(){this.$input.prop("disabled",!1);this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex);this.isDisabled=!1;this.unlock()},destroy:function(){var a=this.eventNS,b=this.revertSettings;this.trigger("destroy");this.off();this.$wrapper.remove();this.$dropdown.remove();this.$input.html("").append(b.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:b.tabindex}).show();
this.$control_input.removeData("grow");this.$input.removeData("selectize");d(f).off(a);d(document).off(a);d(document.body).off(a);delete this.$input[0].selectize},render:function(a,b){var c,d,f,h=!1,k=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;if("option"===a||"item"===a||"parent"===a)c=la(b[this.settings.valueField]),h=!!c;if(h&&("undefined"===typeof this.renderCache[a]&&(this.renderCache[a]={}),this.renderCache[a].hasOwnProperty(c)))return this.renderCache[a][c];f=this.settings.render[a].apply(this,
[b,mb]);f=f.replace(/^(<div[^>]*>)?([\s]*)(<\/div>)?$/i,"$1&nbsp;$3");if("option"===a||"option_create"===a||"parent"===a)f=f.replace(k,"<$1 data-selectable");"optgroup"===a&&(d=b[this.settings.optgroupValueField]||"",f=f.replace(k,'<$1 data-group="'+(mb(d)+"").replace(/\$/g,"$$$$")+'"'));if("option"===a||"item"===a||"parent"===a)f=f.replace(k,'<$1 data-value="'+(mb(c||"")+"").replace(/\$/g,"$$$$")+'"');h&&(this.renderCache[a][c]=f);return f},clearCache:function(a){"undefined"===typeof a?this.renderCache=
{}:delete this.renderCache[a]},canCreate:function(a,b){if(!this.settings.create&&!b)return!1;var c=this.settings.createFilter;return a.length&&("function"!==typeof c||c.apply(this,[a]))&&("string"!==typeof c||(new RegExp(c)).test(a))&&(!(c instanceof RegExp)||c.test(a))}});Oa.define("remove_button",function(a){if("single"!==this.settings.mode||!0===this.settings.includeremovebutton){a=d.extend({label:"&times;",title:"Remove",className:"remove",append:!0},a);var b=this,c='<a href="javascript:void(0)" class="'+
a.className+'" tabindex="-1" title="'+mb(a.title)+'">'+a.label+"</a>";this.setup=function(){var e=b.setup;return function(){if(a.append){var f=b.settings.render.item;b.settings.render.item=function(a){var b=f.apply(this,arguments),d=b.search(/(<\/[^>]+>\s*)$/);return b.substring(0,d)+c+b.substring(d)}}e.apply(this,arguments);this.$control.on("click","."+a.className,function(a){a.preventDefault();b.isLocked||(a=d(a.currentTarget).parent(),b.setActiveItem(a),b.deleteSelection()&&b.setCaret(b.items.length))})}}()}});
Oa.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]};this.onKeyDown=function(){var c=b.onKeyDown;return function(d){var e;if("single"===b.settings.mode&&8===d.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(e=this.caretPos-1,0<=e&&e<this.items.length)){e=this.options[this.items[e]];this.deleteSelection(d)&&(this.setTextboxValue(a.text.apply(this,[e])),this.refreshOptions(!0));d.preventDefault();return}return c.apply(this,
arguments)}}()});Oa.define("label_for",function(a){var b=this;b.setup=function(){var a=b.setup;return function(){a.apply(b,arguments);var c=b.$control_input.closest("form");c.find('label[for="'+b.$input.attr("id")+'"]').on("click",function(a){a=d(a.currentTarget);a=c.find("#"+a.attr("for"));0<a.length&&!0!==a.prop("disabled")&&a[0].selectize.$control_input.focus()})}}()});Oa.count=0;Oa.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,
createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1E3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,selectOnBlur:!0,preload:!1,openOnClick:!1,allowEmptyOption:!1,closeAfterSelect:!1,displaySearchStatus:!1,makeeditable:!0,backText:"Back",scrollDuration:60,loadThrottle:300,setActiveOnFocus:!1,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",altvalueFields:null,optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,
sortField:"$order",searchField:["text"],searchConjunction:"and",newScoreThreshold:.8,minCharacters:0,mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,addBlankRow:!1,copyClassesToDropdown:!0,autofocus:!1,searchFilter:!0,doublecheck:!1,selectEditableOnClickFocus:!1,replaceCached:!1,dropdownPosition:"bottom",selectedParent:null,selectedParentTitle:null,includeremovebutton:!1,
actionoptions:null,action:null,selectFirst:!1,cachedata:!0,sortbyindex:!1,render:{}};d.fn.selectize=function(a){var b=d.fn.selectize.defaults,c=d.extend({},b,a),e=c.dataAttr,f=c.labelField,h=c.valueField,k=c.optgroupField,l=c.optgroupLabelField,n=c.optgroupValueField,p=function(a,b){var g,m,p,q,r=b.options,t={},u=function(a){a=e&&a.attr(e);return"string"===typeof a&&a.length?JSON.parse(a):null},w=function(a,e){a=d(a);var g=la(a.attr("value"));if(g||c.allowEmptyOption)if(t.hasOwnProperty(g)){if(e){var l=
t[g][k];l?d.isArray(l)?l.push(e):t[g][k]=[l,e]:t[g][k]=e}}else l=u(a)||{},l[f]=l[f]||a.text(),l[h]=l[h]||g,l[k]=l[k]||e,t[g]=l,r.push(l),a.is(":selected")&&b.items.push(g)},x=function(a){var c,e,f;a=d(a);if(e=a.attr("label"))c=u(a)||{},c[l]=e,c[n]=e,b.optgroups.push(c);f=d("option",a);a=0;for(c=f.length;a<c;a++)w(f[a],e)};b.maxItems=a.attr("multiple")?null:1;q=a.children();g=0;for(m=q.length;g<m;g++)p=q[g].tagName.toLowerCase(),"optgroup"===p?x(q[g]):"option"===p&&w(q[g]);a.attr("data-fiber_default")&&
b.items.push(a.attr("data-fiber_default"))};return this.each(function(){if(!this.selectize){var g=d(this),k=this.tagName.toLowerCase(),l=g.attr("placeholder")||g.attr("data-placeholder");l||c.allowEmptyOption||(l=g.children('option[value=""]').text());l={placeholder:l,options:[],optgroups:[],items:[]};if("select"===k)p(g,l);else{var m,n,q;if(k=g.attr(e))for(l.options=JSON.parse(k),k=0,m=l.options.length;k<m;k++)l.items.push(l.options[k][h]);else if(k=d.trim(g.val()||""),""===k&&(k=g.attr("data-fiber_default")||
""),c.allowEmptyOption||k.length){n=k.split(c.delimiter);k=0;for(m=n.length;k<m;k++)q={},q[f]=n[k],q[h]=n[k],l.options.push(q);l.items=n}}new Oa(g,d.extend(!0,{},b,l,a))}})};d.fn.selectize.defaults=Oa.defaults;d.fn.selectize.support={validity:Lb};d.widget("ui.searchinput",{options:{read:null,readurl:null,template:null,templateid:null,templateurl:null,desctemplate:null,descrenderer:null,descfieldid:null,source:null,labelfield:"label",sortfield:"label",valuefield:"data",summaryfield:null,altvaluefields:null,
itemfield:null,searchfield:"label",itemactions:null,searchdialogurl:null,searchdialogdestroyonclose:!1,searchdialog:null,addblankrow:!0,autofocus:!1,mask:null,topic:null,renderer:null,searchdialogbutton:null,create:!1,createtemplate:null,createrenderer:null,itemrenderer:null,itemtemplate:null,searchfilter:null,maxitems:1,mode:null,showgroupinitem:!1,mincharacters:0,activeonfocus:!0,openonclick:null,actionoptions:null,action:null,selectontab:!0,highlightonfocus:!1,groupfield:"optgroup",replacecached:!1,
highlight:!0,makeeditable:!0,backtext:"back",dropdownposition:"bottom",selectedparent:null,selectedparenttitle:null,includeremovebutton:!1,selectfirst:!1,createonblur:!0,selectonblur:!0,dropdownclose:null,closeafterselect:!0,researchonselect:!1,itemaction:null,itemactiontooltip:{},data:null,datafilter:null,doublecheck:!0,loadThrottle:400,cachedata:!0,sortbyindex:!1,loademptyquery:!0},_create:function(){!0!==this.element.hasClass("ui-searchinput")&&(this.element.addClass("ui-searchinput"),this._createsearchinput())},
_createsearchinput:function(){var a=this,b=a.options,c=a.element.getDataAttr("maxitems"),e;a.element.setSingleDataAttr("fiber_id","searchinput-"+K.createUUID());c&&!isNaN(parseInt(c,10))&&(b.maxitems=parseInt(c,10));1<b.maxitems&&(b.selectonblur=!1);a.validresults=[];a.element.dataOptions(b,{list:"read readurl ?addblankrow searchdialog searchdialogbutton template templateid mode createtemplate itemtemplate mask searchdialogurl topic source !labelfield !sortfield !valuefield summaryfield *altvaluefields !itemfield !groupfield *searchfield *itemactions ?create ?searchfilter #maxitems #mincharacters descfieldid desctemplate ?searchdialogdestroyonclose ?highlightonfocus ?selectontab ?replacecached ?highlight !dropdownposition ?makeeditable !backtext selectedparent selectedparenttitle ?includeremovebutton ?closeafterselect ?loademptyquery ?researchonselect ?openonclick ?showgroupinitem ?activeonfocus ?selectonblur".split(" "),
prefix:{searchdialogurl:K.options.remoteURL,readurl:K.options.jsonURL},alias:{searchdialogurl:"searchdialog",readurl:"read"}});1<b.maxitems&&null===b.mode?b.mode="multi":null===b.mode&&(b.mode="single");"multi"===b.mode&&(b.activeonfocus=!1);null===b.openonclick&&(b.openonclick=0<b.mincharacters?!1:"multi"===b.mode?!1:!0);null!==b.source&&"string"===typeof b.source&&""!==b.source&&(b.source=JSON.parse(b.source));a.element.addClass("uneditable-input");!0===b.openonclick&&a.element.addClass("openonclick");
null===b.topic&&(b.topic="topic-"+K.createUUID());a.element.is("[autofocus]")&&(b.autofocus=!0);if(null!==b.sortfield&&"string"===typeof b.sortfield){c=b.sortfield.split(",");b.sortfield=[];for(var f=0,h=c.length;f<h;f++)e=c[f].split(" "),b.sortfield.push({field:e[0],direction:0<e.length?e[1]:"asc"})}a.tmpdialog=null;if(null!==b.searchdialog&&null!==b.searchdialogbutton)a.element.closest("form").find("#"+b.searchdialogbutton).on("click",function(c){c=d(c.currentTarget);var e=c.closest(".ui-inlineform,.ui-inlineview,.ui-inlinelist,.ui-viewstack");
c=d.extend({},K.templateVariables({element:e,options:{dynamic:!0,inherit:!0,client:!1}},{element:c,options:{dynamic:!0,inherit:!0,client:!1}}));e=a.element.attr("id");d.extend(c,(a.element[0].form?d(a.element[0].form):a.element.closest("form")).inlineForm("formvariables",{templatevariables:!0,inherit:!0}));a.tmpdialog=K.loadDialog({id:"dialog-"+e,data:c,view:null!==b.searchdialog?b.searchdialog:"",topic:b.topic,parenttopic:b.topic,destroyOnClose:b.searchdialogdestroyonclose,openerid:e,updateonselected:"false",
resetonclose:"true"})});K.topic(b.topic).subscribe(function(c){c&&void 0!==c.originator&&null!==c.originator&&c.originator===a.element.getDataAttr("fiber_id")||(c&&"selected"===c.type?c.data&&(!0!==a.element.is(":disabled")&&!0!==a.element.is("[readonly]")&&("multi"===b.mode?a.element[0].selectize&&(a.element[0].selectize.addOption([c.data]),a.element[0].selectize.addItem(c.data[b.valuefield])):(a.fieldvalue([c.data]),a.element.trigger("change"))),K.topic(b.topic).publish({type:"reset",originator:a.element.getDataAttr("fiber_id")}),
a.tmpdialog&&(a.tmpdialog.dialogForm("close"),a._focus())):c&&"multipleselected"===c.type&&"multi"===b.mode&&c.data&&c.id&&(a.element[0].selectize&&a.element[0].selectize.addItems(c.data,!0),a.element.trigger("change"),K.topic(b.topic).publish({type:"reset",originator:a.element.getDataAttr("fiber_id")}),a.tmpdialog&&(a.tmpdialog.dialogForm("close"),a._focus())))});d.fn.selectize&&d.when(a._setuptemplates()).then(function(){a._initselectize()});a.element.on("change optionchange",function(b,c){a._optionChange(b,
c)});a.element.on("reset",function(){a._reset()})},_initselectize:function(){var a=this,b=a.options,c,e=["label_for"];0<b.mincharacters&&a.element.addClass("selectize-searchonly");!0===b.makeeditable&&e.push("restore_on_backspace");"multi"!==b.mode&&!0!==b.includeremovebutton||e.push("remove_button");a.element[0].selectize?c=a.element[0].selectize.getValue():(c=a.element.attr("data-value"),a.element.removeAttr("data-value"));""===c?c=a.element.attr("data-fiber_default")||"":"string"===typeof c&&"["===
c.substring(0,1)&&(c=JSON.parse(c));var e=a.element.selectize({preload:""!==c?!1:"focus",load:function(c,d,e){try{c&&""!==c||!0===b.loademptyquery?a._loaddata(c,d,e):d(null,e)}catch(x){}},data:function(b){return a._data(b)},selectOnBlur:b.selectonblur,createOnBlur:b.createonblur,mode:b.mode,backText:b.backtext,labelField:b.labelfield,valueField:b.valuefield,altvalueFields:b.altvaluefields,searchField:b.searchfield,itemActions:b.itemactions,sortField:b.sortfield,minCharacters:b.mincharacters,create:b.create,
displaySearchStatus:!b.create,dropdownParent:"body",searchConjunction:"and",searchFilter:b.searchfilter,setActiveOnFocus:b.activeonfocus,selectEditableOnClickFocus:b.highlightonfocus,highlight:b.highlight,selectFirst:b.selectfirst,closeAfterSelect:b.closeafterselect,loadThrottle:b.loadThrottle,maxItems:b.maxitems,selectOnTab:b.selectontab,autofocus:b.autofocus,dropdownPosition:b.dropdownposition,makeeditable:b.makeeditable,loadingClass:null!==b.read||null!==b.readurl?"loading":"",selectedParent:b.selectedparent,
selectedParentTitle:b.selectedparenttitle,actionoptions:b.actionoptions,action:b.action,render:{option:null!==b.renderer?b.renderer:void 0,option_create:null!==b.createrenderer?b.createrenderer:void 0,item:null!==b.itemrenderer?b.itemrenderer:void 0,label:null!==b.labelrenderer?b.labelrenderer:void 0},plugins:e,openOnFocus:!1,openOnClick:b.openonclick,newScoreThreshold:.1,addBlankRow:b.addblankrow,doublecheck:b.doublecheck,optgroupField:b.groupfield,replaceCached:b.replacecached,cachedata:b.cachedata,
includeremovebutton:b.includeremovebutton,onDropdownClose:function(){a._trigger("dropdownclose")},onEscape:function(){a._trigger("escape")},onItemAction:function(b,c,d){a._trigger("itemaction",0,{action:b,option:c,item:d})},score:function(a){var c=this.getScoreFunction(a);return function(d){return""===a?0:!0===b.sortbyindex&&void 0!==d.__index?c(d)+10*d.__index:d[b.labelfield]===a?c(d)+3:(d[b.labelfield]+"").toLowerCase()===a||(d[b.labelfield]+"").toLowerCase()===(a+"").toLowerCase()?c(d)+3:void 0!==
d.score&&void 0!==d.explain&&-1!==d.explain.indexOf(a)?c(d)+Math.min(d.score,.4):1*c(d)}}}),f="selectize-"+e.attr("id"),h="searchinputwrapper-"+e.attr("id");d(e[0].selectize.$control).attr("id",f);d(e[0].selectize.$wrapper).attr("id",h);a.element.setSingleDataAttr("fiber_componentid",h);e.setSingleDataAttr("fiber_target",f);a.element.on("populateinput",function(){var b;b=a.element[0].selectize?a.element[0].selectize.getValue():a.element.attr("data-value");""===b?b=a.element.attr("data-fiber_default")||
"":"string"===typeof b&&"["===b.substring(0,1)&&(b=JSON.parse(b));a._onpopulate(b)});a.element.on("restorefocus",function(){a._focus()});""!==c&&(a.element[0].selectize&&a.element[0].selectize.setValue(c,!0),a._onpopulate(c));(a.element.is(":disabled")||a.element.is("[readonly]")||a.element.is("[disabled]"))&&e[0].selectize.disable()},inactive:function(){this.options.selectedparent&&this.element[0].selectize&&this.element[0].selectize.selectParent(this.options.selectedparent,this.options.selectedparenttitle);
try{this.element[0].selectize&&this.element[0].selectize.close()}catch(a){}},close:function(){this.options.selectedparent&&this.element[0].selectize&&this.element[0].selectize.selectParent(this.options.selectedparent,this.options.selectedparenttitle);try{this.element[0].selectize&&this.element[0].selectize.close()}catch(a){}},_optionChange:function(a,b){if(!1!==this._trigger("change",0,b)){var c=this.options;null!==c.descfieldid&&null!==c.descrenderer&&this.element.closest("form").find("#"+c.descfieldid).fieldValue(c.descrenderer(b))}},
fieldvalue:function(a){if(1>arguments.length)return this.element[0].selectize?this.element[0].selectize.getValue():this.element.attr("data-value");this.element[0].selectize&&this.element[0].selectize.setValue(a,!0);return this},_focus:function(){this.element[0].selectize&&this.element[0].selectize.focus()},focus:function(){this.element[0].selectize&&this.element[0].selectize.focus()},_reset:function(){var a=this.element.attr("id");this.element.attr("fiber-preventdefault","true");this.element.attr("data-value",
"");void 0!==this.element.getDataAttr(a)&&this.element.setSingleDataAttr(a,"");this.clearoptions(!1);this.validresults=[];this.element.removeAttr("fiber-preventdefault")},_onpopulate:function(a){this.element[0].selectize.onSearchChange(a,!0)},clearoptions:function(a,b,c){this.element[0].selectize&&(this.element[0].selectize.clearOptions(a,b,c),b&&!0===b&&(a=this.element[0].selectize?this.element[0].selectize.getValue():this.element.attr("data-value"),this._onpopulate(a)))},clearcache:function(){this.element[0].selectize&&
(this.validresults=[],this.element[0].selectize.clearCache())},_setuptemplates:function(){var a=this.options,b=!0;null!==a.template?null!==(a.template+"").match(/^[0-9a-z\-.]+$/i)?b=d.ajax({url:K.tsURL(K.options.remoteURL+a.template),dataFilter:K.ajaxDataFilter,dataType:"text",type:"POST",error:function(a,b,c){K.ajaxError(a,b,c)},success:function(b){a.renderer=Handlebars.compile(d.trim(b))}}):a.renderer=Handlebars.compile("<div>"+d.trim(a.template)+"</div>"):null!==a.templateid?a.renderer=Handlebars.compile(d.trim(d("#"+
a.templateid).html())):null!==a.itemfield&&a.itemfield!==a.labelfield?(a.renderer=Handlebars.compile('<div><div class="detailed"><span class="title"><span class="name">{{'+a.labelfield+'}}</span><span class="code">{{'+a.itemfield+"}}</span></span></div></div>"),a.searchfield=[a.labelfield,a.itemfield],a.labelfield=a.itemfield):null!==a.summaryfield&&(a.renderer=Handlebars.compile('<div class="detailed"><span class="title"><span class="name">{{'+a.labelfield+'}}</span><span class="code">{{'+a.itemfield+
'}}</span></span><div class="meta">{{'+a.summaryfield+"}}</div></div>"));var c=[];if(a.itemactions)for(var e=0,f=a.itemactions.length;e<f;e++)c.push("<a "+(a.itemactiontooltip&&a.itemactiontooltip[a.itemactions[e].toLowerCase()]?'data-rel="tooltip" data-title="'+a.itemactiontooltip[a.itemactions[e].toLowerCase()]+'"':"")+' class="item-action item-action-'+a.itemactions[e]+'" data-action="'+a.itemactions[e]+'"><i class="icon icon-'+a.itemactions[e]+'"></i></a>');null!==a.itemtemplate&&null===a.itemrenderer?
a.itemrenderer=Handlebars.compile('<div class="item">'+a.itemtemplate+""+c.join("")+"</div>"):!0===a.showgroupinitem&&null===a.itemrenderer&&a.groupfield?a.itemrenderer=Handlebars.compile('<div class="item"><span class="item-group">{{'+a.groupfield+"}}</span>{{"+a.labelfield+"}}"+c.join("")+"</div>"):0<c.length&&(a.itemrenderer=Handlebars.compile('<div class="item">{{'+a.labelfield+"}}"+c.join("")+"</div>"));null!==a.createtemplate&&(a.createrenderer=Handlebars.compile('<div class="create">'+d.trim(a.createtemplate)+
"</div>"));null!==a.desctemplate&&(a.descrenderer=Handlebars.compile(d.trim(a.desctemplate)));return b},_data:function(){var a=this.element.attr("id"),b={},c,e=this.fieldvalue();c=this.element.closest(".ui-inlineform").inlineForm("formvariables",{templatevariables:!0,inherit:!0});for(var f in c)void 0!==this.element.getDataAttr(f)&&(b[f]=c[f]);void 0===b[a]&&void 0!==this.element.getDataAttr(a)&&(b[a]=void 0!==c[a]?c[a]:e);this.element.setDataAttr(b);a="function"===typeof this.options.data?this.options.data.call(this,
e):this.options.data;b=d.extend({},b,a);b.__validresults=(this.validresults||[]).join(",");return b},_loaddata:function(a,b,c){var e=this,f=e.options,h,k,l,n,p="POST",r="json",t=!1;if(null!==f.source)"function"==typeof f.source?f.source(a,b,c):b(f.source,c);else if(null!==f.read||null!==f.readurl)for(k=(f.read||"").split(","),l=0,n=k.length;l<n;l++)h=1<k.length?K.options.jsonURL+""+k[l]:f.readurl,-1!==h.indexOf("https://")&&(r="jsonp",p="GET",t=!0),d.ajax({url:K.tsURL(h)+"&query="+("undefined"!==
typeof a?encodeURIComponent(a):""),data:K.packdata(e._data()),dataFilter:K.ajaxDataFilter,dataType:r,type:p,crossDomain:t,error:function(a,b,c){K.ajaxError(a,b,c)},success:function(a){a=K.unpackdata(a);var d=a.__validresults?(a.__validresults+"").split(","):[],f;e.options.datafilter&&"function"===typeof e.options.datafilter&&(a=e.options.datafilter.call(e,a));f=a.data?a.data:a.DATA;if(void 0!==a.groups)for(var g=0,h=a.groups.length;g<h;g++)e.element[0].selectize&&e.element[0].selectize.registerOptionGroup(a.groups[g]);
e.validresults=d;b(f,c)}});else c&&b(null,c)}});H.prototype={constructor:H,refresh:function(){var a=this;this.offsets=d([]);this.targets=d([]);this.$body.find(this.selector).filter(function(a,c){return 0<c.offsetWidth?!0:!1}).map(function(){var b=d(this),c=b.data("target")||b.attr("href"),e=/^#\w/.test(c)&&d(c);return e&&e.length&&[[e.position().top+(!d.isWindow(a.$scrollElement.get(0))&&a.$scrollElement.scrollTop()),c,b.data("targetchildren")]]||null}).sort(function(a,c){return a[0]-c[0]}).each(function(){a.offsets.push(this[0]);
a.targets.push(this[1]);var b,c;if(this[2]){b=this[2].split(" ");for(var e=0;e<b.length;e++)c=d(b[e]),0<c.length&&(a.offsets.push(c.position().top+(!d.isWindow(a.$scrollElement.get(0))&&a.$scrollElement.scrollTop())),a.targets.push(b[e]))}})},process:function(a,b){var c=this.$scrollElement.scrollTop()+this.options.offset,d=c+this.options.offset,f=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),h=this.offsets,k=this.targets,l=this.activeTarget,n;if(void 0==
a||"click"!=a.type){if(!0!==this.ignoreScroll&&(this.clickScrollPosition-100>c||this.clickScrollPosition+100<c)&&(this.clickScrollPosition=0,void 0===b||!0!==b)){if(d>=f)return l!=(n=k.last()[0])&&this.activate(n);for(n=h.length;n--;)l!=k[n]&&d>=h[n]&&(!h[n+1]||d<=h[n+1])&&this.activate(k[n])}}else c=null,void 0!==a.target.hash?c=a.target.hash:a.target.parentNode.hash&&(c=a.target.parentNode.hash),null!==c&&(a.stopPropagation(),this.activate(c,!0))},activate:function(a,b){var c,e=this,g,h,k,l,n;this.activeTarget=
a;b&&!0===b&&(this.ignoreScroll=!0);d(this.selector).parent(".active").removeClass("active");c=d(this.selector+'[data-target="'+a+'"],'+this.selector+'[data-targetchildren~="'+a+'"],'+this.selector+'[href="'+a+'"]').parent("li").addClass("active");c.parent().hasClass(".dropdown-menu")?c=c.closest("li.dropdown").addClass("active"):0<c.length&&(g=c.closest(".left-body-content,.left-body"),0<g.length&&(h=c[0].offsetTop,k=g.scrollTop(),l=g.height(),n=c.outerHeight(),h<k+30?g.scrollTop(h-30):h+n>k+l-30&&
g.scrollTop(h-l+n+30)));try{f.history.replaceState&&void 0!==a&&f.history.replaceState(null,f.document.title,f.location.pathname+f.location.search+a)}catch(x){}c.trigger("activate");b&&!0===b&&setTimeout(function(){e.ignoreScroll=!1;e.clickScrollPosition=e.$scrollElement.scrollTop()},200)}};Ia=d.fn.scrollspy;d.fn.scrollspy=function(a){return this.each(function(){var b=d(this),c=b.data("scrollspy"),e="object"==typeof a&&a;c||b.data("scrollspy",c=new H(this,e));if("string"==typeof a)c[a]()})};d.fn.scrollspy.Constructor=
H;d.fn.scrollspy.defaults={offset:10};d.fn.scrollspy.noConflict=function(){d.fn.scrollspy=Ia;return this};"function"===typeof W&&W.amd&&W("fiber"+(f.curl?".js":""),[],function(){return _fiber})})(window,jQuery);
var TRUE=!0,FALSE=!1,NULL=null,X="x",Y="y",WIDTH="width",HEIGHT="height",TOP="top",LEFT="left",BOTTOM="bottom",RIGHT="right",CENTER="center",FLIP="flip",FLIPINVERT="flipinvert",SHIFT="shift",QTIP,PROTOTYPE,CORNER,CHECKS,PLUGINS={},NAMESPACE="qtip",ATTR_HAS="data-hasqtip",ATTR_ID="data-qtip-id",WIDGET=["ui-widget","ui-tooltip"],SELECTOR="."+NAMESPACE,INACTIVE_EVENTS="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),CLASS_FIXED=NAMESPACE+"-fixed",CLASS_DEFAULT=NAMESPACE+
"-default",CLASS_FOCUS=NAMESPACE+"-focus",CLASS_HOVER=NAMESPACE+"-hover",CLASS_DISABLED=NAMESPACE+"-disabled",replaceSuffix="_replacedByqTip",oldtitle="oldtitle",trackingBound,BROWSER={ie:function(){for(var f=4,d=document.createElement("div");(d.innerHTML="\x3c!--[if gt IE "+f+"]><i></i><![endif]--\x3e")&&d.getElementsByTagName("i")[0];f+=1);return 4<f?f:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",
".").replace("_",""))||FALSE};function QTip(f,d,h,l){this.id=h;this.target=f;this.tooltip=NULL;this.elements={target:f};this._id=NAMESPACE+"-"+h;this.timers={img:{}};this.options=d;this.plugins={};this.cache={event:{},target:$(),disabled:FALSE,attr:l,onTooltip:FALSE,lastClass:""};this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=FALSE}PROTOTYPE=QTip.prototype;PROTOTYPE._when=function(f){return $.when.apply($,f)};
PROTOTYPE.render=function(f){if(this.rendered||this.destroyed)return this;var d=this,h=this.options,l=this.cache,r=this.elements,t=h.content.text,k=h.content.title,A=h.content.button,y=h.position,G=[];$.attr(this.target[0],"aria-describedby",this._id);l.posClass=this._createPosClass((this.position={my:y.my,at:y.at}).my);this.tooltip=r.tooltip=$("<div/>",{id:this._id,"class":[NAMESPACE,CLASS_DEFAULT,h.style.classes,l.posClass].join(" "),width:h.style.width||"",height:h.style.height||"",tracking:"mouse"===
y.target&&y.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":FALSE,"aria-describedby":this._id+"-content","aria-hidden":TRUE}).toggleClass(CLASS_DISABLED,this.disabled).attr(ATTR_ID,this.id).data(NAMESPACE,this).appendTo(y.container).append(r.content=$("<div />",{"class":NAMESPACE+"-content",id:this._id+"-content","aria-atomic":TRUE}));this.rendered=-1;this.positioning=TRUE;k&&(this._createTitle(),$.isFunction(k)||G.push(this._updateTitle(k,FALSE)));A&&this._createButton();$.isFunction(t)||
G.push(this._updateContent(t,FALSE));this.rendered=TRUE;this._setWidget();$.each(PLUGINS,function(f){var h;"render"===this.initialize&&(h=this(d))&&(d.plugins[f]=h)});this._unassignEvents();this._assignEvents();this._when(G).then(function(){d._trigger("render");d.positioning=FALSE;d.hiddenDuringWait||!h.show.ready&&!f||d.toggle(TRUE,l.event,FALSE);d.hiddenDuringWait=FALSE});QTIP.api[this.id]=this;return this};
PROTOTYPE.destroy=function(f){function d(){if(!this.destroyed){this.destroyed=TRUE;var d=this.target,f=d.attr(oldtitle),r;this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove();$.each(this.plugins,function(d){this.destroy&&this.destroy()});for(r in this.timers)clearTimeout(this.timers[r]);d.removeData(NAMESPACE).removeAttr(ATTR_ID).removeAttr(ATTR_HAS).removeAttr("aria-describedby");this.options.suppress&&f&&d.attr("title",f).removeAttr(oldtitle);this._unassignEvents();this.options=
this.elements=this.cache=this.timers=this.plugins=this.mouse=NULL;delete QTIP.api[this.id]}}if(this.destroyed)return this.target;f===TRUE&&"hide"!==this.triggering||!this.rendered?d.call(this):(this.tooltip.one("tooltiphidden",$.proxy(d,this)),!this.triggering&&this.hide());return this.target};function invalidOpt(f){return f===NULL||"object"!==$.type(f)}function invalidContent(f){return!($.isFunction(f)||f&&f.attr||f.length||"object"===$.type(f)&&(f.jquery||f.then))}
function sanitizeOptions(f){var d;if(invalidOpt(f))return FALSE;invalidOpt(f.metadata)&&(f.metadata={type:f.metadata});if("content"in f){d=f.content;if(invalidOpt(d)||d.jquery||d.done)d=f.content={text:invalidContent(d)?FALSE:d};"title"in d&&($.isPlainObject(d.title)&&(d.button=d.title.button,d.title=d.title.text),invalidContent(d.title||FALSE)&&(d.title=FALSE))}"position"in f&&invalidOpt(f.position)&&(f.position={my:f.position,at:f.position});"show"in f&&invalidOpt(f.show)&&(f.show=f.show.jquery?
{target:f.show}:f.show===TRUE?{ready:TRUE}:{event:f.show});"hide"in f&&invalidOpt(f.hide)&&(f.hide=f.hide.jquery?{target:f.hide}:{event:f.hide});"style"in f&&invalidOpt(f.style)&&(f.style={classes:f.style});$.each(PLUGINS,function(){this.sanitize&&this.sanitize(f)});return f}
CHECKS=PROTOTYPE.checks={builtin:{"^id$":function(f,d,h,l){h=h===TRUE?QTIP.nextid:h;var r=NAMESPACE+"-"+h;h!==FALSE&&0<h.length&&!$("#"+r).length?(this._id=r,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):f[d]=l},"^prerender":function(f,d,h){h&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(f,d,h){this._updateContent(h)},"^content.attr$":function(f,d,h,l){this.options.content.text===
this.target.attr(l)&&this._updateContent(this.target.attr(h))},"^content.title$":function(f,d,h){if(!h)return this._removeTitle();h&&!this.elements.title&&this._createTitle();this._updateTitle(h)},"^content.button$":function(f,d,h){this._updateButton(h)},"^content.title.(text|button)$":function(f,d,h){this.set("content."+d,h)},"^position.(my|at)$":function(f,d,h){this.position||(this.position={});"string"===typeof h&&(this.position[d]=f[d]=new CORNER(h,"at"===d))},"^position.container$":function(f,
d,h){this.rendered&&this.tooltip.appendTo(h)},"^show.ready$":function(f,d,h){h&&(!this.rendered&&this.render(TRUE)||this.toggle(TRUE))},"^style.classes$":function(f,d,h,l){this.rendered&&this.tooltip.removeClass(l).addClass(h)},"^style.(width|height)":function(f,d,h){this.rendered&&this.tooltip.css(d,h)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(f,d,h){this.rendered&&this.tooltip.toggleClass(CLASS_DEFAULT,!!h)},"^events.(render|show|move|hide|focus|blur)$":function(f,
d,h){this.rendered&&this.tooltip[($.isFunction(h)?"":"un")+"bind"]("tooltip"+d,h)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var f=this.options.position;this.tooltip.attr("tracking","mouse"===f.target&&f.adjust.mouse);this._unassignEvents();this._assignEvents()}}}};function convertNotation(f,d){for(var h=0,l,r=f,t=d.split(".");r=r[t[h++]];)h<t.length&&(l=r);return[l||f,t.pop()]}
PROTOTYPE.get=function(f){if(this.destroyed)return this;f=convertNotation(this.options,f.toLowerCase());f=f[0][f[1]];return f.precedance?f.string():f};function setCallback(f,d){var h,l,r;for(h in this.checks)for(l in this.checks[h])if(r=(new RegExp(l,"i")).exec(f))d.push(r),("builtin"===h||this.plugins[h])&&this.checks[h][l].apply(this.plugins[h]||this,d)}var rmove=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,rrender=/^prerender|show\.ready/i;
PROTOTYPE.set=function(f,d){if(this.destroyed)return this;var h=this.rendered,l=FALSE,r=this.options,t;"string"===typeof f?(t=f,f={},f[t]=d):f=$.extend({},f);$.each(f,function(d,t){if(h&&rrender.test(d))delete f[d];else{var k=convertNotation(r,d.toLowerCase()),A;A=k[0][k[1]];k[0][k[1]]=t&&t.nodeType?$(t):t;l=rmove.test(d)||l;f[d]=[k[0],k[1],t,A]}});sanitizeOptions(r);this.positioning=TRUE;$.each(f,$.proxy(setCallback,this));this.positioning=FALSE;this.rendered&&0<this.tooltip[0].offsetWidth&&l&&this.reposition("mouse"===
r.position.target?NULL:this.cache.event);return this};
PROTOTYPE._update=function(f,d,h){var l=this,r=this.cache;if(!this.rendered||!f)return FALSE;$.isFunction(f)&&(f=f.call(this.elements.target,r.event,this)||"");if($.isFunction(f.then))return r.waiting=TRUE,f.then(function(f){r.waiting=FALSE;return l._update(f,d)},NULL,function(f){return l._update(f,d)});if(f===FALSE||!f&&""!==f)return FALSE;f.jquery&&0<f.length?d.empty().append(f.css({display:"block",visibility:"visible"})):d.html(f);return this._waitForContent(d).then(function(d){d.images&&d.images.length&&
l.rendered&&0<l.tooltip[0].offsetWidth&&l.reposition(r.event,!d.length)})};PROTOTYPE._waitForContent=function(f){var d=this.cache;d.waiting=TRUE;return $.Deferred().resolve([]).done(function(){d.waiting=FALSE}).promise()};PROTOTYPE._updateContent=function(f,d){this._update(f,this.elements.content,d)};PROTOTYPE._updateTitle=function(f,d){this._update(f,this.elements.title,d)===FALSE&&this._removeTitle(FALSE)};
PROTOTYPE._createTitle=function(){var f=this.elements,d=this._id+"-title";f.titlebar&&this._removeTitle();f.titlebar=$("<div />",{"class":NAMESPACE+"-titlebar "+(this.options.style.widget?createWidgetClass("header"):"")}).append(f.title=$("<div />",{id:d,"class":NAMESPACE+"-title","aria-atomic":TRUE})).insertBefore(f.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(d){$(this).toggleClass("ui-state-active ui-state-focus","down"===d.type.substr(-4))}).delegate(".qtip-close",
"mouseover mouseout",function(d){$(this).toggleClass("ui-state-hover","mouseover"===d.type)});this.options.content.button&&this._createButton()};PROTOTYPE._removeTitle=function(f){var d=this.elements;d.title&&(d.titlebar.remove(),d.titlebar=d.title=d.button=NULL,f!==FALSE&&this.reposition())};PROTOTYPE._createPosClass=function(f){return NAMESPACE+"-pos-"+(f||this.options.position.my).abbrev()};
PROTOTYPE.reposition=function(f,d){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=TRUE;var h=this.cache,l=this.tooltip,r=this.options.position,t=r.target,k=r.my,A=r.at,y=r.viewport,G=r.container,D=r.adjust,p=D.method.split(" "),w=l.outerWidth(FALSE),O=l.outerHeight(FALSE),U=0,L=0,E=l.css("position"),H={left:0,top:0},N=0<l[0].offsetWidth,V=f&&"scroll"===f.type,W=$(window),Z=G[0].ownerDocument,K=this.mouse,aa,ha;if($.isArray(t)&&2===t.length)A={x:LEFT,y:TOP},H={left:t[0],
top:t[1]};else if("mouse"===t)A={x:LEFT,y:TOP},(!D.mouse||this.options.hide.distance)&&h.origin&&h.origin.pageX?f=h.origin:!f||f&&("resize"===f.type||"scroll"===f.type)?f=h.event:K&&K.pageX&&(f=K),"static"!==E&&(H=G.offset()),Z.body.offsetWidth!==(window.innerWidth||Z.documentElement.clientWidth)&&(ha=$(document.body).offset()),H={left:f.pageX-H.left+(ha&&ha.left||0),top:f.pageY-H.top+(ha&&ha.top||0)},D.mouse&&V&&K&&(H.left-=(K.scrollX||0)-W.scrollLeft(),H.top-=(K.scrollY||0)-W.scrollTop());else{"event"===
t?f&&f.target&&"scroll"!==f.type&&"resize"!==f.type?h.target=$(f.target):f.target||(h.target=this.elements.target):"event"!==t&&(h.target=$(t.jquery?t:this.elements.target));t=h.target;t=$(t).eq(0);if(0===t.length)return this;t[0]===document||t[0]===window?(U=BROWSER.iOS?window.innerWidth:t.width(),L=BROWSER.iOS?window.innerHeight:t.height(),t[0]===window&&(H={top:(y||t).scrollTop(),left:(y||t).scrollLeft()})):PLUGINS.imagemap&&t.is("area")?aa=PLUGINS.imagemap(this,t,A,PLUGINS.viewport?p:FALSE):PLUGINS.svg&&
t&&t[0].ownerSVGElement?aa=PLUGINS.svg(this,t,A,PLUGINS.viewport?p:FALSE):(U=t.outerWidth(FALSE),L=t.outerHeight(FALSE),H=t.offset());aa&&(U=aa.width,L=aa.height,ha=aa.offset,H=aa.position);H=this.reposition.offset(t,H,G);if(3.1<BROWSER.iOS&&4.1>BROWSER.iOS||4.3<=BROWSER.iOS&&4.33>BROWSER.iOS||!BROWSER.iOS&&"fixed"===E)H.left-=W.scrollLeft(),H.top-=W.scrollTop();if(!aa||aa&&aa.adjustable!==FALSE)H.left+=A.x===RIGHT?U:A.x===CENTER?U/2:0,H.top+=A.y===BOTTOM?L:A.y===CENTER?L/2:0}H.left+=(t[0]===window?
0:D.x)+(k.x===RIGHT?-w:k.x===CENTER?-w/2:0);H.top+=D.y+(k.y===BOTTOM?-O:k.y===CENTER?-O/2:0);PLUGINS.viewport?(k=H.adjusted=PLUGINS.viewport(this,H,r,U,L,w,O),ha&&k.left&&(H.left+=ha.left),ha&&k.top&&(H.top+=ha.top),k.my&&(this.position.my=k.my)):H.adjusted={left:0,top:0};h.posClass!==(ha=this._createPosClass(this.position.my))&&l.removeClass(h.posClass).addClass(h.posClass=ha);if(!this._trigger("move",[H,y.elem||y],f))return this;delete H.adjusted;d===FALSE||!N||isNaN(H.left)||isNaN(H.top)||"mouse"===
t||!$.isFunction(r.effect)?l.css(H):$.isFunction(r.effect)&&(r.effect.call(l,this,$.extend({},H)),l.queue(function(d){$(this).css({opacity:"",height:""});BROWSER.ie&&this.style.removeAttribute("filter");d()}));this.positioning=FALSE;return this};
PROTOTYPE.reposition.offset=function(f,d,h){if(!h[0])return d;f=$(f[0].ownerDocument);var l=!!BROWSER.ie&&"CSS1Compat"!==document.compatMode;h=h[0];var r,t,k;do if("static"!==(t=$.css(h,"position"))){if("fixed"===t){t=h.getBoundingClientRect();var A=f;d.left+=-1*A.scrollLeft();d.top+=-1*A.scrollTop()}else t=$(h).position(),t.left+=parseFloat($.css(h,"borderLeftWidth"))||0,t.top+=parseFloat($.css(h,"borderTopWidth"))||0;d.left-=t.left+(parseFloat($.css(h,"marginLeft"))||0);d.top-=t.top+(parseFloat($.css(h,
"marginTop"))||0);r||"hidden"===(k=$.css(h,"overflow"))||"visible"===k||(r=$(h))}while(h=h.offsetParent);r&&(r[0]!==f[0]||l)&&(d.left+=1*r.scrollLeft(),d.top+=1*r.scrollTop());return d};
var C=(CORNER=PROTOTYPE.reposition.Corner=function(f,d){f=(""+f).replace(/([A-Z])/," $1").replace(/middle/gi,CENTER).toLowerCase();this.x=(f.match(/left|right/i)||f.match(/center/)||["inherit"])[0].toLowerCase();this.y=(f.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.forceY=!!d;var h=f.charAt(0);this.precedance="t"===h||"b"===h?Y:X}).prototype;C.invert=function(f,d){this[f]=this[f]===LEFT?RIGHT:this[f]===RIGHT?LEFT:d||this[f]};
C.string=function(f){var d=this.x,h=this.y,d=d!==h?"center"===d||"center"!==h&&(this.precedance===Y||this.forceY)?[h,d]:[d,h]:[d];return!1!==f?d.join(" "):d};C.abbrev=function(){var f=this.string(!1);return f[0].charAt(0)+(f[1]&&f[1].charAt(0)||"")};C.clone=function(){return new CORNER(this.string(),this.forceY)};
PROTOTYPE.toggle=function(f,d,h){var l=this.cache,r=this.options,t=this.tooltip;if(d){if(/over|enter/.test(d.type)&&l.event&&/out|leave/.test(l.event.type)&&r.show.target.add(d.target).length===r.show.target.length&&t.has(d.relatedTarget).length)return this;l.event=$.event.fix(d)}this.waiting&&!f&&(this.hiddenDuringWait=TRUE);if(!this.rendered)return f?this.render(1):this;if(this.destroyed||this.disabled)return this;var r=f?"show":"hide",k=this.options[r],A=this.options.position,y=this.options.content,
G=this.tooltip.css("width"),D=this.tooltip.is(":visible"),p=f||1===k.target.length,w=!d||2>k.target.length||l.target[0]===d.target,O;(typeof f).search("boolean|number")&&(f=!D);w=(D=!t.is(":animated")&&D===f&&w)?NULL:!!this._trigger(r,[90]);if(this.destroyed)return this;w!==FALSE&&f&&this.focus(d);if(!w||D)return this;$.attr(t[0],"aria-hidden",!f);f?(this.mouse&&(l.origin=$.event.fix(this.mouse)),$.isFunction(y.text)&&this._updateContent(y.text,FALSE),$.isFunction(y.title)&&this._updateTitle(y.title,
FALSE),!trackingBound&&"mouse"===A.target&&A.adjust.mouse&&($(document).bind("mousemove."+NAMESPACE,this._storeMouse),trackingBound=TRUE),G||t.css("width",t.outerWidth(FALSE)),this.reposition(d,h),G||t.css("width",""),k.solo&&("string"===typeof k.solo?$(k.solo):$(SELECTOR,k.solo)).not(t).not(k.target).qtip("hide",$.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete l.origin,trackingBound&&!$(SELECTOR+'[tracking="true"]:visible',k.solo).not(t).length&&($(document).unbind("mousemove."+NAMESPACE),
trackingBound=FALSE),this.blur(d));O=$.proxy(function(){f?(BROWSER.ie&&t[0].style.removeAttribute("filter"),t.css("overflow",""),"string"===typeof k.autofocus&&$(this.options.show.autofocus,t).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):t.css({display:"",visibility:"",opacity:"",left:"",top:""});this._trigger(f?"visible":"hidden")},this);k.effect===FALSE||p===FALSE?(t[r](),O()):$.isFunction(k.effect)?(t.stop(1,1),k.effect.call(t,this),t.queue("fx",function(d){O();d()})):
t.fadeTo(90,f?1:0,O);f&&k.target.trigger("qtip-"+this.id+"-inactive");return this};PROTOTYPE.show=function(f){return this.toggle(TRUE,f)};PROTOTYPE.hide=function(f){return this.toggle(FALSE,f)};
PROTOTYPE.focus=function(f){if(!this.rendered||this.destroyed)return this;var d=$(SELECTOR),h=this.tooltip,l=parseInt(h[0].style.zIndex,10),r=QTIP.zindex+d.length;!h.hasClass(CLASS_FOCUS)&&this._trigger("focus",[r],f)&&(l!==r&&(d.each(function(){this.style.zIndex>l&&--this.style.zIndex}),d.filter("."+CLASS_FOCUS).qtip("blur",f)),h.addClass(CLASS_FOCUS)[0].style.zIndex=r);return this};
PROTOTYPE.blur=function(f){if(!this.rendered||this.destroyed)return this;this.tooltip.removeClass(CLASS_FOCUS);this._trigger("blur",[this.tooltip.css("zIndex")],f);return this};PROTOTYPE.disable=function(f){if(this.destroyed)return this;"toggle"===f?f=!(this.rendered?this.tooltip.hasClass(CLASS_DISABLED):this.disabled):"boolean"!==typeof f&&(f=TRUE);this.rendered&&this.tooltip.toggleClass(CLASS_DISABLED,f).attr("aria-disabled",f);this.disabled=!!f;return this};PROTOTYPE.enable=function(){return this.disable(FALSE)};
PROTOTYPE._createButton=function(){var f=this,d=this.elements,h=d.tooltip,l=this.options.content.button,r="string"===typeof l?l:"Close tooltip";d.button&&d.button.remove();d.button=l.jquery?l:$("<a />",{"class":"qtip-close "+(this.options.style.widget?"":NAMESPACE+"-icon"),title:r,"aria-label":r}).prepend($("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));d.button.appendTo(d.titlebar||h).attr("role","button").click(function(d){h.hasClass(CLASS_DISABLED)||f.hide(d);return FALSE})};
PROTOTYPE._updateButton=function(f){if(!this.rendered)return FALSE;var d=this.elements.button;f?this._createButton():d.remove()};function createWidgetClass(f){return WIDGET.concat("").join(f?"-"+f+" ":" ")}
PROTOTYPE._setWidget=function(){var f=this.options.style.widget,d=this.elements,h=d.tooltip,l=h.hasClass(CLASS_DISABLED);h.removeClass(CLASS_DISABLED);CLASS_DISABLED=f?"ui-state-disabled":"qtip-disabled";h.toggleClass(CLASS_DISABLED,l);h.toggleClass("ui-helper-reset "+createWidgetClass(),f).toggleClass(CLASS_DEFAULT,this.options.style.def&&!f);d.content&&d.content.toggleClass(createWidgetClass("content"),f);d.titlebar&&d.titlebar.toggleClass(createWidgetClass("header"),f);d.button&&d.button.toggleClass(NAMESPACE+
"-icon",!f)};function delay(f,d){if(0<d)return setTimeout($.proxy(f,this),d);f.call(this)}function showMethod(f){this.tooltip.hasClass(CLASS_DISABLED)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=delay.call(this,function(){this.toggle(TRUE,f)},this.options.show.delay))}
function hideMethod(f){if(!this.tooltip.hasClass(CLASS_DISABLED)&&!this.destroyed){var d=$(f.relatedTarget),h=d.closest(SELECTOR)[0]===this.tooltip[0],l=d[0]===this.options.show.target[0];clearTimeout(this.timers.show);clearTimeout(this.timers.hide);if(this!==d[0]&&"mouse"===this.options.position.target&&h||this.options.hide.fixed&&/mouse(out|leave|move)/.test(f.type)&&(h||l))try{f.preventDefault(),f.stopImmediatePropagation()}catch(r){}else this.timers.hide=delay.call(this,function(){this.toggle(FALSE,
f)},this.options.hide.delay,this)}}function inactiveMethod(f){!this.tooltip.hasClass(CLASS_DISABLED)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=delay.call(this,function(){this.hide(f)},this.options.hide.inactive))}function repositionMethod(f){this.rendered&&0<this.tooltip[0].offsetWidth&&this.reposition(f)}PROTOTYPE._storeMouse=function(f){(this.mouse=$.event.fix(f)).type="mousemove";return this};
PROTOTYPE._bind=function(f,d,h,l,r){if(f&&h&&d.length)return l="."+this._id+(l?"-"+l:""),$(f).bind((d.split?d:d.join(l+" "))+l,$.proxy(h,r||this)),this};PROTOTYPE._unbind=function(f,d){f&&$(f).unbind("."+this._id+(d?"-"+d:""));return this};function delegate(f,d,h){$(document.body).delegate(f,(d.split?d:d.join("."+NAMESPACE+" "))+"."+NAMESPACE,function(){var d=QTIP.api[$.attr(this,ATTR_ID)];d&&!d.disabled&&h.apply(d,arguments)})}
PROTOTYPE._trigger=function(f,d,h){var l=$.Event("tooltip"+f);l.originalEvent=h&&$.extend({},h)||this.cache.event||NULL;this.triggering=f;this.tooltip.trigger(l,[this].concat(d||[]));this.triggering=FALSE;return!l.isDefaultPrevented()};
PROTOTYPE._bindEvents=function(f,d,h,l,r,t){var k=h.filter(l).add(l.filter(h)),A=[];k.length&&($.each(d,function(d,h){var k=$.inArray(h,f);-1<k&&A.push(f.splice(k,1)[0])}),A.length&&(this._bind(k,A,function(d){(this.rendered&&0<this.tooltip[0].offsetWidth?t:r).call(this,d)}),h=h.not(k),l=l.not(k)));this._bind(h,f,r);this._bind(l,d,t)};
PROTOTYPE._assignInitialEvents=function(f){function d(d){if(this.disabled||this.destroyed)return FALSE;this.cache.event=d&&$.event.fix(d);this.cache.target=d&&$(d.target);clearTimeout(this.timers.show);this.timers.show=delay.call(this,function(){this.render("object"===typeof d||h.show.ready)},h.show.delay)}var h=this.options,l=h.show.target,r=h.hide.target,t=h.show.event?$.trim(""+h.show.event).split(" "):[],k=h.hide.event?$.trim(""+h.hide.event).split(" "):[];this._bind(this.elements.target,["remove",
"removeqtip"],function(d){this.destroy(!0)},"destroy");/mouse(over|enter)/i.test(h.show.event)&&!/mouse(out|leave)/i.test(h.hide.event)&&k.push("mouseleave");this._bind(l,"mousemove",function(d){this._storeMouse(d);this.cache.onTarget=TRUE});this._bindEvents(t,k,l,r,d,function(){if(!this.timers)return FALSE;clearTimeout(this.timers.show)});(h.show.ready||h.prerender)&&d.call(this,f)};
PROTOTYPE._assignEvents=function(){var f=this,d=this.options,h=d.position,l=this.tooltip,r=d.show.target,t=d.hide.target,k=h.container,A=h.viewport,y=$(document);$(document.body);var G=$(window),D=d.show.event?$.trim(""+d.show.event).split(" "):[],p=d.hide.event?$.trim(""+d.hide.event).split(" "):[];$.each(d.events,function(d,h){f._bind(l,"toggle"===d?["tooltipshow","tooltiphide"]:["tooltip"+d],h,null,l)});/mouse(out|leave)/i.test(d.hide.event)&&"window"===d.hide.leave&&this._bind(y,["mouseout","blur"],
function(d){/select|option/.test(d.target.nodeName)||d.relatedTarget||this.hide(d)});d.hide.fixed?t=t.add(l.addClass(CLASS_FIXED)):/mouse(over|enter)/i.test(d.show.event)&&this._bind(t,"mouseleave",function(){clearTimeout(this.timers.show)});-1<(""+d.hide.event).indexOf("unfocus")&&this._bind(k.closest("html"),["mousedown","touchstart"],function(f){var h=$(f.target),k=this.rendered&&!this.tooltip.hasClass(CLASS_DISABLED)&&0<this.tooltip[0].offsetWidth,l=0<h.parents(SELECTOR).filter(this.tooltip[0]).length;
h[0]===this.target[0]||h[0]===this.tooltip[0]||l||this.target.has(h[0]).length||!k||d.hide.nounfocus&&-1!==d.hide.nounfocus.indexOf(h.attr("id"))||this.hide(f)});"number"===typeof d.hide.inactive&&(this._bind(r,"qtip-"+this.id+"-inactive",inactiveMethod,"inactive"),this._bind(t.add(l),QTIP.inactiveEvents,inactiveMethod));this._bindEvents(D,p,r,t,showMethod,hideMethod);this._bind(r.add(l),"mousemove",function(f){if("number"===typeof d.hide.distance){var h=this.cache.origin||{},k=this.options.hide.distance,
l=Math.abs;(l(f.pageX-h.pageX)>=k||l(f.pageY-h.pageY)>=k)&&this.hide(f)}this._storeMouse(f)});"mouse"===h.target&&h.adjust.mouse&&(d.hide.event&&this._bind(r,["mouseenter","mouseleave"],function(d){if(!this.cache)return FALSE;this.cache.onTarget="mouseenter"===d.type}),this._bind(y,"mousemove",function(d){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(CLASS_DISABLED)&&0<this.tooltip[0].offsetWidth&&this.reposition(d)}));(h.adjust.resize||A.length)&&this._bind($.event.special.resize?A:
G,"resize",repositionMethod);h.adjust.scroll&&this._bind(G.add(h.container),"scroll",repositionMethod)};PROTOTYPE._unassignEvents=function(){var f=this.options,f=$($.grep([this.elements.target[0],f.show.target[0],f.hide.target[0],this.rendered&&this.tooltip[0],f.position.container[0],f.position.viewport[0],f.position.container.closest("html")[0],window,document],function(d){return"object"===typeof d}));this._unbind(f)._unbind(f,"destroy")._unbind(f,"inactive")};
$(function(){delegate(SELECTOR,["mouseenter","mouseleave"],function(f){var d="mouseenter"===f.type,h=$(f.currentTarget),l=$(f.relatedTarget||f.target),r=this.options;d?(this.focus(f),h.hasClass(CLASS_FIXED)&&!h.hasClass(CLASS_DISABLED)&&clearTimeout(this.timers.hide)):"mouse"===r.position.target&&r.position.adjust.mouse&&r.hide.event&&r.show.target&&!l.closest(r.show.target[0]).length&&this.hide(f);h.toggleClass(CLASS_HOVER,d)});delegate("["+ATTR_ID+"]",INACTIVE_EVENTS,inactiveMethod)});
function init(f,d,h){var l,r,t,k=$(document.body),A=f[0]===document?k:f;r=f.metadata?f.metadata(h.metadata):NULL;var y="html5"===h.metadata.type&&r?r[h.metadata.name]:NULL,G=f.data(h.metadata.name||"qtipopts");try{G="string"===typeof G?$.parseJSON(G):G}catch(D){}r=$.extend(TRUE,{},QTIP.defaults,h,"object"===typeof G?sanitizeOptions(G):NULL,sanitizeOptions(y||r));h=r.position;r.id=d;if("boolean"===typeof r.content.text)if(l=f.attr(r.content.attr),r.content.attr!==FALSE&&l)r.content.text=l;else return FALSE;
h.container.length||(h.container=k);h.target===FALSE&&(h.target=A);r.show.target===FALSE&&(r.show.target=A);r.show.solo===TRUE&&(r.show.solo=h.container.closest("body"));r.hide.target===FALSE&&(r.hide.target=A);r.position.viewport===TRUE&&(r.position.viewport=h.container);h.container=h.container.eq(0);h.at=new CORNER(h.at,TRUE);h.my=new CORNER(h.my);if(f.data(NAMESPACE))if(r.overwrite)f.qtip("destroy",!0);else if(r.overwrite===FALSE)return FALSE;f.attr(ATTR_HAS,d);r.suppress&&(t=f.attr("title"))&&
f.removeAttr("title").attr(oldtitle,t).attr("title","");d=new QTip(f,r,d,!!l);f.data(NAMESPACE,d);return d}
QTIP=$.fn.qtip=function(f,d,h){var l=(""+f).toLowerCase(),r=NULL,t=$.makeArray(arguments).slice(1),k=t[t.length-1],A=this[0]?$.data(this[0],NAMESPACE):NULL;if(!arguments.length&&A||"api"===l)return A;if("string"===typeof f)return this.each(function(){var f=$.data(this,NAMESPACE);if(!f)return TRUE;k&&k.timeStamp&&(f.cache.event=k);if(!d||"option"!==l&&"options"!==l)f[l]&&f[l].apply(f,t);else if(void 0!==h||$.isPlainObject(d))f.set(d,h);else return r=f.get(d),FALSE}),r!==NULL?r:this;if("object"===typeof f||
!arguments.length)return A=sanitizeOptions($.extend(TRUE,{},f)),this.each(function(d){var f;d=$.isArray(A.id)?A.id[d]:A.id;d=!d||d===FALSE||1>d.length||QTIP.api[d]?QTIP.nextid++:d;f=init($(this),d,A);if(f===FALSE)return TRUE;QTIP.api[d]=f;$.each(PLUGINS,function(){"initialize"===this.initialize&&this(f)});f._assignInitialEvents(k)})};$.qtip=QTip;QTIP.api={};
$.each({attr:function(f,d){if(this.length){var h=this[0],l=$.data(h,"qtip");if("title"===f&&l&&"object"===typeof l&&l.options.suppress){if(2>arguments.length)return $.attr(h,oldtitle);l&&"title"===l.options.content.attr&&l.cache.attr&&l.set("content.text",d);return this.attr(oldtitle,d)}}return $.fn["attr"+replaceSuffix].apply(this,arguments)},clone:function(f){$([]);var d=$.fn["clone"+replaceSuffix].apply(this,arguments);f||d.filter("["+oldtitle+"]").attr("title",function(){return $.attr(this,oldtitle)}).removeAttr(oldtitle);
return d}},function(f,d){if(!d||$.fn[f+replaceSuffix])return TRUE;var h=$.fn[f+replaceSuffix]=$.fn[f];$.fn[f]=function(){return d.apply(this,arguments)||h.apply(this,arguments)}});$.ui||($["cleanData"+replaceSuffix]=$.cleanData,$.cleanData=function(f){for(var d=0,h;(h=$(f[d])).length;d++)if(h.attr(ATTR_HAS))try{h.triggerHandler("removeqtip")}catch(l){}$["cleanData"+replaceSuffix].apply(this,arguments)});QTIP.version="@@VERSION";QTIP.nextid=0;QTIP.inactiveEvents=INACTIVE_EVENTS;QTIP.zindex=15E3;
QTIP.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,suppress:TRUE,content:{text:TRUE,attr:"title",title:FALSE,button:FALSE},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,scroll:TRUE,resize:TRUE,method:"flipinvert flipinvert"},effect:function(f,d,h){$(this).animate(d,{duration:200,queue:FALSE})}},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE,autofocus:FALSE},hide:{target:FALSE,event:"mouseleave",
effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE,leave:"window",distance:FALSE},style:{classes:"",widget:FALSE,width:FALSE,height:FALSE,def:TRUE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,visible:NULL,hidden:NULL,focus:NULL,blur:NULL}};var TIP,TIPNS=".qtip-tip",MARGIN="margin",BORDER="border",COLOR="color",BG_COLOR="background-color",TRANSPARENT="transparent",IMPORTANT=" !important",INVALID=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i;
function camel(f){return f.charAt(0).toUpperCase()+f.slice(1)}var cssProps={},cssPrefixes=["Webkit","O","Moz","ms"];function vendorCss(f,d){var h=d.charAt(0).toUpperCase()+d.slice(1),h=(d+" "+cssPrefixes.join(h+" ")+h).split(" "),l,r,t=0;if(cssProps[d])return f.css(cssProps[d]);for(;l=h[t++];)if(void 0!==(r=f.css(l)))return cssProps[d]=l,r}function intCss(f,d){return Math.ceil(parseFloat(vendorCss(f,d)))}
function Tip(f,d){this._ns="tip";this.options=d;this.offset=d.offset;this.size=[d.width,d.height];this.init(this.qtip=f)}
$.extend(Tip.prototype,{init:function(f){this.element=f.elements.tip=$("<div><div></div></div>",{"class":NAMESPACE+"-tip"}).prependTo(f.tooltip);f._bind(f.tooltip,"tooltipmove",this.reposition,this._ns,this);this.create()},_swapDimensions:function(){this.size[0]=this.options.height;this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width;this.size[1]=this.options.height},_useTitle:function(f){return 0},_parseCorner:function(f){var d=this.qtip.options.position.my;
f===FALSE||d===FALSE?f=FALSE:f===TRUE?f=new CORNER(d.string()):f.string||(f=new CORNER(f),f.fixed=TRUE);return f},_parseWidth:function(f,d,h){var l=this.qtip.elements;d=BORDER+camel(d)+"Width";return(h?intCss(h,d):intCss(l.content,d)||intCss(this._useTitle(f)&&l.titlebar||l.content,d)||intCss(l.tooltip,d))||0},_parseRadius:function(f){var d=this.qtip.elements,h=BORDER+camel(f.y)+camel(f.x)+"Radius";return 9>BROWSER.ie?0:intCss(this._useTitle(f)&&d.titlebar||d.content,h)||intCss(d.tooltip,h)||0},_calculateSize:function(f){var d=
f.precedance===Y,h=this.options.width,l=this.options.height,r="c"===f.abbrev(),t=(d?h:l)*(r?.5:1),k=Math.pow;f=Math.round;var A=Math.sqrt(k(t,2)+k(l,2)),t=[this.border/t*A,this.border/l*A];t[2]=Math.sqrt(k(t[0],2)-k(this.border,2));t[3]=Math.sqrt(k(t[1],2)-k(this.border,2));r=(A+t[2]+t[3]+(r?0:t[0]))/A;h=[f(r*h),f(r*l)];return d?h:h.reverse()},create:function(){var f=this.corner=this._parseCorner(this.options.corner);if(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())this.qtip.cache.corner=
f.clone(),this.update();this.element.toggle(this.enabled);return this.corner},update:function(f,d){if(!this.enabled)return this;var h=this.element;h.children();var l=this.options.mimic;f||(f=this.qtip.cache.corner||this.corner);l!==FALSE&&(l=new CORNER(l),l.precedance=f.precedance,"inherit"===l.x?l.x=f.x:"inherit"===l.y?l.y=f.y:l.x===l.y&&(l[f.precedance]=f[f.precedance]));f.precedance===X?this._swapDimensions():this._resetDimensions();this.border=0;l=this.size=this._calculateSize(f);h.css({width:0,
height:0});h[0].className="qtip-tip tip-x-"+f.x+" tip-y-"+f.y;d!==FALSE&&this.calculate(f,l)},calculate:function(f,d){if(!this.enabled)return FALSE;var h=this,l=this.qtip.elements,r=this.element,t=this.options.offset;l.tooltip.hasClass("ui-widget");var k={},A,y;f=f||this.corner;A=f.precedance;d=d||this._calculateSize(f);y=[f.x,f.y];A===X&&y.reverse();$.each(y,function(r,y){var p,w,D;y===CENTER?(p=A===Y?LEFT:TOP,k[p]="50%",k[MARGIN+"-"+p]=-Math.round(d[A===Y?0:1]/2)+t):(p=h._parseWidth(f,y,l.tooltip),
w=h._parseWidth(f,y,l.content),D=h._parseRadius(f),k[y]=r?w:t+(D>p?D:-p))});k[f[A]]-=d[A===X?0:1];r.css({margin:"",top:"",bottom:"",left:"",right:""}).css(k);return k},reposition:function(f,d,h,l){function r(d,f,h,l,p){d===SHIFT&&k.precedance===f&&A[l]&&k[h]!==CENTER?k.precedance=k.precedance===X?Y:X:d!==SHIFT&&A[l]&&(k[f]=k[f]===CENTER?0<A[l]?l:p:k[f]===l?p:l)}function t(d,f,l){k[d]===CENTER?D[MARGIN+"-"+f]=y[d]=G[MARGIN+"-"+f]-A[f]:(p=void 0!==G[l]?[A[f],-G[f]]:[-A[f],G[f]],(y[d]=Math.max(p[0],
p[1]))>p[0]&&(h[f]-=A[f],y[f]=FALSE),D[void 0!==G[l]?l:f]=y[d])}if(this.enabled){f=d.cache;var k=this.corner.clone(),A=h.adjusted;l=d.options.position.adjust.method.split(" ");d=l[0];l=l[1]||l[0];var y={left:FALSE,top:FALSE,x:0,y:0},G,D={},p;this.corner.fixed!==TRUE&&(r(d,X,Y,LEFT,RIGHT),r(l,Y,X,TOP,BOTTOM),k.string()===f.corner.string()&&f.cornerTop===A.top&&f.cornerLeft===A.left||this.update(k,FALSE));G=this.calculate(k);void 0!==G.right&&(G.left=-G.right);void 0!==G.bottom&&(G.top=-G.bottom);G.user=
this.offset;(y.left=d===SHIFT&&!!A.left)&&t(X,LEFT,RIGHT);(y.top=l===SHIFT&&!!A.top)&&t(Y,TOP,BOTTOM);this.element.css(D).toggle(!(y.x&&y.y||k.x===CENTER&&y.y||k.y===CENTER&&y.x));h.left-=G.left.charAt?G.user:d!==SHIFT||y.top||!y.left&&!y.top?G.left+this.border:0;h.top-=G.top.charAt?G.user:l!==SHIFT||y.left||!y.left&&!y.top?G.top+this.border:0;f.cornerLeft=A.left;f.cornerTop=A.top;f.corner=k.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns);this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}});
TIP=PLUGINS.tip=function(f){return new Tip(f,f.options.style.tip)};TIP.initialize="render";TIP.sanitize=function(f){if(f.style&&"tip"in f.style){var d=f.style.tip;"object"!==typeof d&&(d=f.style.tip={corner:d});/string|boolean/i.test(typeof d.corner)||(d.corner=TRUE)}};CHECKS.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create();this.qtip.reposition()},"^style.tip.(height|width)$":function(f){this.size=[f.width,f.height];this.update();this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}};
$.extend(TRUE,QTIP.defaults,{style:{tip:{corner:TRUE,mimic:FALSE,width:6,height:6,border:TRUE,offset:0}}});
PLUGINS.viewport=function(f,d,h,l,r,t,k){function A(f,h,k,l,r,t,w,y,A){var G=d[r],L=D[f],O=p[f],U=L===r?A:L===t?-A:-A/2,aa=Z[r]+K[r]-(N?0:H[r]),ha=aa-G;A=G+A-(w===WIDTH?V:W)-aa;h=U-(D.precedance===f||L===D[h]?O===r?y:O===t?-y:-y/2:0)-(O===CENTER?y/2:0);k===SHIFT?(h=(L===r?1:-1)*U,d[r]+=0<ha?ha:0<A?-A:0,d[r]=Math.max(-H[r]+K[r],G-h,Math.min(Math.max(-H[r]+K[r]+(w===WIDTH?V:W),G+h),d[r],"center"===L?G-U:1E9))):(l*=k===FLIPINVERT?2:0,0<ha&&(L!==r||-10<A)?(d[r]-=h+l,E.invert(f,r)):-10<A&&(L!==t||0<ha)&&
(d[r]-=(L===CENTER?-h:h)+l,E.invert(f,t)),d[r]<Z&&-d[r]>A&&(d[r]=G,E=D.clone()));return d[r]-G}var y=h.target,G=f.elements.tooltip,D=h.my,p=h.at;f=h.adjust;var w=f.method.split(" "),O=w[0],w=w[1]||w[0],U=h.viewport,L=h.container;h={left:0,top:0};var E,H,N,V,W,Z,K;if(!U.jquery||y[0]===window||y[0]===document.body||"none"===f.method)return h;H=L.offset()||h;N="static"===L.css("position");y="fixed"===G.css("position");V=U[0]===window?U.width():U.outerWidth(FALSE);W=U[0]===window?U.height():U.outerHeight(FALSE);
Z={left:y?0:U.scrollLeft(),top:y?0:U.scrollTop()};K=U&&U[0]!=window?U.offset()||h:h;if("shift"!==O||"shift"!==w)E=D.clone();return h={left:"none"!==O?A(X,Y,O,f.x,LEFT,RIGHT,WIDTH,l,t):0,top:"none"!==w?A(Y,X,w,f.y,TOP,BOTTOM,HEIGHT,r,k):0,my:E}};
