if ( !window['faversion'] ) { window['faversion'] = 5.1; } if ( !window['revision'] ) { window['revision'] = '89323'; } if ( !window['_csrfToken'] ) { window['_csrfToken'] = '6779F299-F811-A703-002C8EEFE2F0FC65'; } if ( !window['_namespace'] ) { window['_namespace'] = 'teacher'; }if ( !window['_responsive'] ) { window['_responsive'] = true; }window['_enablejsoncompression'] = false;window['_enableomnisearch'] = false;window['_debugoutput'] = false;if (!window.PDFJS) { window.PDFJS = {}; } PDFJS.workerSrc = "include-js.cfm?r=89323&v=9999&responsiveui=true&lib=pdfannotate.worker.js"; (function(b,d,c){void 0!==c.require?(c.moduleloader="require",void 0===c.basePath&&(c.basePath=""),require.config({baseUrl:c.basePath+"include-js.cfm?r="+c.revision+"&lib=",skipDataMain:!0})):void 0!==c.curl&&(c.moduleloader="curl",void 0===c.basePath&&(c.basePath=""),curl({baseUrl:c.basePath+"include-js.cfm?r="+c.revision+"&lib="}));b(top.window).on("orientationchange",function(){b(parent.document.getElementsByTagName("frameset")).each(function(){b(this).attr({cols:b(this).attr("cols")})});b.fiber.topic("resize").publish({})});
b(function(){b("body").layoutManager().inlineView().removeClass("no-js");b("#main-header").header();b("#user-logout").on("click",function(a){d.redirect("ui.web.user.logout"+(!0===b("body").hasClass("responsive-ui")?"&responsiveui=true":""))});b("#user-disable-ghost").on("click",function(a){d.redirect("kiosk.user.ghosting.disable"+(!0===b("body").hasClass("responsive-ui")?"&responsiveui=true":""))});0<b("#user-important").length&&d.topic("notifications.important.count",{server:!0}).subscribe(function(a){var e=
b("#user-important").find("span");b("#user-important").attr("data-alertcount",a.data);e.html()!=a.data&&e.html(a.data)})});d.topic("user.unauthorized").unsubscribe(d.error).subscribe(function(a){var e=document.getElementById("unauthorized-popup"),g,f;g=a&&void 0!==a.redirect?a.redirect:"";f=a&&void 0!==a.go?a.go:"";e?(a=b(e),a.dialogForm("load",{redirect:g,go:f})):(e=document.createElement("div"),e.id="unauthorized-popup",e.setAttribute("title","Login"),a=b(e),a.on("inlineformsuccess",function(b,
a){if(void 0!==a.rememberme&&"Y"==a.rememberme)try{localStorage.setItem(c._namespace+"u",a.user),localStorage.setItem(c._namespace+"p",a.token)}catch(e){}a.__redirect&&""!==a.__redirect||d.topic("user.continued").publish(a)}).on("inlineformsetup",function(){try{0<localStorage.getItem(c._namespace+"u").length&&0<localStorage.getItem(c._namespace+"p").length&&b(this).find("form").inlineForm("process",{username:localStorage.getItem(c._namespace+"u"),password:localStorage.getItem(c._namespace+"p"),evalues:!0},
!0)}catch(a){}}).on("click",".forgotpassword",function(){b("#unauthorized-popup").dialogForm("close");b.fiber.topic("user.password.request").publish({redirect:!0,go:f})}).dialogForm({destroyOnClose:!1,removeOnClose:!0,view:"ui.web.user.dialog.login",targetproperties:"redirect,go",data:{redirect:g,go:f}}));return!1});d.topic("user.password.reset").unsubscribe(d.error).subscribe(function(a){var e=b("#password-reset-popup"),c,d="";c=a&&void 0!==a.go?a.go:"";1>e.length?(void 0!==a.resetkey&&(d=a.resetkey),
e=b('<div title="Login" id="password-reset-popup" data-resetkey="'+d+'" />'),e.on("click",'button:contains("Cancel")',function(){b.fiber.topic("user.unauthorized").publish({redirect:!0,go:c})}).on("inlineformsuccess",function(a){b(a.currentTarget).dialogForm("close")}).dialogForm({destroyOnClose:!1,removeOnClose:!0,view:"ui.web.user.dialog.password.reset",data:{go:c}})):e.dialogForm("load",{go:c});return!1});d.topic("user.password.request").unsubscribe(d.error).subscribe(function(a){var c=b("#password-request-popup"),
d;d=a&&void 0!==a.go?a.go:"";1>c.length?(c=b('<div title="Login" id="password-request-popup" />'),c.on("click",'button:contains("Cancel")',function(){b.fiber.topic("user.unauthorized").publish({redirect:!0,go:d})}).on("inlineformsuccess",function(a){b(a.currentTarget).dialogForm("close")}).dialogForm({destroyOnClose:!1,removeOnClose:!0,view:"ui.web.user.dialog.password.request",data:{go:d}})):c.dialogForm("load",{go:d});return!1})})(jQuery,_fiber,window);
